{"/home/travis/build/npmtest/node-npmtest-q-io/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":2,"38":2,"39":1,"40":2,"41":2,"42":1,"43":2,"44":2,"45":1,"46":2,"47":2,"48":1,"49":1,"50":1,"51":1,"52":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1,1],"10":[1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":2,"9":2,"10":2,"11":2,"12":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":102,"loc":{"start":{"line":102,"column":83},"end":{"line":105,"column":10}},"skip":true},"7":{"name":"(anonymous_7)","line":113,"loc":{"start":{"line":113,"column":77},"end":{"line":116,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":129,"loc":{"start":{"line":129,"column":12},"end":{"line":129,"column":40}},"skip":true},"9":{"name":"(anonymous_9)","line":137,"loc":{"start":{"line":137,"column":77},"end":{"line":140,"column":10}},"skip":true},"10":{"name":"(anonymous_10)","line":148,"loc":{"start":{"line":148,"column":83},"end":{"line":151,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":159,"loc":{"start":{"line":159,"column":79},"end":{"line":162,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":170,"loc":{"start":{"line":170,"column":75},"end":{"line":173,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":185,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":46}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":184,"column":5}},"24":{"start":{"line":92,"column":8},"end":{"line":94,"column":63}},"25":{"start":{"line":95,"column":8},"end":{"line":95,"column":14}},"26":{"start":{"line":102,"column":8},"end":{"line":111,"column":10},"skip":true},"27":{"start":{"line":109,"column":12},"end":{"line":109,"column":55},"skip":true},"28":{"start":{"line":110,"column":12},"end":{"line":110,"column":48},"skip":true},"29":{"start":{"line":113,"column":8},"end":{"line":126,"column":10},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":76},"skip":true},"31":{"start":{"line":121,"column":12},"end":{"line":121,"column":73},"skip":true},"32":{"start":{"line":122,"column":12},"end":{"line":122,"column":74},"skip":true},"33":{"start":{"line":123,"column":12},"end":{"line":123,"column":79},"skip":true},"34":{"start":{"line":124,"column":12},"end":{"line":124,"column":25},"skip":true},"35":{"start":{"line":125,"column":12},"end":{"line":125,"column":45},"skip":true},"36":{"start":{"line":128,"column":8},"end":{"line":135,"column":14},"skip":true},"37":{"start":{"line":133,"column":16},"end":{"line":133,"column":29},"skip":true},"38":{"start":{"line":134,"column":16},"end":{"line":134,"column":55},"skip":true},"39":{"start":{"line":137,"column":8},"end":{"line":146,"column":10},"skip":true},"40":{"start":{"line":144,"column":12},"end":{"line":144,"column":25},"skip":true},"41":{"start":{"line":145,"column":12},"end":{"line":145,"column":45},"skip":true},"42":{"start":{"line":148,"column":8},"end":{"line":157,"column":10},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":25},"skip":true},"44":{"start":{"line":156,"column":12},"end":{"line":156,"column":48},"skip":true},"45":{"start":{"line":159,"column":8},"end":{"line":168,"column":10},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":25},"skip":true},"47":{"start":{"line":167,"column":12},"end":{"line":167,"column":46},"skip":true},"48":{"start":{"line":170,"column":8},"end":{"line":179,"column":10},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":94},"skip":true},"50":{"start":{"line":178,"column":12},"end":{"line":178,"column":48},"skip":true},"51":{"start":{"line":182,"column":8},"end":{"line":182,"column":35},"skip":true},"52":{"start":{"line":183,"column":8},"end":{"line":183,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":95,"column":14}},{"start":{"line":101,"column":4},"end":{"line":183,"column":14},"skip":true}]},"9":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":18},"end":{"line":92,"column":32}},{"start":{"line":93,"column":12},"end":{"line":93,"column":53}},{"start":{"line":94,"column":12},"end":{"line":94,"column":61}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":45},"end":{"line":102,"column":79},"skip":true},{"start":{"line":102,"column":83},"end":{"line":111,"column":9},"skip":true}]},"11":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":42},"end":{"line":113,"column":73},"skip":true},{"start":{"line":113,"column":77},"end":{"line":126,"column":9},"skip":true}]},"12":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":48},"end":{"line":128,"column":85},"skip":true},{"start":{"line":129,"column":12},"end":{"line":135,"column":13},"skip":true}]},"13":{"line":137,"type":"binary-expr","locations":[{"start":{"line":137,"column":42},"end":{"line":137,"column":73},"skip":true},{"start":{"line":137,"column":77},"end":{"line":146,"column":9},"skip":true}]},"14":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":45},"end":{"line":148,"column":79},"skip":true},{"start":{"line":148,"column":83},"end":{"line":157,"column":9},"skip":true}]},"15":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":43},"end":{"line":159,"column":75},"skip":true},{"start":{"line":159,"column":79},"end":{"line":168,"column":9},"skip":true}]},"16":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":41},"end":{"line":170,"column":71},"skip":true},{"start":{"line":170,"column":75},"end":{"line":179,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_q_io */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireExampleJsFromReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"92":1,"95":1,"102":1,"109":1,"110":1,"113":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"128":1,"133":2,"134":2,"137":1,"144":2,"145":2,"148":1,"155":2,"156":2,"159":1,"166":2,"167":2,"170":1,"177":1,"178":1,"182":1,"183":1}},"/home/travis/build/npmtest/node-npmtest-q-io/lib.npmtest_q_io.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/lib.npmtest_q_io.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":49}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":55}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_q_io */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_q_io = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_q_io = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-q-io/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":2,"38":2,"39":2,"40":2,"41":0,"42":2,"43":2,"44":2,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,2],"16":[2,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":314,"loc":{"start":{"line":314,"column":32},"end":{"line":314,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":325,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":324,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":294,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":302,"column":8},"end":{"line":302,"column":82},"skip":true},"70":{"start":{"line":305,"column":8},"end":{"line":307,"column":9},"skip":true},"71":{"start":{"line":306,"column":12},"end":{"line":306,"column":82},"skip":true},"72":{"start":{"line":309,"column":8},"end":{"line":311,"column":9},"skip":true},"73":{"start":{"line":310,"column":12},"end":{"line":310,"column":18},"skip":true},"74":{"start":{"line":312,"column":8},"end":{"line":312,"column":54},"skip":true},"75":{"start":{"line":313,"column":8},"end":{"line":313,"column":69},"skip":true},"76":{"start":{"line":314,"column":8},"end":{"line":322,"column":36},"skip":true},"77":{"start":{"line":315,"column":12},"end":{"line":315,"column":61},"skip":true},"78":{"start":{"line":316,"column":12},"end":{"line":319,"column":13},"skip":true},"79":{"start":{"line":317,"column":16},"end":{"line":317,"column":75},"skip":true},"80":{"start":{"line":318,"column":16},"end":{"line":318,"column":23},"skip":true},"81":{"start":{"line":320,"column":12},"end":{"line":320,"column":38},"skip":true},"82":{"start":{"line":321,"column":12},"end":{"line":321,"column":27},"skip":true},"83":{"start":{"line":323,"column":8},"end":{"line":323,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":48}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":323,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":12},"end":{"line":295,"column":62},"skip":true},{"start":{"line":296,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":302,"type":"binary-expr","locations":[{"start":{"line":302,"column":43},"end":{"line":302,"column":75},"skip":true},{"start":{"line":302,"column":79},"end":{"line":302,"column":81},"skip":true}]},"25":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true},{"start":{"line":305,"column":8},"end":{"line":305,"column":8},"skip":true}]},"26":{"line":309,"type":"if","locations":[{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true},{"start":{"line":309,"column":8},"end":{"line":309,"column":8},"skip":true}]},"27":{"line":312,"type":"binary-expr","locations":[{"start":{"line":312,"column":27},"end":{"line":312,"column":43},"skip":true},{"start":{"line":312,"column":47},"end":{"line":312,"column":53},"skip":true}]},"28":{"line":316,"type":"if","locations":[{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true},{"start":{"line":316,"column":12},"end":{"line":316,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-q-io && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_q_io */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_q_io","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_q_io.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        local.assetsDict['/assets.npmtest_q_io.rollup.js'] =","            local.assetsDict['/assets.npmtest_q_io.rollup.js'] ||","            local.fs.readFileSync(","                // buildCustomOrg-hack","                local.npmtest_q_io.__dirname +","                    '/lib.npmtest_q_io.js',","                'utf8'","            ).replace((/^#!/), '//');","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":2,"127":2,"128":2,"129":2,"130":1,"133":2,"134":2,"139":2,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"294":1,"302":1,"305":1,"306":1,"309":1,"310":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"320":1,"321":1,"323":1}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/buffer-stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/buffer-stream.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":1,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"BufferStream","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":57}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":19},"end":{"line":24,"column":31}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":30},"end":{"line":29,"column":42}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":31},"end":{"line":38,"column":48}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":31},"end":{"line":50,"column":43}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":33},"end":{"line":55,"column":45}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"4":{"start":{"line":6,"column":0},"end":{"line":19,"column":1}},"5":{"start":{"line":7,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":49}},"7":{"start":{"line":10,"column":4},"end":{"line":14,"column":5}},"8":{"start":{"line":11,"column":8},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":11},"end":{"line":14,"column":5}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":26}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":28}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":26}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":28}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"15":{"start":{"line":21,"column":0},"end":{"line":27,"column":2}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":20}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":30}},"18":{"start":{"line":24,"column":4},"end":{"line":26,"column":7}},"19":{"start":{"line":25,"column":8},"end":{"line":25,"column":62}},"20":{"start":{"line":29,"column":0},"end":{"line":36,"column":2}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":15}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":39}},"23":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"24":{"start":{"line":33,"column":8},"end":{"line":33,"column":48}},"25":{"start":{"line":35,"column":4},"end":{"line":35,"column":29}},"26":{"start":{"line":38,"column":0},"end":{"line":48,"column":2}},"27":{"start":{"line":39,"column":4},"end":{"line":45,"column":5}},"28":{"start":{"line":40,"column":8},"end":{"line":40,"column":57}},"29":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"30":{"start":{"line":43,"column":12},"end":{"line":43,"column":96}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":29}},"32":{"start":{"line":47,"column":4},"end":{"line":47,"column":23}},"33":{"start":{"line":50,"column":0},"end":{"line":53,"column":2}},"34":{"start":{"line":51,"column":4},"end":{"line":51,"column":26}},"35":{"start":{"line":52,"column":4},"end":{"line":52,"column":23}},"36":{"start":{"line":55,"column":0},"end":{"line":58,"column":2}},"37":{"start":{"line":56,"column":4},"end":{"line":56,"column":26}},"38":{"start":{"line":57,"column":4},"end":{"line":57,"column":23}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"3":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":11},"end":{"line":12,"column":11}},{"start":{"line":12,"column":11},"end":{"line":12,"column":11}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"5":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":4}},{"start":{"line":39,"column":4},"end":{"line":39,"column":4}}]},"6":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]}},"code":["","var Q = require(\"q\");","var Reader = require(\"./reader\");","","module.exports = BufferStream;","function BufferStream(chunks, charset) {","    if (!(this instanceof BufferStream)) {","        return new BufferStream(chunks, charset);","    }","    if (!chunks) {","        chunks = [];","    } else if (!Array.isArray(chunks)) {","        chunks = [chunks];","    }","    this._charset = charset;","    this._chunks = chunks;","    this._close = Q.defer();","    this.closed = this._close.promise;","}","","BufferStream.prototype.forEach = function (write, thisp) {","    var self = this;","    var chunks = self._chunks;","    return Q.fcall(function () {","        chunks.splice(0, chunks.length).forEach(write, thisp);","    });","};","","BufferStream.prototype.read = function () {","    var result;","    result = Reader.join(this._chunks);","    if (this._charset) {","        result = result.toString(this._charset);","    }","    return Q.resolve(result);","};","","BufferStream.prototype.write = function (chunk) {","    if (this._charset) {","        chunk = new Buffer(String(chunk), this._charset);","    } else {","        if (!(chunk instanceof Buffer)) {","            throw new Error(\"Can't write strings to buffer stream without a charset: \" + chunk);","        }","    }","    this._chunks.push(chunk);","    return Q.resolve();","};","","BufferStream.prototype.close = function () {","    this._close.resolve();","    return Q.resolve();","};","","BufferStream.prototype.destroy = function () {","    this._close.resolve();","    return Q.resolve();","};","",""],"l":{"2":1,"3":1,"5":1,"6":1,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"21":1,"22":0,"23":0,"24":0,"25":0,"29":1,"30":0,"31":0,"32":0,"33":0,"35":0,"38":1,"39":0,"40":0,"42":0,"43":0,"46":0,"47":0,"50":1,"51":0,"52":0,"55":1,"56":0,"57":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/reader.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/reader.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"Reader","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":34}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":42}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":22},"end":{"line":30,"column":34}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":23},"end":{"line":35,"column":40}}},"5":{"name":"slurp","line":44,"loc":{"start":{"line":44,"column":4},"end":{"line":44,"column":21}}},"6":{"name":"(anonymous_6)","line":60,"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":28}}},"7":{"name":"(anonymous_7)","line":63,"loc":{"start":{"line":63,"column":28},"end":{"line":63,"column":40}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":19},"end":{"line":77,"column":36}}},"9":{"name":"(anonymous_9)","line":81,"loc":{"start":{"line":81,"column":35},"end":{"line":81,"column":47}}},"10":{"name":"(anonymous_10)","line":86,"loc":{"start":{"line":86,"column":17},"end":{"line":86,"column":29}}},"11":{"name":"read","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":31}}},"12":{"name":"(anonymous_12)","line":101,"loc":{"start":{"line":101,"column":19},"end":{"line":101,"column":36}}},"13":{"name":"join","line":112,"loc":{"start":{"line":112,"column":0},"end":{"line":112,"column":23}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":13,"column":0},"end":{"line":13,"column":24}},"3":{"start":{"line":14,"column":0},"end":{"line":93,"column":1}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":47}},"5":{"start":{"line":17,"column":4},"end":{"line":18,"column":37}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"7":{"start":{"line":20,"column":4},"end":{"line":20,"column":26}},"8":{"start":{"line":21,"column":4},"end":{"line":21,"column":24}},"9":{"start":{"line":23,"column":4},"end":{"line":25,"column":7}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":29}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":17}},"13":{"start":{"line":30,"column":4},"end":{"line":33,"column":7}},"14":{"start":{"line":31,"column":8},"end":{"line":31,"column":28}},"15":{"start":{"line":32,"column":8},"end":{"line":32,"column":21}},"16":{"start":{"line":35,"column":4},"end":{"line":42,"column":7}},"17":{"start":{"line":36,"column":8},"end":{"line":36,"column":28}},"18":{"start":{"line":37,"column":8},"end":{"line":41,"column":9}},"19":{"start":{"line":38,"column":12},"end":{"line":38,"column":28}},"20":{"start":{"line":40,"column":12},"end":{"line":40,"column":31}},"21":{"start":{"line":44,"column":4},"end":{"line":53,"column":5}},"22":{"start":{"line":45,"column":8},"end":{"line":45,"column":19}},"23":{"start":{"line":46,"column":8},"end":{"line":50,"column":9}},"24":{"start":{"line":47,"column":12},"end":{"line":47,"column":37}},"25":{"start":{"line":49,"column":12},"end":{"line":49,"column":51}},"26":{"start":{"line":51,"column":8},"end":{"line":51,"column":40}},"27":{"start":{"line":52,"column":8},"end":{"line":52,"column":22}},"28":{"start":{"line":60,"column":4},"end":{"line":67,"column":6}},"29":{"start":{"line":61,"column":8},"end":{"line":61,"column":29}},"30":{"start":{"line":62,"column":8},"end":{"line":62,"column":33}},"31":{"start":{"line":63,"column":8},"end":{"line":65,"column":11}},"32":{"start":{"line":64,"column":12},"end":{"line":64,"column":38}},"33":{"start":{"line":66,"column":8},"end":{"line":66,"column":32}},"34":{"start":{"line":77,"column":4},"end":{"line":84,"column":6}},"35":{"start":{"line":78,"column":8},"end":{"line":79,"column":27}},"36":{"start":{"line":79,"column":12},"end":{"line":79,"column":27}},"37":{"start":{"line":80,"column":8},"end":{"line":80,"column":25}},"38":{"start":{"line":81,"column":8},"end":{"line":83,"column":11}},"39":{"start":{"line":82,"column":12},"end":{"line":82,"column":33}},"40":{"start":{"line":86,"column":4},"end":{"line":88,"column":6}},"41":{"start":{"line":87,"column":8},"end":{"line":87,"column":26}},"42":{"start":{"line":90,"column":4},"end":{"line":90,"column":24}},"43":{"start":{"line":92,"column":4},"end":{"line":92,"column":25}},"44":{"start":{"line":98,"column":0},"end":{"line":98,"column":19}},"45":{"start":{"line":99,"column":0},"end":{"line":109,"column":1}},"46":{"start":{"line":100,"column":4},"end":{"line":100,"column":20}},"47":{"start":{"line":101,"column":4},"end":{"line":103,"column":7}},"48":{"start":{"line":102,"column":8},"end":{"line":102,"column":27}},"49":{"start":{"line":104,"column":4},"end":{"line":108,"column":5}},"50":{"start":{"line":105,"column":8},"end":{"line":105,"column":31}},"51":{"start":{"line":107,"column":8},"end":{"line":107,"column":28}},"52":{"start":{"line":111,"column":0},"end":{"line":111,"column":19}},"53":{"start":{"line":112,"column":0},"end":{"line":132,"column":1}},"54":{"start":{"line":113,"column":4},"end":{"line":113,"column":19}},"55":{"start":{"line":114,"column":4},"end":{"line":114,"column":11}},"56":{"start":{"line":115,"column":4},"end":{"line":115,"column":10}},"57":{"start":{"line":116,"column":4},"end":{"line":116,"column":28}},"58":{"start":{"line":117,"column":4},"end":{"line":117,"column":15}},"59":{"start":{"line":118,"column":4},"end":{"line":118,"column":15}},"60":{"start":{"line":119,"column":4},"end":{"line":122,"column":5}},"61":{"start":{"line":120,"column":8},"end":{"line":120,"column":28}},"62":{"start":{"line":121,"column":8},"end":{"line":121,"column":32}},"63":{"start":{"line":123,"column":4},"end":{"line":123,"column":32}},"64":{"start":{"line":124,"column":4},"end":{"line":124,"column":11}},"65":{"start":{"line":125,"column":4},"end":{"line":129,"column":5}},"66":{"start":{"line":126,"column":8},"end":{"line":126,"column":28}},"67":{"start":{"line":127,"column":8},"end":{"line":127,"column":35}},"68":{"start":{"line":128,"column":8},"end":{"line":128,"column":28}},"69":{"start":{"line":130,"column":4},"end":{"line":130,"column":34}},"70":{"start":{"line":131,"column":4},"end":{"line":131,"column":18}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":15}},{"start":{"line":17,"column":19},"end":{"line":17,"column":38}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"5":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"6":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":18}},{"start":{"line":78,"column":22},"end":{"line":78,"column":35}}]},"7":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]}},"code":["","var Q = require(\"q\");","","/**"," * Wraps a Node readable stream, providing an API similar"," * to a Narwhal synchronous `io` stream except returning"," * Q promises for long latency operations."," * @param stream any Node readable stream"," * @returns {Promise * Reader} a promise for"," * the text stream reader."," * @constructor"," */","module.exports = Reader;","function Reader(_stream, charset) {","    var self = Object.create(Reader.prototype);","","    if (charset && _stream.setEncoding) // TODO complain about inconsistency","        _stream.setEncoding(charset);","","    var begin = Q.defer();","    var end = Q.defer();","","    _stream.on(\"error\", function (reason) {","        begin.reject(reason);","    });","","    var chunks = [];","    var receiver;","","    _stream.on(\"end\", function () {","        begin.resolve(self);","        end.resolve()","    });","","    _stream.on(\"data\", function (chunk) {","        begin.resolve(self);","        if (receiver) {","            receiver(chunk);","        } else {","            chunks.push(chunk);","        }","    });","","    function slurp() {","        var result;","        if (charset) {","            result = chunks.join(\"\");","        } else {","            result = self.constructor.join(chunks);","        }","        chunks.splice(0, chunks.length);","        return result;","    }","","    /***","     * Reads all of the remaining data from the stream.","     * @returns {Promise * String} a promise for a String","     * containing the entirety the remaining stream.","     */","    self.read = function () {","        receiver = undefined;","        var deferred = Q.defer();","        Q.done(end.promise, function () {","            deferred.resolve(slurp());","        });","        return deferred.promise;","    };","","    /***","     * Reads and writes all of the remaining data from the","     * stream in chunks.","     * @param {Function(Promise * String)} write a function","     * to be called on each chunk of input from this stream.","     * @returns {Promise * Undefined} a promise that will","     * be resolved when the input is depleted.","     */","    self.forEach = function (write) {","        if (chunks && chunks.length)","            write(slurp());","        receiver = write;","        return Q.when(end.promise, function () {","            receiver = undefined;","        });","    };","","    self.close = function () {","        _stream.destroy();","    };","","    self.node = _stream;","","    return begin.promise;","}","","/*","    Reads an entire forEachable stream of buffers and returns a single buffer.","*/","Reader.read = read;","function read(stream, charset) {","    var chunks = [];","    stream.forEach(function (chunk) {","        chunks.push(chunk);","    });","    if (charset) {","        return chunks.join(\"\");","    } else {","        return join(chunks);","    }","}","","Reader.join = join;","function join(buffers) {","    var length = 0;","    var at;","    var i;","    var ii = buffers.length;","    var buffer;","    var result;","    for (i = 0; i < ii; i++) {","        buffer = buffers[i];","        length += buffer.length;","    }","    result = new Buffer(length);","    at = 0;","    for (i = 0; i < ii; i++) {","        buffer = buffers[i];","        buffer.copy(result, at, 0);","        at += buffer.length;","    }","    buffers.splice(0, ii, result);","    return result;","}","",""],"l":{"2":1,"13":1,"14":1,"15":0,"17":0,"18":0,"20":0,"21":0,"23":0,"24":0,"27":0,"28":0,"30":0,"31":0,"32":0,"35":0,"36":0,"37":0,"38":0,"40":0,"44":1,"45":0,"46":0,"47":0,"49":0,"51":0,"52":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"86":0,"87":0,"90":0,"92":0,"98":1,"99":1,"100":0,"101":0,"102":0,"104":0,"105":0,"107":0,"111":1,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"130":0,"131":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/deprecate.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/deprecate.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"deprecationWarning","line":13,"loc":{"start":{"line":13,"column":29},"end":{"line":13,"column":93}}},"2":{"name":"deprecate","line":43,"loc":{"start":{"line":43,"column":26},"end":{"line":43,"column":91}}},"3":{"name":"(anonymous_3)","line":44,"loc":{"start":{"line":44,"column":29},"end":{"line":44,"column":41}}}},"statementMap":{"1":{"start":{"line":13,"column":0},"end":{"line":30,"column":1}},"2":{"start":{"line":14,"column":4},"end":{"line":17,"column":5}},"3":{"start":{"line":15,"column":8},"end":{"line":15,"column":42}},"4":{"start":{"line":16,"column":8},"end":{"line":16,"column":48}},"5":{"start":{"line":18,"column":4},"end":{"line":26,"column":5}},"6":{"start":{"line":19,"column":8},"end":{"line":19,"column":66}},"7":{"start":{"line":20,"column":8},"end":{"line":25,"column":9}},"8":{"start":{"line":21,"column":12},"end":{"line":21,"column":91}},"9":{"start":{"line":24,"column":12},"end":{"line":24,"column":38}},"10":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"11":{"start":{"line":28,"column":8},"end":{"line":28,"column":38}},"12":{"start":{"line":43,"column":0},"end":{"line":51,"column":1}},"13":{"start":{"line":44,"column":4},"end":{"line":48,"column":6}},"14":{"start":{"line":46,"column":8},"end":{"line":46,"column":49}},"15":{"start":{"line":47,"column":8},"end":{"line":47,"column":73}},"16":{"start":{"line":49,"column":4},"end":{"line":49,"column":63}},"17":{"start":{"line":50,"column":4},"end":{"line":50,"column":30}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":14,"column":4}},{"start":{"line":14,"column":4},"end":{"line":14,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"3":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":38}},{"start":{"line":18,"column":42},"end":{"line":18,"column":76}}]},"4":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":39},"end":{"line":19,"column":58}},{"start":{"line":19,"column":61},"end":{"line":19,"column":63}}]},"5":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":8}},{"start":{"line":20,"column":8},"end":{"line":20,"column":8}}]},"6":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]},"7":{"line":47,"type":"cond-expr","locations":[{"start":{"line":47,"column":48},"end":{"line":47,"column":53}},{"start":{"line":47,"column":56},"end":{"line":47,"column":60}}]}},"code":["/**"," * @module deprecate"," */","","/**"," * Prints out a deprecation warning to the console.warn with the format:"," * `name` is deprecated, use `alternative` instead."," * It can also print out a stack trace with the line numbers."," * @param {String} name - Name of the thing that is deprecated."," * @param {String} alternative - Name of alternative that should be used instead."," * @param {Number} [stackTraceLimit] - depth of the stack trace to print out. Set to falsy value to disable stack."," */","exports.deprecationWarning = function deprecationWarning(name, alternative, stackTraceLimit) {","    if (stackTraceLimit) {","        var depth = Error.stackTraceLimit;","        Error.stackTraceLimit = stackTraceLimit;","    }","    if (typeof console !== \"undefined\" && typeof console.warn === \"function\") {","        var stack = (stackTraceLimit ? new Error(\"\").stack : \"\") ;","        if(alternative) {","            console.warn(name + \" is deprecated, use \" + alternative + \" instead.\", stack);","        } else {","            //name is a complete message","            console.warn(name, stack);","        }","    }","    if (stackTraceLimit) {","        Error.stackTraceLimit = depth;","    }","}","","/**"," * Provides a function that can replace a method that has been deprecated."," * Prints out a deprecation warning to the console.warn with the format:"," * `name` is deprecated, use `alternative` instead."," * It will also print out a stack trace with the line numbers."," * @param {Object} scope - The object that will be used as the `this` when the `deprecatedFunction` is applied."," * @param {Function} deprecatedFunction - The function object that is deprecated."," * @param {String} name - Name of the method that is deprecated."," * @param {String} alternative - Name of alternative method that should be used instead."," * @returns {Function} deprecationWrapper"," */","exports.deprecateMethod = function deprecate(scope, deprecatedFunction, name, alternative) {","    var deprecationWrapper = function () {","        // stackTraceLimit = 3 // deprecationWarning + deprecate + caller of the deprecated method","        deprecationWarning(name, alternative, 3);","        return deprecatedFunction.apply(scope ? scope : this, arguments);","    };","    deprecationWrapper.deprecatedFunction = deprecatedFunction;","    return deprecationWrapper;","}",""],"l":{"13":1,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"24":0,"27":0,"28":0,"43":1,"44":0,"46":0,"47":0,"49":0,"50":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-boot.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-boot.js","s":{"1":1,"2":1,"3":0,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":1,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":1,"110":0,"111":0,"112":0,"113":0,"114":1,"115":0,"116":0,"117":0,"118":0},"b":{"1":[1,0],"2":[0,0],"3":[0,1],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[1,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":20}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":19},"end":{"line":18,"column":34}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":24},"end":{"line":55,"column":36}}},"4":{"name":"(anonymous_4)","line":77,"loc":{"start":{"line":77,"column":16},"end":{"line":77,"column":32}}},"5":{"name":"(anonymous_5)","line":102,"loc":{"start":{"line":102,"column":15},"end":{"line":102,"column":27}}},"6":{"name":"(anonymous_6)","line":118,"loc":{"start":{"line":118,"column":18},"end":{"line":118,"column":30}}},"7":{"name":"(anonymous_7)","line":167,"loc":{"start":{"line":167,"column":17},"end":{"line":167,"column":29}}},"8":{"name":"(anonymous_8)","line":207,"loc":{"start":{"line":207,"column":21},"end":{"line":207,"column":37}}},"9":{"name":"(anonymous_9)","line":226,"loc":{"start":{"line":226,"column":21},"end":{"line":226,"column":37}}},"10":{"name":"(anonymous_10)","line":235,"loc":{"start":{"line":235,"column":17},"end":{"line":235,"column":34}}},"11":{"name":"(anonymous_11)","line":247,"loc":{"start":{"line":247,"column":15},"end":{"line":247,"column":31}}},"12":{"name":"(anonymous_12)","line":257,"loc":{"start":{"line":257,"column":20},"end":{"line":257,"column":36}}},"13":{"name":"(anonymous_13)","line":286,"loc":{"start":{"line":286,"column":15},"end":{"line":286,"column":42}}},"14":{"name":"(anonymous_14)","line":300,"loc":{"start":{"line":300,"column":20},"end":{"line":300,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":307,"column":60}},"2":{"start":{"line":18,"column":0},"end":{"line":20,"column":2}},"3":{"start":{"line":19,"column":4},"end":{"line":19,"column":59}},"4":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}},"5":{"start":{"line":42,"column":0},"end":{"line":42,"column":90}},"6":{"start":{"line":43,"column":0},"end":{"line":47,"column":1}},"7":{"start":{"line":44,"column":4},"end":{"line":44,"column":32}},"8":{"start":{"line":46,"column":4},"end":{"line":46,"column":38}},"9":{"start":{"line":51,"column":0},"end":{"line":51,"column":59}},"10":{"start":{"line":55,"column":0},"end":{"line":68,"column":1}},"11":{"start":{"line":56,"column":4},"end":{"line":66,"column":5}},"12":{"start":{"line":60,"column":8},"end":{"line":60,"column":44}},"13":{"start":{"line":61,"column":8},"end":{"line":61,"column":51}},"14":{"start":{"line":62,"column":8},"end":{"line":65,"column":18}},"15":{"start":{"line":67,"column":4},"end":{"line":67,"column":29}},"16":{"start":{"line":77,"column":0},"end":{"line":92,"column":2}},"17":{"start":{"line":78,"column":4},"end":{"line":78,"column":14}},"18":{"start":{"line":79,"column":4},"end":{"line":83,"column":5}},"19":{"start":{"line":80,"column":8},"end":{"line":80,"column":60}},"20":{"start":{"line":82,"column":8},"end":{"line":82,"column":87}},"21":{"start":{"line":87,"column":4},"end":{"line":88,"column":18}},"22":{"start":{"line":88,"column":8},"end":{"line":88,"column":18}},"23":{"start":{"line":91,"column":4},"end":{"line":91,"column":17}},"24":{"start":{"line":102,"column":0},"end":{"line":106,"column":2}},"25":{"start":{"line":103,"column":4},"end":{"line":104,"column":59}},"26":{"start":{"line":104,"column":8},"end":{"line":104,"column":59}},"27":{"start":{"line":105,"column":4},"end":{"line":105,"column":52}},"28":{"start":{"line":118,"column":0},"end":{"line":158,"column":2}},"29":{"start":{"line":119,"column":4},"end":{"line":119,"column":18}},"30":{"start":{"line":120,"column":4},"end":{"line":120,"column":21}},"31":{"start":{"line":121,"column":4},"end":{"line":121,"column":22}},"32":{"start":{"line":122,"column":4},"end":{"line":122,"column":18}},"33":{"start":{"line":123,"column":4},"end":{"line":154,"column":5}},"34":{"start":{"line":124,"column":8},"end":{"line":124,"column":40}},"35":{"start":{"line":125,"column":8},"end":{"line":126,"column":21}},"36":{"start":{"line":126,"column":12},"end":{"line":126,"column":21}},"37":{"start":{"line":127,"column":8},"end":{"line":127,"column":56}},"38":{"start":{"line":128,"column":8},"end":{"line":132,"column":9}},"39":{"start":{"line":129,"column":12},"end":{"line":129,"column":53}},"40":{"start":{"line":130,"column":12},"end":{"line":130,"column":25}},"41":{"start":{"line":131,"column":12},"end":{"line":131,"column":26}},"42":{"start":{"line":133,"column":8},"end":{"line":133,"column":27}},"43":{"start":{"line":134,"column":8},"end":{"line":137,"column":9}},"44":{"start":{"line":135,"column":12},"end":{"line":135,"column":29}},"45":{"start":{"line":136,"column":12},"end":{"line":136,"column":22}},"46":{"start":{"line":138,"column":8},"end":{"line":153,"column":9}},"47":{"start":{"line":139,"column":12},"end":{"line":139,"column":32}},"48":{"start":{"line":140,"column":12},"end":{"line":152,"column":13}},"49":{"start":{"line":141,"column":19},"end":{"line":152,"column":13}},"50":{"start":{"line":142,"column":16},"end":{"line":149,"column":17}},"51":{"start":{"line":143,"column":20},"end":{"line":143,"column":35}},"52":{"start":{"line":145,"column":20},"end":{"line":148,"column":21}},"53":{"start":{"line":147,"column":24},"end":{"line":147,"column":43}},"54":{"start":{"line":151,"column":16},"end":{"line":151,"column":36}},"55":{"start":{"line":155,"column":4},"end":{"line":155,"column":60}},"56":{"start":{"line":156,"column":4},"end":{"line":156,"column":46}},"57":{"start":{"line":156,"column":14},"end":{"line":156,"column":46}},"58":{"start":{"line":157,"column":4},"end":{"line":157,"column":30}},"59":{"start":{"line":167,"column":0},"end":{"line":201,"column":2}},"60":{"start":{"line":168,"column":4},"end":{"line":168,"column":18}},"61":{"start":{"line":169,"column":4},"end":{"line":169,"column":21}},"62":{"start":{"line":170,"column":4},"end":{"line":170,"column":22}},"63":{"start":{"line":171,"column":4},"end":{"line":198,"column":5}},"64":{"start":{"line":172,"column":8},"end":{"line":172,"column":40}},"65":{"start":{"line":174,"column":8},"end":{"line":175,"column":21}},"66":{"start":{"line":175,"column":12},"end":{"line":175,"column":21}},"67":{"start":{"line":176,"column":8},"end":{"line":176,"column":56}},"68":{"start":{"line":177,"column":8},"end":{"line":181,"column":9}},"69":{"start":{"line":178,"column":12},"end":{"line":178,"column":53}},"70":{"start":{"line":179,"column":12},"end":{"line":179,"column":25}},"71":{"start":{"line":180,"column":12},"end":{"line":180,"column":26}},"72":{"start":{"line":182,"column":8},"end":{"line":197,"column":9}},"73":{"start":{"line":183,"column":12},"end":{"line":183,"column":32}},"74":{"start":{"line":184,"column":12},"end":{"line":196,"column":13}},"75":{"start":{"line":185,"column":19},"end":{"line":196,"column":13}},"76":{"start":{"line":186,"column":16},"end":{"line":193,"column":17}},"77":{"start":{"line":187,"column":20},"end":{"line":187,"column":35}},"78":{"start":{"line":189,"column":20},"end":{"line":192,"column":21}},"79":{"start":{"line":191,"column":24},"end":{"line":191,"column":43}},"80":{"start":{"line":195,"column":16},"end":{"line":195,"column":36}},"81":{"start":{"line":199,"column":4},"end":{"line":199,"column":60}},"82":{"start":{"line":200,"column":4},"end":{"line":200,"column":23}},"83":{"start":{"line":207,"column":0},"end":{"line":220,"column":2}},"84":{"start":{"line":213,"column":4},"end":{"line":213,"column":36}},"85":{"start":{"line":217,"column":4},"end":{"line":218,"column":21}},"86":{"start":{"line":218,"column":8},"end":{"line":218,"column":21}},"87":{"start":{"line":219,"column":4},"end":{"line":219,"column":36}},"88":{"start":{"line":226,"column":0},"end":{"line":228,"column":2}},"89":{"start":{"line":227,"column":4},"end":{"line":227,"column":37}},"90":{"start":{"line":235,"column":0},"end":{"line":241,"column":2}},"91":{"start":{"line":236,"column":4},"end":{"line":240,"column":5}},"92":{"start":{"line":237,"column":8},"end":{"line":237,"column":40}},"93":{"start":{"line":239,"column":8},"end":{"line":239,"column":27}},"94":{"start":{"line":247,"column":0},"end":{"line":252,"column":2}},"95":{"start":{"line":248,"column":4},"end":{"line":249,"column":46}},"96":{"start":{"line":249,"column":8},"end":{"line":249,"column":46}},"97":{"start":{"line":250,"column":4},"end":{"line":250,"column":36}},"98":{"start":{"line":251,"column":4},"end":{"line":251,"column":38}},"99":{"start":{"line":257,"column":0},"end":{"line":276,"column":2}},"100":{"start":{"line":258,"column":4},"end":{"line":258,"column":32}},"101":{"start":{"line":259,"column":4},"end":{"line":259,"column":44}},"102":{"start":{"line":260,"column":4},"end":{"line":260,"column":36}},"103":{"start":{"line":263,"column":4},"end":{"line":271,"column":5}},"104":{"start":{"line":264,"column":8},"end":{"line":268,"column":9}},"105":{"start":{"line":265,"column":12},"end":{"line":265,"column":29}},"106":{"start":{"line":267,"column":12},"end":{"line":267,"column":24}},"107":{"start":{"line":270,"column":8},"end":{"line":270,"column":28}},"108":{"start":{"line":272,"column":4},"end":{"line":275,"column":6}},"109":{"start":{"line":286,"column":0},"end":{"line":294,"column":2}},"110":{"start":{"line":287,"column":4},"end":{"line":287,"column":57}},"111":{"start":{"line":288,"column":4},"end":{"line":292,"column":10}},"112":{"start":{"line":289,"column":8},"end":{"line":292,"column":10}},"113":{"start":{"line":293,"column":4},"end":{"line":293,"column":16}},"114":{"start":{"line":300,"column":0},"end":{"line":305,"column":2}},"115":{"start":{"line":301,"column":4},"end":{"line":301,"column":30}},"116":{"start":{"line":302,"column":4},"end":{"line":302,"column":36}},"117":{"start":{"line":303,"column":4},"end":{"line":303,"column":38}},"118":{"start":{"line":304,"column":4},"end":{"line":304,"column":51}}},"branchMap":{"1":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":35},"end":{"line":42,"column":43}},{"start":{"line":42,"column":48},"end":{"line":42,"column":88}}]},"2":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":79},"end":{"line":42,"column":83}},{"start":{"line":42,"column":85},"end":{"line":42,"column":88}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":0},"end":{"line":43,"column":0}},{"start":{"line":43,"column":0},"end":{"line":43,"column":0}}]},"4":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"5":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":45}},{"start":{"line":58,"column":8},"end":{"line":58,"column":52}}]},"6":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":13},"end":{"line":63,"column":28}},{"start":{"line":63,"column":32},"end":{"line":63,"column":34}}]},"7":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":13},"end":{"line":64,"column":31}},{"start":{"line":64,"column":35},"end":{"line":64,"column":37}}]},"8":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"9":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":26}},{"start":{"line":87,"column":30},"end":{"line":87,"column":45}}]},"10":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":4}},{"start":{"line":103,"column":4},"end":{"line":103,"column":4}}]},"11":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":30}},{"start":{"line":103,"column":34},"end":{"line":103,"column":61}}]},"12":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":8}},{"start":{"line":125,"column":8},"end":{"line":125,"column":8}}]},"13":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"14":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"15":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":23}},{"start":{"line":134,"column":27},"end":{"line":134,"column":39}}]},"16":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":12},"end":{"line":140,"column":12}},{"start":{"line":140,"column":12},"end":{"line":140,"column":12}}]},"17":{"line":140,"type":"binary-expr","locations":[{"start":{"line":140,"column":16},"end":{"line":140,"column":27}},{"start":{"line":140,"column":31},"end":{"line":140,"column":41}}]},"18":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":19},"end":{"line":141,"column":19}},{"start":{"line":141,"column":19},"end":{"line":141,"column":19}}]},"19":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":16},"end":{"line":142,"column":16}},{"start":{"line":142,"column":16},"end":{"line":142,"column":16}}]},"20":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":20},"end":{"line":145,"column":20}},{"start":{"line":145,"column":20},"end":{"line":145,"column":20}}]},"21":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":4},"end":{"line":156,"column":4}},{"start":{"line":156,"column":4},"end":{"line":156,"column":4}}]},"22":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":8},"end":{"line":174,"column":8}},{"start":{"line":174,"column":8},"end":{"line":174,"column":8}}]},"23":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":8}},{"start":{"line":177,"column":8},"end":{"line":177,"column":8}}]},"24":{"line":184,"type":"if","locations":[{"start":{"line":184,"column":12},"end":{"line":184,"column":12}},{"start":{"line":184,"column":12},"end":{"line":184,"column":12}}]},"25":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":16},"end":{"line":184,"column":28}},{"start":{"line":184,"column":32},"end":{"line":184,"column":43}}]},"26":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":19},"end":{"line":185,"column":19}},{"start":{"line":185,"column":19},"end":{"line":185,"column":19}}]},"27":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":16},"end":{"line":186,"column":16}},{"start":{"line":186,"column":16},"end":{"line":186,"column":16}}]},"28":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":20},"end":{"line":189,"column":20}},{"start":{"line":189,"column":20},"end":{"line":189,"column":20}}]},"29":{"line":217,"type":"if","locations":[{"start":{"line":217,"column":4},"end":{"line":217,"column":4}},{"start":{"line":217,"column":4},"end":{"line":217,"column":4}}]},"30":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":4},"end":{"line":236,"column":4}},{"start":{"line":236,"column":4},"end":{"line":236,"column":4}}]},"31":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":4},"end":{"line":248,"column":4}},{"start":{"line":248,"column":4},"end":{"line":248,"column":4}}]},"32":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":4},"end":{"line":263,"column":4}},{"start":{"line":263,"column":4},"end":{"line":263,"column":4}}]},"33":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":8},"end":{"line":264,"column":8}},{"start":{"line":264,"column":8},"end":{"line":264,"column":8}}]},"34":{"line":272,"type":"binary-expr","locations":[{"start":{"line":272,"column":11},"end":{"line":272,"column":40}},{"start":{"line":273,"column":8},"end":{"line":274,"column":25}}]},"35":{"line":273,"type":"cond-expr","locations":[{"start":{"line":274,"column":8},"end":{"line":274,"column":10}},{"start":{"line":274,"column":13},"end":{"line":274,"column":25}}]},"36":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":4},"end":{"line":288,"column":4}},{"start":{"line":288,"column":4},"end":{"line":288,"column":4}}]},"37":{"line":304,"type":"cond-expr","locations":[{"start":{"line":304,"column":24},"end":{"line":304,"column":26}},{"start":{"line":304,"column":29},"end":{"line":304,"column":50}}]},"38":{"line":307,"type":"cond-expr","locations":[{"start":{"line":307,"column":36},"end":{"line":307,"column":43}},{"start":{"line":307,"column":46},"end":{"line":307,"column":58}}]}},"code":["(function (exports) {","","// -- kriskowal Kris Kowal Copyright (C) 2009-2010 MIT License","// -- tlrobinson Tom Robinson TODO","","/**"," * Pure JavaScript implementations of file system path"," * manipulation."," */","","// NOTE: this file may be used is the engine bootstrapping","// process, so any \"requires\" must be accounted for in","// narwhal.js","","/*whatsupdoc*/","/*markup markdown*/","","var regExpEscape = function (str) {","    return str.replace(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g, \"\\\\$&\");","};","","var path = require(\"path\");","","/**"," * @name ROOT"," * * `/` on Unix"," * * `\\` on Windows"," */","","/**"," * @name SEPARATOR"," * * `/` on Unix"," * * `\\` on Windows"," */","","/**"," * @name ALT_SEPARATOR"," * * undefined on Unix"," * * `/` on Windows"," */","","exports.ROOT = exports.SEPARATOR = path.sep || (process.platform === \"win32\" ? \"\\\\\": \"/\");","if (path.sep === \"\\\\\") {","    exports.ALT_SEPARATOR = \"/\";","} else {","    exports.ALT_SEPARATOR = undefined;","}","","// we need to make sure the separator regex is always in sync with the separators.","// this caches the generated regex and rebuild if either separator changes.","var separatorCached, altSeparatorCached, separatorReCached;","/**"," * @function"," */","exports.SEPARATORS_RE = function () {","    if (","        separatorCached !== exports.SEPARATOR ||","        altSeparatorCached !== exports.ALT_SEPARATOR","    ) {","        separatorCached = exports.SEPARATOR;","        altSeparatorCached = exports.ALT_SEPARATOR;","        separatorReCached = new RegExp(\"[\" +","            (separatorCached || \"\").replace(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g, \"\\\\$&\") +","            (altSeparatorCached || \"\").replace(/[-[\\]{}()*+?.\\\\^$|,#\\s]/g, \"\\\\$&\") +","        \"]\", \"g\");","    }","    return separatorReCached;","}","","/**"," * separates a path into components.  If the path is"," * absolute, the first path component is the root of the"," * file system, indicated by an empty string on Unix, and a"," * drive letter followed by a colon on Windows."," * @returns {Array * String}"," */","exports.split = function (path) {","    var parts;","    try {","        parts = String(path).split(exports.SEPARATORS_RE());","    } catch (exception) {","        throw new Error(\"Cannot split \" + (typeof path) + \", \" + JSON.stringify(path));","    }","    // this special case helps isAbsolute","    // distinguish an empty path from an absolute path","    // \"\" -> [] NOT [\"\"]","    if (parts.length === 1 && parts[0] === \"\")","        return [];","    // \"a\" -> [\"a\"]","    // \"/a\" -> [\"\", \"a\"]","    return parts;","};","","/**"," * Takes file system paths as variadic arguments and treats"," * each as a file or directory path and returns the path"," * arrived by traversing into the those paths.  All"," * arguments except for the last must be paths to"," * directories for the result to be meaningful."," * @returns {String} path"," */","exports.join = function () {","    if (arguments.length === 1 && Array.isArray(arguments[0]))","        return exports.normal.apply(exports, arguments[0]);","    return exports.normal.apply(exports, arguments);","};","","/**"," * Takes file system paths as variadic arguments and treats"," * each path as a location, in the URL sense, resolving each"," * new location based on the previous.  For example, if the"," * first argument is the absolute path of a JSON file, and"," * the second argument is a path mentioned in that JSON"," * file, `resolve` returns the absolute path of the"," * mentioned file."," * @returns {String} path"," */","exports.resolve = function () {","    var root = \"\";","    var parents = [];","    var children = [];","    var leaf = \"\";","    for (var i = 0; i < arguments.length; i++) {","        var path = String(arguments[i]);","        if (path == \"\")","            continue;","        var parts = path.split(exports.SEPARATORS_RE());","        if (exports.isAbsolute(path)) {","            root = parts.shift() + exports.SEPARATOR;","            parents = [];","            children = [];","        }","        leaf = parts.pop();","        if (leaf == \".\" || leaf == \"..\") {","            parts.push(leaf);","            leaf = \"\";","        }","        for (var j = 0; j < parts.length; j++) {","            var part = parts[j];","            if (part == \".\" || part == \"\") {","            } else if (part == \"..\") {","                if (children.length) {","                    children.pop();","                } else {","                    if (root) {","                    } else {","                        parents.push(\"..\");","                    }","                }","            } else {","                children.push(part);","            }","        };","    }","    path = parents.concat(children).join(exports.SEPARATOR);","    if (path) leaf = exports.SEPARATOR + leaf;","    return root + path + leaf;","};","","/**"," * Takes paths as any number of arguments and reduces them"," * into a single path in normal form, removing all \".\" path"," * components, and reducing \"..\" path components by removing"," * the previous path component if possible."," * @returns {String} path"," */","exports.normal = function () {","    var root = \"\";","    var parents = [];","    var children = [];","    for (var i = 0, ii = arguments.length; i < ii; i++) {","        var path = String(arguments[i]);","        // empty paths have no affect","        if (path === \"\")","            continue;","        var parts = path.split(exports.SEPARATORS_RE());","        if (exports.isAbsolute(path)) {","            root = parts.shift() + exports.SEPARATOR;","            parents = [];","            children = [];","        }","        for (var j = 0, jj = parts.length; j < jj; j++) {","            var part = parts[j];","            if (part === \".\" || part === \"\") {","            } else if (part == \"..\") {","                if (children.length) {","                    children.pop();","                } else {","                    if (root) {","                    } else {","                        parents.push(\"..\");","                    }","                }","            } else {","                children.push(part);","            }","        }","    }","    path = parents.concat(children).join(exports.SEPARATOR);","    return root + path;","};","","/***"," * @returns {Boolean} whether the given path begins at the"," * root of the file system or a drive letter."," */","exports.isAbsolute = function (path) {","    // for absolute paths on any operating system,","    // the first path component always determines","    // whether it is relative or absolute.  On Unix,","    // it is empty, so [\"\", \"foo\"].join(\"/\") == \"/foo\",","    // \"/foo\".split(\"/\") == [\"\", \"foo\"].","    var parts = exports.split(path);","    // split(\"\") == [].  \"\" is not absolute.","    // split(\"/\") == [\"\", \"\"] is absolute.","    // split(?) == [\"\"] does not occur.","    if (parts.length == 0)","        return false;","    return exports.isRoot(parts[0]);","};","","/**"," * @returns {Boolean} whether the given path does not begin"," * at the root of the file system or a drive letter."," */","exports.isRelative = function (path) {","    return !exports.isAbsolute(path);","};","","/**"," * @returns {Boolean} whether the given path component"," * corresponds to the root of the file system or a drive"," * letter, as applicable."," */","exports.isRoot = function (first) {","    if (exports.SEPARATOR === \"\\\\\") {","        return /[a-zA-Z]:$/.test(first);","    } else {","        return first == \"\";","    }","};","","/**"," * @returns {String} the Unix root path or corresponding"," * Windows drive for a given path."," */","exports.root = function (path) {","    if (!exports.isAbsolute(path))","        path = require(\"./fs\").absolute(path);","    var parts = exports.split(path);","    return exports.join(parts[0], \"\");","};","","/**"," * @returns {String} the parent directory of the given path."," */","exports.directory = function (path) {","    path = exports.normal(path);","    var absolute = exports.isAbsolute(path);","    var parts = exports.split(path);","    // XXX needs to be sensitive to the root for","    // Windows compatibility","    if (parts.length) {","        if (parts[parts.length - 1] == \"..\") {","            parts.push(\"..\");","        } else {","            parts.pop();","        }","    } else {","        parts.unshift(\"..\");","    }","    return parts.join(exports.SEPARATOR) || (","        exports.isRelative(path) ?","        \"\" : exports.ROOT","    );","};","","/**"," * @returns {String} the last component of a path, without"," * the given extension if the extension is provided and"," * matches the given file."," * @param {String} path"," * @param {String} extention an optional extention to detect"," * and remove if it exists."," */","exports.base = function (path, extension) {","    var base = path.split(exports.SEPARATORS_RE()).pop();","    if (extension)","        base = base.replace(","            new RegExp(regExpEscape(extension) + \"$\"),","            \"\"","        );","    return base;","};","","/**"," * @returns {String} the extension (e.g., `txt`) of the file"," * at the given path."," */","exports.extension = function (path) {","    path = exports.base(path);","    path = path.replace(/^\\.*/, \"\");","    var index = path.lastIndexOf(\".\");","    return index <= 0 ? \"\" : path.substring(index);","};","","})(typeof exports !== \"undefined\" ? exports : FS_BOOT = {});",""],"l":{"1":1,"18":1,"19":0,"22":1,"42":1,"43":1,"44":0,"46":1,"51":1,"55":1,"56":0,"60":0,"61":0,"62":0,"67":0,"77":1,"78":0,"79":0,"80":0,"82":0,"87":0,"88":0,"91":0,"102":1,"103":0,"104":0,"105":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"133":0,"134":0,"135":0,"136":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"145":0,"147":0,"151":0,"155":0,"156":0,"157":0,"167":1,"168":0,"169":0,"170":0,"171":0,"172":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"189":0,"191":0,"195":0,"199":0,"200":0,"207":1,"213":0,"217":0,"218":0,"219":0,"226":1,"227":0,"235":1,"236":0,"237":0,"239":0,"247":1,"248":0,"249":0,"250":0,"251":0,"257":1,"258":0,"259":0,"260":0,"263":0,"264":0,"265":0,"267":0,"270":0,"272":0,"286":1,"287":0,"288":0,"289":0,"293":0,"300":1,"301":0,"302":0,"303":0,"304":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-common.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-common.js","s":{"1":2,"2":2,"3":2,"4":2,"5":1,"6":0,"7":1,"8":1,"9":15,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":1,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":1,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":1,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":1,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":1,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":1,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":1,"232":1,"233":0,"234":0,"235":0,"236":1,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":1,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":1,"259":1,"260":0,"261":0,"262":1,"263":1,"264":7,"265":0,"266":1,"267":0,"268":1,"269":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0]},"f":{"1":0,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":7,"83":0,"84":0,"85":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":13},"end":{"line":10,"column":31}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":54}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":60}}},"4":{"name":"(anonymous_4)","line":41,"loc":{"start":{"line":41,"column":48},"end":{"line":41,"column":66}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":11},"end":{"line":43,"column":28}}},"6":{"name":"(anonymous_6)","line":62,"loc":{"start":{"line":62,"column":20},"end":{"line":62,"column":70}}},"7":{"name":"(anonymous_7)","line":83,"loc":{"start":{"line":83,"column":48},"end":{"line":83,"column":66}}},"8":{"name":"(anonymous_8)","line":84,"loc":{"start":{"line":84,"column":49},"end":{"line":84,"column":61}}},"9":{"name":"(anonymous_9)","line":100,"loc":{"start":{"line":100,"column":21},"end":{"line":100,"column":71}}},"10":{"name":"(anonymous_10)","line":117,"loc":{"start":{"line":117,"column":48},"end":{"line":117,"column":66}}},"11":{"name":"(anonymous_11)","line":118,"loc":{"start":{"line":118,"column":49},"end":{"line":118,"column":61}}},"12":{"name":"(anonymous_12)","line":124,"loc":{"start":{"line":124,"column":19},"end":{"line":124,"column":45}}},"13":{"name":"(anonymous_13)","line":127,"loc":{"start":{"line":127,"column":15},"end":{"line":127,"column":32}}},"14":{"name":"(anonymous_14)","line":130,"loc":{"start":{"line":130,"column":22},"end":{"line":130,"column":34}}},"15":{"name":"(anonymous_15)","line":139,"loc":{"start":{"line":139,"column":19},"end":{"line":139,"column":45}}},"16":{"name":"(anonymous_16)","line":141,"loc":{"start":{"line":141,"column":41},"end":{"line":141,"column":57}}},"17":{"name":"(anonymous_17)","line":148,"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":42}}},"18":{"name":"(anonymous_18)","line":149,"loc":{"start":{"line":149,"column":41},"end":{"line":149,"column":58}}},"19":{"name":"(anonymous_19)","line":151,"loc":{"start":{"line":151,"column":16},"end":{"line":151,"column":28}}},"20":{"name":"(anonymous_20)","line":160,"loc":{"start":{"line":160,"column":23},"end":{"line":160,"column":49}}},"21":{"name":"(anonymous_21)","line":162,"loc":{"start":{"line":162,"column":41},"end":{"line":162,"column":57}}},"22":{"name":"(anonymous_22)","line":166,"loc":{"start":{"line":166,"column":48},"end":{"line":166,"column":72}}},"23":{"name":"copySubTree","line":167,"loc":{"start":{"line":167,"column":20},"end":{"line":167,"column":43}}},"24":{"name":"(anonymous_24)","line":168,"loc":{"start":{"line":168,"column":57},"end":{"line":168,"column":73}}},"25":{"name":"(anonymous_25)","line":169,"loc":{"start":{"line":169,"column":50},"end":{"line":169,"column":67}}},"26":{"name":"(anonymous_26)","line":191,"loc":{"start":{"line":191,"column":23},"end":{"line":191,"column":50}}},"27":{"name":"(anonymous_27)","line":196,"loc":{"start":{"line":196,"column":25},"end":{"line":196,"column":37}}},"28":{"name":"(anonymous_28)","line":200,"loc":{"start":{"line":200,"column":28},"end":{"line":200,"column":44}}},"29":{"name":"(anonymous_29)","line":208,"loc":{"start":{"line":208,"column":35},"end":{"line":208,"column":54}}},"30":{"name":"(anonymous_30)","line":213,"loc":{"start":{"line":213,"column":55},"end":{"line":213,"column":75}}},"31":{"name":"(anonymous_31)","line":214,"loc":{"start":{"line":214,"column":61},"end":{"line":214,"column":78}}},"32":{"name":"noSuchFile","line":224,"loc":{"start":{"line":224,"column":11},"end":{"line":224,"column":39}}},"33":{"name":"(anonymous_33)","line":229,"loc":{"start":{"line":229,"column":32},"end":{"line":229,"column":48}}},"34":{"name":"(anonymous_34)","line":230,"loc":{"start":{"line":230,"column":35},"end":{"line":230,"column":57}}},"35":{"name":"(anonymous_35)","line":235,"loc":{"start":{"line":235,"column":23},"end":{"line":235,"column":45}}},"36":{"name":"(anonymous_36)","line":245,"loc":{"start":{"line":245,"column":28},"end":{"line":245,"column":52}}},"37":{"name":"(anonymous_37)","line":246,"loc":{"start":{"line":246,"column":34},"end":{"line":246,"column":46}}},"38":{"name":"rejected","line":250,"loc":{"start":{"line":250,"column":42},"end":{"line":250,"column":67}}},"39":{"name":"(anonymous_39)","line":262,"loc":{"start":{"line":262,"column":25},"end":{"line":262,"column":41}}},"40":{"name":"(anonymous_40)","line":264,"loc":{"start":{"line":264,"column":43},"end":{"line":264,"column":59}}},"41":{"name":"(anonymous_41)","line":269,"loc":{"start":{"line":269,"column":22},"end":{"line":269,"column":38}}},"42":{"name":"(anonymous_42)","line":271,"loc":{"start":{"line":271,"column":42},"end":{"line":271,"column":58}}},"43":{"name":"(anonymous_43)","line":274,"loc":{"start":{"line":274,"column":26},"end":{"line":274,"column":38}}},"44":{"name":"(anonymous_44)","line":284,"loc":{"start":{"line":284,"column":27},"end":{"line":284,"column":59}}},"45":{"name":"(anonymous_45)","line":286,"loc":{"start":{"line":286,"column":53},"end":{"line":286,"column":73}}},"46":{"name":"(anonymous_46)","line":291,"loc":{"start":{"line":291,"column":21},"end":{"line":291,"column":37}}},"47":{"name":"(anonymous_47)","line":292,"loc":{"start":{"line":292,"column":39},"end":{"line":292,"column":51}}},"48":{"name":"(anonymous_48)","line":294,"loc":{"start":{"line":294,"column":11},"end":{"line":294,"column":23}}},"49":{"name":"(anonymous_49)","line":299,"loc":{"start":{"line":299,"column":21},"end":{"line":299,"column":37}}},"50":{"name":"(anonymous_50)","line":300,"loc":{"start":{"line":300,"column":39},"end":{"line":300,"column":55}}},"51":{"name":"(anonymous_51)","line":302,"loc":{"start":{"line":302,"column":11},"end":{"line":302,"column":29}}},"52":{"name":"(anonymous_52)","line":307,"loc":{"start":{"line":307,"column":26},"end":{"line":307,"column":42}}},"53":{"name":"(anonymous_53)","line":308,"loc":{"start":{"line":308,"column":39},"end":{"line":308,"column":55}}},"54":{"name":"(anonymous_54)","line":310,"loc":{"start":{"line":310,"column":11},"end":{"line":310,"column":29}}},"55":{"name":"(anonymous_55)","line":315,"loc":{"start":{"line":315,"column":29},"end":{"line":315,"column":45}}},"56":{"name":"(anonymous_56)","line":316,"loc":{"start":{"line":316,"column":43},"end":{"line":316,"column":59}}},"57":{"name":"(anonymous_57)","line":318,"loc":{"start":{"line":318,"column":11},"end":{"line":318,"column":29}}},"58":{"name":"(anonymous_58)","line":323,"loc":{"start":{"line":323,"column":27},"end":{"line":323,"column":43}}},"59":{"name":"(anonymous_59)","line":328,"loc":{"start":{"line":328,"column":27},"end":{"line":328,"column":43}}},"60":{"name":"(anonymous_60)","line":333,"loc":{"start":{"line":333,"column":23},"end":{"line":333,"column":39}}},"61":{"name":"(anonymous_61)","line":339,"loc":{"start":{"line":339,"column":23},"end":{"line":339,"column":49}}},"62":{"name":"(anonymous_62)","line":341,"loc":{"start":{"line":341,"column":48},"end":{"line":341,"column":71}}},"63":{"name":"(anonymous_63)","line":350,"loc":{"start":{"line":350,"column":31},"end":{"line":350,"column":57}}},"64":{"name":"(anonymous_64)","line":372,"loc":{"start":{"line":372,"column":36},"end":{"line":372,"column":62}}},"65":{"name":"(anonymous_65)","line":398,"loc":{"start":{"line":398,"column":23},"end":{"line":398,"column":48}}},"66":{"name":"reroot","line":416,"loc":{"start":{"line":416,"column":4},"end":{"line":416,"column":26}}},"67":{"name":"(anonymous_67)","line":422,"loc":{"start":{"line":422,"column":23},"end":{"line":422,"column":39}}},"68":{"name":"(anonymous_68)","line":424,"loc":{"start":{"line":424,"column":45},"end":{"line":424,"column":67}}},"69":{"name":"(anonymous_69)","line":427,"loc":{"start":{"line":427,"column":28},"end":{"line":427,"column":44}}},"70":{"name":"(anonymous_70)","line":429,"loc":{"start":{"line":429,"column":34},"end":{"line":429,"column":50}}},"71":{"name":"(anonymous_71)","line":430,"loc":{"start":{"line":430,"column":53},"end":{"line":430,"column":72}}},"72":{"name":"(anonymous_72)","line":433,"loc":{"start":{"line":433,"column":21},"end":{"line":433,"column":33}}},"73":{"name":"(anonymous_73)","line":439,"loc":{"start":{"line":439,"column":20},"end":{"line":439,"column":35}}},"74":{"name":"(anonymous_74)","line":442,"loc":{"start":{"line":442,"column":20},"end":{"line":442,"column":34}}},"75":{"name":"(anonymous_75)","line":443,"loc":{"start":{"line":443,"column":32},"end":{"line":443,"column":44}}},"76":{"name":"(anonymous_76)","line":444,"loc":{"start":{"line":444,"column":39},"end":{"line":444,"column":61}}},"77":{"name":"(anonymous_77)","line":447,"loc":{"start":{"line":447,"column":22},"end":{"line":447,"column":38}}},"78":{"name":"(anonymous_78)","line":448,"loc":{"start":{"line":448,"column":42},"end":{"line":448,"column":58}}},"79":{"name":"(anonymous_79)","line":449,"loc":{"start":{"line":449,"column":59},"end":{"line":449,"column":78}}},"80":{"name":"(anonymous_80)","line":456,"loc":{"start":{"line":456,"column":28},"end":{"line":456,"column":40}}},"81":{"name":"Stats","line":462,"loc":{"start":{"line":462,"column":4},"end":{"line":462,"column":29}}},"82":{"name":"(anonymous_82)","line":477,"loc":{"start":{"line":477,"column":18},"end":{"line":477,"column":34}}},"83":{"name":"(anonymous_83)","line":478,"loc":{"start":{"line":478,"column":32},"end":{"line":478,"column":44}}},"84":{"name":"(anonymous_84)","line":483,"loc":{"start":{"line":483,"column":35},"end":{"line":483,"column":47}}},"85":{"name":"(anonymous_85)","line":487,"loc":{"start":{"line":487,"column":35},"end":{"line":487,"column":47}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"5":{"start":{"line":10,"column":0},"end":{"line":12,"column":2}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":52}},"7":{"start":{"line":14,"column":0},"end":{"line":491,"column":1}},"8":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":35}},"10":{"start":{"line":29,"column":4},"end":{"line":50,"column":6}},"11":{"start":{"line":30,"column":8},"end":{"line":39,"column":9}},"12":{"start":{"line":31,"column":12},"end":{"line":31,"column":28}},"13":{"start":{"line":32,"column":15},"end":{"line":39,"column":9}},"14":{"start":{"line":33,"column":12},"end":{"line":33,"column":30}},"15":{"start":{"line":34,"column":12},"end":{"line":34,"column":34}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":36}},"17":{"start":{"line":37,"column":12},"end":{"line":37,"column":34}},"18":{"start":{"line":38,"column":12},"end":{"line":38,"column":38}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":45}},"20":{"start":{"line":41,"column":8},"end":{"line":49,"column":11}},"21":{"start":{"line":42,"column":12},"end":{"line":42,"column":33}},"22":{"start":{"line":44,"column":12},"end":{"line":44,"column":79}},"23":{"start":{"line":45,"column":12},"end":{"line":45,"column":30}},"24":{"start":{"line":46,"column":12},"end":{"line":46,"column":32}},"25":{"start":{"line":47,"column":12},"end":{"line":47,"column":36}},"26":{"start":{"line":48,"column":12},"end":{"line":48,"column":24}},"27":{"start":{"line":62,"column":4},"end":{"line":88,"column":6}},"28":{"start":{"line":63,"column":8},"end":{"line":63,"column":24}},"29":{"start":{"line":64,"column":8},"end":{"line":73,"column":9}},"30":{"start":{"line":65,"column":12},"end":{"line":65,"column":28}},"31":{"start":{"line":66,"column":15},"end":{"line":73,"column":9}},"32":{"start":{"line":67,"column":12},"end":{"line":67,"column":30}},"33":{"start":{"line":68,"column":12},"end":{"line":68,"column":34}},"34":{"start":{"line":70,"column":12},"end":{"line":70,"column":36}},"35":{"start":{"line":71,"column":12},"end":{"line":71,"column":34}},"36":{"start":{"line":72,"column":12},"end":{"line":72,"column":38}},"37":{"start":{"line":74,"column":8},"end":{"line":74,"column":37}},"38":{"start":{"line":75,"column":8},"end":{"line":81,"column":9}},"39":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"40":{"start":{"line":77,"column":16},"end":{"line":77,"column":46}},"41":{"start":{"line":79,"column":15},"end":{"line":81,"column":9}},"42":{"start":{"line":80,"column":12},"end":{"line":80,"column":25}},"43":{"start":{"line":82,"column":8},"end":{"line":82,"column":30}},"44":{"start":{"line":83,"column":8},"end":{"line":87,"column":11}},"45":{"start":{"line":84,"column":12},"end":{"line":86,"column":15}},"46":{"start":{"line":85,"column":16},"end":{"line":85,"column":38}},"47":{"start":{"line":100,"column":4},"end":{"line":122,"column":6}},"48":{"start":{"line":101,"column":8},"end":{"line":101,"column":24}},"49":{"start":{"line":102,"column":8},"end":{"line":111,"column":9}},"50":{"start":{"line":103,"column":12},"end":{"line":103,"column":28}},"51":{"start":{"line":104,"column":15},"end":{"line":111,"column":9}},"52":{"start":{"line":105,"column":12},"end":{"line":105,"column":30}},"53":{"start":{"line":106,"column":12},"end":{"line":106,"column":34}},"54":{"start":{"line":108,"column":12},"end":{"line":108,"column":36}},"55":{"start":{"line":109,"column":12},"end":{"line":109,"column":34}},"56":{"start":{"line":110,"column":12},"end":{"line":110,"column":38}},"57":{"start":{"line":112,"column":8},"end":{"line":112,"column":37}},"58":{"start":{"line":113,"column":8},"end":{"line":115,"column":9}},"59":{"start":{"line":114,"column":12},"end":{"line":114,"column":25}},"60":{"start":{"line":116,"column":8},"end":{"line":116,"column":30}},"61":{"start":{"line":117,"column":8},"end":{"line":121,"column":11}},"62":{"start":{"line":118,"column":12},"end":{"line":120,"column":15}},"63":{"start":{"line":119,"column":16},"end":{"line":119,"column":38}},"64":{"start":{"line":124,"column":4},"end":{"line":137,"column":6}},"65":{"start":{"line":125,"column":8},"end":{"line":125,"column":24}},"66":{"start":{"line":126,"column":8},"end":{"line":136,"column":11}},"67":{"start":{"line":128,"column":12},"end":{"line":135,"column":13}},"68":{"start":{"line":129,"column":16},"end":{"line":132,"column":19}},"69":{"start":{"line":131,"column":20},"end":{"line":131,"column":51}},"70":{"start":{"line":134,"column":16},"end":{"line":134,"column":28}},"71":{"start":{"line":139,"column":4},"end":{"line":158,"column":6}},"72":{"start":{"line":140,"column":8},"end":{"line":140,"column":24}},"73":{"start":{"line":141,"column":8},"end":{"line":157,"column":11}},"74":{"start":{"line":142,"column":12},"end":{"line":142,"column":38}},"75":{"start":{"line":143,"column":12},"end":{"line":146,"column":15}},"76":{"start":{"line":149,"column":12},"end":{"line":156,"column":15}},"77":{"start":{"line":150,"column":16},"end":{"line":150,"column":43}},"78":{"start":{"line":152,"column":16},"end":{"line":155,"column":19}},"79":{"start":{"line":160,"column":4},"end":{"line":189,"column":6}},"80":{"start":{"line":161,"column":8},"end":{"line":161,"column":24}},"81":{"start":{"line":162,"column":8},"end":{"line":188,"column":11}},"82":{"start":{"line":163,"column":12},"end":{"line":187,"column":13}},"83":{"start":{"line":164,"column":16},"end":{"line":164,"column":49}},"84":{"start":{"line":165,"column":19},"end":{"line":187,"column":13}},"85":{"start":{"line":166,"column":16},"end":{"line":182,"column":19}},"86":{"start":{"line":167,"column":20},"end":{"line":176,"column":21}},"87":{"start":{"line":168,"column":24},"end":{"line":175,"column":27}},"88":{"start":{"line":169,"column":28},"end":{"line":174,"column":32}},"89":{"start":{"line":170,"column":32},"end":{"line":173,"column":34}},"90":{"start":{"line":177,"column":20},"end":{"line":181,"column":21}},"91":{"start":{"line":178,"column":24},"end":{"line":178,"column":45}},"92":{"start":{"line":180,"column":24},"end":{"line":180,"column":95}},"93":{"start":{"line":183,"column":19},"end":{"line":187,"column":13}},"94":{"start":{"line":186,"column":16},"end":{"line":186,"column":57}},"95":{"start":{"line":191,"column":4},"end":{"line":227,"column":6}},"96":{"start":{"line":192,"column":8},"end":{"line":192,"column":24}},"97":{"start":{"line":193,"column":8},"end":{"line":193,"column":42}},"98":{"start":{"line":194,"column":8},"end":{"line":195,"column":27}},"99":{"start":{"line":195,"column":12},"end":{"line":195,"column":27}},"100":{"start":{"line":196,"column":8},"end":{"line":198,"column":10}},"101":{"start":{"line":197,"column":12},"end":{"line":197,"column":24}},"102":{"start":{"line":199,"column":8},"end":{"line":199,"column":39}},"103":{"start":{"line":200,"column":8},"end":{"line":226,"column":36}},"104":{"start":{"line":201,"column":12},"end":{"line":201,"column":27}},"105":{"start":{"line":202,"column":12},"end":{"line":202,"column":21}},"106":{"start":{"line":203,"column":12},"end":{"line":207,"column":13}},"107":{"start":{"line":204,"column":16},"end":{"line":204,"column":52}},"108":{"start":{"line":206,"column":16},"end":{"line":206,"column":43}},"109":{"start":{"line":208,"column":12},"end":{"line":223,"column":15}},"110":{"start":{"line":209,"column":16},"end":{"line":211,"column":17}},"111":{"start":{"line":210,"column":20},"end":{"line":210,"column":43}},"112":{"start":{"line":212,"column":16},"end":{"line":222,"column":17}},"113":{"start":{"line":213,"column":20},"end":{"line":219,"column":23}},"114":{"start":{"line":214,"column":24},"end":{"line":217,"column":28}},"115":{"start":{"line":215,"column":28},"end":{"line":215,"column":66}},"116":{"start":{"line":216,"column":28},"end":{"line":216,"column":62}},"117":{"start":{"line":218,"column":24},"end":{"line":218,"column":37}},"118":{"start":{"line":221,"column":20},"end":{"line":221,"column":33}},"119":{"start":{"line":225,"column":12},"end":{"line":225,"column":22}},"120":{"start":{"line":229,"column":4},"end":{"line":233,"column":6}},"121":{"start":{"line":230,"column":8},"end":{"line":232,"column":11}},"122":{"start":{"line":231,"column":12},"end":{"line":231,"column":38}},"123":{"start":{"line":235,"column":4},"end":{"line":260,"column":6}},"124":{"start":{"line":236,"column":8},"end":{"line":236,"column":28}},"125":{"start":{"line":237,"column":8},"end":{"line":237,"column":24}},"126":{"start":{"line":238,"column":8},"end":{"line":238,"column":37}},"127":{"start":{"line":239,"column":8},"end":{"line":239,"column":20}},"128":{"start":{"line":240,"column":8},"end":{"line":244,"column":9}},"129":{"start":{"line":243,"column":12},"end":{"line":243,"column":48}},"130":{"start":{"line":245,"column":8},"end":{"line":259,"column":22}},"131":{"start":{"line":246,"column":12},"end":{"line":258,"column":15}},"132":{"start":{"line":247,"column":16},"end":{"line":247,"column":30}},"133":{"start":{"line":248,"column":16},"end":{"line":248,"column":49}},"134":{"start":{"line":249,"column":16},"end":{"line":249,"column":59}},"135":{"start":{"line":250,"column":16},"end":{"line":257,"column":19}},"136":{"start":{"line":252,"column":20},"end":{"line":256,"column":21}},"137":{"start":{"line":253,"column":24},"end":{"line":253,"column":31}},"138":{"start":{"line":255,"column":24},"end":{"line":255,"column":36}},"139":{"start":{"line":262,"column":4},"end":{"line":282,"column":6}},"140":{"start":{"line":263,"column":8},"end":{"line":263,"column":24}},"141":{"start":{"line":264,"column":8},"end":{"line":281,"column":11}},"142":{"start":{"line":265,"column":12},"end":{"line":280,"column":13}},"143":{"start":{"line":266,"column":16},"end":{"line":266,"column":41}},"144":{"start":{"line":267,"column":19},"end":{"line":280,"column":13}},"145":{"start":{"line":268,"column":16},"end":{"line":277,"column":19}},"146":{"start":{"line":271,"column":20},"end":{"line":276,"column":23}},"147":{"start":{"line":272,"column":24},"end":{"line":272,"column":70}},"148":{"start":{"line":275,"column":24},"end":{"line":275,"column":58}},"149":{"start":{"line":279,"column":16},"end":{"line":279,"column":41}},"150":{"start":{"line":284,"column":4},"end":{"line":289,"column":6}},"151":{"start":{"line":285,"column":8},"end":{"line":285,"column":24}},"152":{"start":{"line":286,"column":8},"end":{"line":288,"column":11}},"153":{"start":{"line":287,"column":12},"end":{"line":287,"column":71}},"154":{"start":{"line":291,"column":4},"end":{"line":297,"column":6}},"155":{"start":{"line":292,"column":8},"end":{"line":296,"column":11}},"156":{"start":{"line":293,"column":12},"end":{"line":293,"column":24}},"157":{"start":{"line":295,"column":12},"end":{"line":295,"column":25}},"158":{"start":{"line":299,"column":4},"end":{"line":305,"column":6}},"159":{"start":{"line":300,"column":8},"end":{"line":304,"column":11}},"160":{"start":{"line":301,"column":12},"end":{"line":301,"column":33}},"161":{"start":{"line":303,"column":12},"end":{"line":303,"column":25}},"162":{"start":{"line":307,"column":4},"end":{"line":313,"column":6}},"163":{"start":{"line":308,"column":8},"end":{"line":312,"column":11}},"164":{"start":{"line":309,"column":12},"end":{"line":309,"column":38}},"165":{"start":{"line":311,"column":12},"end":{"line":311,"column":25}},"166":{"start":{"line":315,"column":4},"end":{"line":321,"column":6}},"167":{"start":{"line":316,"column":8},"end":{"line":320,"column":11}},"168":{"start":{"line":317,"column":12},"end":{"line":317,"column":41}},"169":{"start":{"line":319,"column":12},"end":{"line":319,"column":25}},"170":{"start":{"line":323,"column":4},"end":{"line":326,"column":6}},"171":{"start":{"line":324,"column":8},"end":{"line":324,"column":24}},"172":{"start":{"line":325,"column":8},"end":{"line":325,"column":54}},"173":{"start":{"line":328,"column":4},"end":{"line":331,"column":6}},"174":{"start":{"line":329,"column":8},"end":{"line":329,"column":24}},"175":{"start":{"line":330,"column":8},"end":{"line":330,"column":54}},"176":{"start":{"line":333,"column":4},"end":{"line":337,"column":6}},"177":{"start":{"line":334,"column":8},"end":{"line":335,"column":37}},"178":{"start":{"line":335,"column":12},"end":{"line":335,"column":37}},"179":{"start":{"line":336,"column":8},"end":{"line":336,"column":51}},"180":{"start":{"line":339,"column":4},"end":{"line":348,"column":6}},"181":{"start":{"line":340,"column":8},"end":{"line":340,"column":24}},"182":{"start":{"line":341,"column":8},"end":{"line":347,"column":11}},"183":{"start":{"line":342,"column":12},"end":{"line":346,"column":13}},"184":{"start":{"line":343,"column":16},"end":{"line":343,"column":66}},"185":{"start":{"line":345,"column":16},"end":{"line":345,"column":61}},"186":{"start":{"line":350,"column":4},"end":{"line":370,"column":6}},"187":{"start":{"line":351,"column":8},"end":{"line":351,"column":24}},"188":{"start":{"line":352,"column":8},"end":{"line":352,"column":39}},"189":{"start":{"line":353,"column":8},"end":{"line":353,"column":39}},"190":{"start":{"line":354,"column":8},"end":{"line":354,"column":52}},"191":{"start":{"line":355,"column":8},"end":{"line":355,"column":52}},"192":{"start":{"line":356,"column":8},"end":{"line":356,"column":21}},"193":{"start":{"line":357,"column":8},"end":{"line":364,"column":9}},"194":{"start":{"line":362,"column":12},"end":{"line":362,"column":27}},"195":{"start":{"line":363,"column":12},"end":{"line":363,"column":27}},"196":{"start":{"line":365,"column":8},"end":{"line":368,"column":9}},"197":{"start":{"line":366,"column":12},"end":{"line":366,"column":27}},"198":{"start":{"line":367,"column":12},"end":{"line":367,"column":33}},"199":{"start":{"line":369,"column":8},"end":{"line":369,"column":43}},"200":{"start":{"line":372,"column":4},"end":{"line":396,"column":6}},"201":{"start":{"line":373,"column":8},"end":{"line":376,"column":9}},"202":{"start":{"line":374,"column":12},"end":{"line":374,"column":28}},"203":{"start":{"line":375,"column":12},"end":{"line":375,"column":40}},"204":{"start":{"line":377,"column":8},"end":{"line":377,"column":39}},"205":{"start":{"line":378,"column":8},"end":{"line":378,"column":39}},"206":{"start":{"line":379,"column":8},"end":{"line":379,"column":52}},"207":{"start":{"line":380,"column":8},"end":{"line":380,"column":52}},"208":{"start":{"line":381,"column":8},"end":{"line":382,"column":25}},"209":{"start":{"line":382,"column":12},"end":{"line":382,"column":25}},"210":{"start":{"line":383,"column":8},"end":{"line":390,"column":9}},"211":{"start":{"line":388,"column":12},"end":{"line":388,"column":27}},"212":{"start":{"line":389,"column":12},"end":{"line":389,"column":27}},"213":{"start":{"line":391,"column":8},"end":{"line":394,"column":9}},"214":{"start":{"line":392,"column":12},"end":{"line":392,"column":27}},"215":{"start":{"line":393,"column":12},"end":{"line":393,"column":33}},"216":{"start":{"line":395,"column":8},"end":{"line":395,"column":43}},"217":{"start":{"line":398,"column":4},"end":{"line":413,"column":6}},"218":{"start":{"line":399,"column":8},"end":{"line":399,"column":18}},"219":{"start":{"line":400,"column":8},"end":{"line":400,"column":39}},"220":{"start":{"line":401,"column":8},"end":{"line":401,"column":37}},"221":{"start":{"line":402,"column":8},"end":{"line":402,"column":52}},"222":{"start":{"line":403,"column":8},"end":{"line":403,"column":50}},"223":{"start":{"line":404,"column":8},"end":{"line":405,"column":25}},"224":{"start":{"line":405,"column":12},"end":{"line":405,"column":25}},"225":{"start":{"line":406,"column":8},"end":{"line":407,"column":25}},"226":{"start":{"line":407,"column":12},"end":{"line":407,"column":25}},"227":{"start":{"line":408,"column":8},"end":{"line":411,"column":9}},"228":{"start":{"line":409,"column":12},"end":{"line":410,"column":22}},"229":{"start":{"line":410,"column":16},"end":{"line":410,"column":22}},"230":{"start":{"line":412,"column":8},"end":{"line":412,"column":23}},"231":{"start":{"line":415,"column":4},"end":{"line":415,"column":28}},"232":{"start":{"line":416,"column":4},"end":{"line":420,"column":5}},"233":{"start":{"line":417,"column":8},"end":{"line":417,"column":24}},"234":{"start":{"line":418,"column":8},"end":{"line":418,"column":33}},"235":{"start":{"line":419,"column":8},"end":{"line":419,"column":34}},"236":{"start":{"line":422,"column":4},"end":{"line":437,"column":6}},"237":{"start":{"line":423,"column":8},"end":{"line":423,"column":24}},"238":{"start":{"line":424,"column":8},"end":{"line":426,"column":11}},"239":{"start":{"line":425,"column":12},"end":{"line":425,"column":33}},"240":{"start":{"line":427,"column":8},"end":{"line":436,"column":11}},"241":{"start":{"line":428,"column":12},"end":{"line":428,"column":26}},"242":{"start":{"line":429,"column":12},"end":{"line":435,"column":15}},"243":{"start":{"line":430,"column":16},"end":{"line":432,"column":19}},"244":{"start":{"line":431,"column":20},"end":{"line":431,"column":41}},"245":{"start":{"line":434,"column":16},"end":{"line":434,"column":28}},"246":{"start":{"line":439,"column":4},"end":{"line":459,"column":6}},"247":{"start":{"line":440,"column":8},"end":{"line":440,"column":22}},"248":{"start":{"line":441,"column":8},"end":{"line":441,"column":17}},"249":{"start":{"line":442,"column":8},"end":{"line":455,"column":10}},"250":{"start":{"line":443,"column":12},"end":{"line":454,"column":15}},"251":{"start":{"line":444,"column":16},"end":{"line":453,"column":19}},"252":{"start":{"line":445,"column":20},"end":{"line":445,"column":41}},"253":{"start":{"line":448,"column":20},"end":{"line":452,"column":24}},"254":{"start":{"line":449,"column":24},"end":{"line":451,"column":27}},"255":{"start":{"line":450,"column":28},"end":{"line":450,"column":49}},"256":{"start":{"line":456,"column":8},"end":{"line":458,"column":11}},"257":{"start":{"line":457,"column":12},"end":{"line":457,"column":32}},"258":{"start":{"line":461,"column":4},"end":{"line":461,"column":26}},"259":{"start":{"line":462,"column":4},"end":{"line":465,"column":5}},"260":{"start":{"line":463,"column":8},"end":{"line":463,"column":29}},"261":{"start":{"line":464,"column":8},"end":{"line":464,"column":34}},"262":{"start":{"line":467,"column":4},"end":{"line":475,"column":6}},"263":{"start":{"line":477,"column":4},"end":{"line":481,"column":7}},"264":{"start":{"line":478,"column":8},"end":{"line":480,"column":10}},"265":{"start":{"line":479,"column":12},"end":{"line":479,"column":37}},"266":{"start":{"line":483,"column":4},"end":{"line":485,"column":6}},"267":{"start":{"line":484,"column":8},"end":{"line":484,"column":41}},"268":{"start":{"line":487,"column":4},"end":{"line":489,"column":6}},"269":{"start":{"line":488,"column":8},"end":{"line":488,"column":41}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"2":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":15},"end":{"line":32,"column":15}},{"start":{"line":32,"column":15},"end":{"line":32,"column":15}}]},"3":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":22},"end":{"line":36,"column":29}},{"start":{"line":36,"column":33},"end":{"line":36,"column":35}}]},"4":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":24},"end":{"line":40,"column":37}},{"start":{"line":40,"column":41},"end":{"line":40,"column":44}}]},"5":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"6":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":15},"end":{"line":66,"column":15}},{"start":{"line":66,"column":15},"end":{"line":66,"column":15}}]},"7":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":22},"end":{"line":70,"column":29}},{"start":{"line":70,"column":33},"end":{"line":70,"column":35}}]},"8":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":16},"end":{"line":74,"column":29}},{"start":{"line":74,"column":33},"end":{"line":74,"column":36}}]},"9":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"10":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"11":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":15},"end":{"line":79,"column":15}},{"start":{"line":79,"column":15},"end":{"line":79,"column":15}}]},"12":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":102,"column":8}},{"start":{"line":102,"column":8},"end":{"line":102,"column":8}}]},"13":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":15},"end":{"line":104,"column":15}},{"start":{"line":104,"column":15},"end":{"line":104,"column":15}}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":22},"end":{"line":108,"column":29}},{"start":{"line":108,"column":33},"end":{"line":108,"column":35}}]},"15":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":16},"end":{"line":112,"column":29}},{"start":{"line":112,"column":33},"end":{"line":112,"column":36}}]},"16":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"17":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":12}},{"start":{"line":128,"column":12},"end":{"line":128,"column":12}}]},"18":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":12},"end":{"line":163,"column":12}},{"start":{"line":163,"column":12},"end":{"line":163,"column":12}}]},"19":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":19},"end":{"line":165,"column":19}},{"start":{"line":165,"column":19},"end":{"line":165,"column":19}}]},"20":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":20},"end":{"line":177,"column":20}},{"start":{"line":177,"column":20},"end":{"line":177,"column":20}}]},"21":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":19},"end":{"line":183,"column":19}},{"start":{"line":183,"column":19},"end":{"line":183,"column":19}}]},"22":{"line":193,"type":"binary-expr","locations":[{"start":{"line":193,"column":26},"end":{"line":193,"column":34}},{"start":{"line":193,"column":38},"end":{"line":193,"column":40}}]},"23":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":8},"end":{"line":194,"column":8}},{"start":{"line":194,"column":8},"end":{"line":194,"column":8}}]},"24":{"line":196,"type":"binary-expr","locations":[{"start":{"line":196,"column":16},"end":{"line":196,"column":21}},{"start":{"line":196,"column":25},"end":{"line":198,"column":9}}]},"25":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":16},"end":{"line":209,"column":16}},{"start":{"line":209,"column":16},"end":{"line":209,"column":16}}]},"26":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":16},"end":{"line":212,"column":16}},{"start":{"line":212,"column":16},"end":{"line":212,"column":16}}]},"27":{"line":212,"type":"binary-expr","locations":[{"start":{"line":212,"column":20},"end":{"line":212,"column":36}},{"start":{"line":212,"column":40},"end":{"line":212,"column":58}}]},"28":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":8},"end":{"line":240,"column":8}},{"start":{"line":240,"column":8},"end":{"line":240,"column":8}}]},"29":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":20},"end":{"line":243,"column":33}},{"start":{"line":243,"column":37},"end":{"line":243,"column":46}}]},"30":{"line":248,"type":"binary-expr","locations":[{"start":{"line":248,"column":28},"end":{"line":248,"column":41}},{"start":{"line":248,"column":45},"end":{"line":248,"column":48}}]},"31":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":20},"end":{"line":252,"column":20}},{"start":{"line":252,"column":20},"end":{"line":252,"column":20}}]},"32":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":12},"end":{"line":265,"column":12}},{"start":{"line":265,"column":12},"end":{"line":265,"column":12}}]},"33":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":19},"end":{"line":267,"column":19}},{"start":{"line":267,"column":19},"end":{"line":267,"column":19}}]},"34":{"line":287,"type":"binary-expr","locations":[{"start":{"line":287,"column":55},"end":{"line":287,"column":59}},{"start":{"line":287,"column":63},"end":{"line":287,"column":69}}]},"35":{"line":334,"type":"if","locations":[{"start":{"line":334,"column":8},"end":{"line":334,"column":8}},{"start":{"line":334,"column":8},"end":{"line":334,"column":8}}]},"36":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":12},"end":{"line":342,"column":12}},{"start":{"line":342,"column":12},"end":{"line":342,"column":12}}]},"37":{"line":358,"type":"binary-expr","locations":[{"start":{"line":358,"column":12},"end":{"line":358,"column":25}},{"start":{"line":359,"column":12},"end":{"line":359,"column":25}},{"start":{"line":360,"column":12},"end":{"line":360,"column":34}}]},"38":{"line":373,"type":"if","locations":[{"start":{"line":373,"column":8},"end":{"line":373,"column":8}},{"start":{"line":373,"column":8},"end":{"line":373,"column":8}}]},"39":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":8},"end":{"line":381,"column":8}},{"start":{"line":381,"column":8},"end":{"line":381,"column":8}}]},"40":{"line":381,"type":"binary-expr","locations":[{"start":{"line":381,"column":12},"end":{"line":381,"column":31}},{"start":{"line":381,"column":35},"end":{"line":381,"column":51}}]},"41":{"line":384,"type":"binary-expr","locations":[{"start":{"line":384,"column":12},"end":{"line":384,"column":25}},{"start":{"line":385,"column":12},"end":{"line":385,"column":25}},{"start":{"line":386,"column":12},"end":{"line":386,"column":34}}]},"42":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":8},"end":{"line":404,"column":8}},{"start":{"line":404,"column":8},"end":{"line":404,"column":8}}]},"43":{"line":404,"type":"binary-expr","locations":[{"start":{"line":404,"column":12},"end":{"line":404,"column":31}},{"start":{"line":404,"column":35},"end":{"line":404,"column":51}}]},"44":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":8},"end":{"line":406,"column":8}},{"start":{"line":406,"column":8},"end":{"line":406,"column":8}}]},"45":{"line":409,"type":"if","locations":[{"start":{"line":409,"column":12},"end":{"line":409,"column":12}},{"start":{"line":409,"column":12},"end":{"line":409,"column":12}}]},"46":{"line":418,"type":"binary-expr","locations":[{"start":{"line":418,"column":15},"end":{"line":418,"column":19}},{"start":{"line":418,"column":23},"end":{"line":418,"column":32}}]},"47":{"line":424,"type":"binary-expr","locations":[{"start":{"line":424,"column":33},"end":{"line":424,"column":37}},{"start":{"line":424,"column":41},"end":{"line":424,"column":43}}]}},"code":["var Q = require(\"q\");","var Boot = require(\"./fs-boot\");","var RootFs = require(\"./fs-root\");","var MockFs = require(\"./fs-mock\");","","// TODO patternToRegExp","// TODO glob","// TODO match","","var concat = function (arrays) {","    return Array.prototype.concat.apply([], arrays);","};","","exports.update = function (exports, workingDirectory) {","","    for (var name in Boot) {","        exports[name] = Boot[name];","    }","","    /**","     * Read a complete file.","     * @param {String} path    Path to the file.","     * @param {String} [options.flags]  The mode to open the file with.","     * @param {String} [options.charset]  The charset to open the file with.","     * @param {Object} [options]   An object with options.","     * second argument.","     * @returns {Promise * (String || Buffer)}","     */","    exports.read = function (path, flags, charset, options) {","        if (typeof flags === \"object\") {","            options = flags;","        } else if (typeof charset === \"object\") {","            options = charset;","            options.flags = flags;","        } else {","            options = options || {};","            options.flags = flags;","            options.charset = charset;","        }","        options.flags = options.flags || \"r\";","        return Q.when(this.open(path, options), function (stream) {","            return stream.read();","        }, function (error) {","            error.message = \"Can't read \" + path + \" because \" + error.message;","            error.path = path;","            error.flags = flags;","            error.charset = charset;","            throw error;","        });","    };","","    /**","     * Write content to a file, overwriting the existing content.","     * @param {String} path    Path to the file.","     * @param {String || Buffer} content","     * @param {String} [options.flags]  The mode to open the file with.","     * @param {String} [options.charset]  The charset to open the file with.","     * @param {Object} [options]   An object with options.","     * @returns {Promise * Undefined} a promise that resolves","     * when the writing is complete.","     */","    exports.write = function (path, content, flags, charset, options) {","        var self = this;","        if (typeof flags === \"object\") {","            options = flags;","        } else if (typeof charset === \"object\") {","            options = charset;","            options.flags = flags;","        } else {","            options = options || {};","            options.flags = flags;","            options.charset = charset;","        }","        flags = options.flags || \"w\";","        if (flags.indexOf(\"b\") !== -1) {","            if (!(content instanceof Buffer)) {","                content = new Buffer(content);","            }","        } else if (content instanceof Buffer) {","            flags += \"b\";","        }","        options.flags = flags;","        return Q.when(self.open(path, options), function (stream) {","            return Q.when(stream.write(content), function () {","                return stream.close();","            });","        });","    };","","    /**","     * Append content to the end of a file.","     * @param {String} path    Path to the file.","     * @param {String || Buffer} content","     * @param {String} [options.flags]  The mode to open the file with.","     * @param {String} [options.charset]  The charset to open the file with.","     * @param {Object} [options]   An object with options.","     * @returns {Promise * Undefined} a promise that resolves","     * when the writing is complete.","     */","    exports.append = function (path, content, flags, charset, options) {","        var self = this;","        if (typeof flags === \"object\") {","            options = flags;","        } else if (typeof charset === \"object\") {","            options = charset;","            options.flags = flags;","        } else {","            options = options || {};","            options.flags = flags;","            options.charset = charset;","        }","        flags = options.flags || \"a\";","        if (content instanceof Buffer) {","            flags += \"b\";","        }","        options.flags = flags;","        return Q.when(self.open(path, options), function (stream) {","            return Q.when(stream.write(content), function () {","                return stream.close();","            });","        });","    };","","    exports.move = function (source, target) {","        var self = this;","        return this.rename(source, target)","        .catch(function (error) {","            if (error.crossDevice) {","                return self.copyTree(source, target)","                .then(function () {","                    return self.removeTree(source);","                });","            } else {","                throw error;","            }","        });","    };","","    exports.copy = function (source, target) {","        var self = this;","        return Q.when(self.stat(source), function (stat) {","            var mode = stat.node.mode;","            return Q.all([","                self.open(source, {flags: \"rb\"}),","                self.open(target, {flags: \"wb\", mode: mode})","            ]);","        })","        .spread(function (reader, writer) {","            return Q.when(reader.forEach(function (block) {","                return writer.write(block);","            }), function () {","                return Q.all([","                    reader.close(),","                    writer.close()","                ]);","            });","        });","    };","","    exports.copyTree = function (source, target) {","        var self = this;","        return Q.when(self.stat(source), function (stat) {","            if (stat.isFile()) {","                return self.copy(source, target);","            } else if (stat.isDirectory()) {","                return self.exists(target).then(function (targetExists) {","                    function copySubTree() {","                        return Q.when(self.list(source), function (list) {","                            return Q.all(list.map(function (child) {","                                return self.copyTree(","                                    self.join(source, child),","                                    self.join(target, child)","                                );","                            }));","                        });","                    }","                    if (targetExists) {","                        return copySubTree();","                    } else {","                        return Q.when(self.makeDirectory(target, stat.node.mode), copySubTree);","                    }","                });","            } else if (stat.isSymbolicLink()) {","                // TODO copy the link and type with readPath (but what about","                // Windows junction type?)","                return self.symbolicCopy(source, target);","            }","        });","    };","","    exports.listTree = function (basePath, guard) {","        var self = this;","        basePath = String(basePath || '');","        if (!basePath)","            basePath = \".\";","        guard = guard || function () {","            return true;","        };","        var stat = self.stat(basePath);","        return Q.when(stat, function (stat) {","            var paths = [];","            var mode; // true:include, false:exclude, null:no-recur","            try {","                var include = guard(basePath, stat);","            } catch (exception) {","                return Q.reject(exception);","            }","            return Q.when(include, function (include) {","                if (include) {","                    paths.push([basePath]);","                }","                if (include !== null && stat.isDirectory()) {","                    return Q.when(self.list(basePath), function (children) {","                        paths.push.apply(paths, children.map(function (child) {","                            var path = self.join(basePath, child);","                            return self.listTree(path, guard);","                        }));","                        return paths;","                    });","                } else {","                    return paths;","                }","            });","        }, function noSuchFile(reason) {","            return [];","        }).then(Q.all).then(concat);","    };","","    exports.listDirectoryTree = function (path) {","        return this.listTree(path, function (path, stat) {","            return stat.isDirectory();","        });","    };","","    exports.makeTree = function (path, mode) {","        path = String(path);","        var self = this;","        var parts = self.split(path);","        var at = [];","        if (self.isAbsolute(path)) {","            // On Windows use the root drive (e.g. \"C:\"), on *nix the first","            // part is the falsey \"\", and so use the ROOT (\"/\")","            at.push(parts.shift() || self.ROOT);","        }","        return parts.reduce(function (parent, part) {","            return Q.when(parent, function () {","                at.push(part);","                var parts = self.join(at) || \".\";","                var made = self.makeDirectory(parts, mode);","                return Q.when(made, null, function rejected(error) {","                    // throw away errors for already made directories","                    if (error.exists) {","                        return;","                    } else {","                        throw error;","                    }","                });","            });","        }, undefined);","    };","","    exports.removeTree = function (path) {","        var self = this;","        return Q.when(self.statLink(path), function (stat) {","            if (stat.isSymbolicLink()) {","                return self.remove(path);","            } else if (stat.isDirectory()) {","                return self.list(path)","                .then(function (list) {","                    // asynchronously remove every subtree","                    return Q.all(list.map(function (name) {","                        return self.removeTree(self.join(path, name));","                    }))","                    .then(function () {","                        return self.removeDirectory(path);","                    });","                });","            } else {","                return self.remove(path);","            }","        });","    };","","    exports.symbolicCopy = function (source, target, type) {","        var self = this;","        return Q.when(self.relative(target, source), function (relative) {","            return self.symbolicLink(target, relative, type || \"file\");","        });","    };","","    exports.exists = function (path) {","        return Q.when(this.stat(path), function () {","            return true;","        }, function () {","            return false;","        });","    };","","    exports.isFile = function (path) {","        return Q.when(this.stat(path), function (stat) {","            return stat.isFile();","        }, function (reason) {","            return false;","        });","    };","","    exports.isDirectory = function (path) {","        return Q.when(this.stat(path), function (stat) {","            return stat.isDirectory();","        }, function (reason) {","            return false;","        });","    };","","    exports.isSymbolicLink = function (path) {","        return Q.when(this.statLink(path), function (stat) {","            return stat.isSymbolicLink();","        }, function (reason) {","            return false;","        });","    };","","    exports.lastModified = function (path) {","        var self = this;","        return self.stat(path).invoke('lastModified');","    };","","    exports.lastAccessed = function (path) {","        var self = this;","        return self.stat(path).invoke('lastAccessed');","    };","","    exports.absolute = function (path) {","        if (this.isAbsolute(path))","            return this.normal(path);","        return this.join(workingDirectory(), path);","    };","","    exports.relative = function (source, target) {","        var self = this;","        return Q.when(this.isDirectory(source), function (isDirectory) {","            if (isDirectory) {","                return self.relativeFromDirectory(source, target);","            } else {","                return self.relativeFromFile(source, target);","            }","        });","    };","","    exports.relativeFromFile = function (source, target) {","        var self = this;","        source = self.absolute(source);","        target = self.absolute(target);","        source = source.split(self.SEPARATORS_RE());","        target = target.split(self.SEPARATORS_RE());","        source.pop();","        while (","            source.length &&","            target.length &&","            target[0] == source[0]","        ) {","            source.shift();","            target.shift();","        }","        while (source.length) {","            source.shift();","            target.unshift(\"..\");","        }","        return target.join(self.SEPARATOR);","    };","","    exports.relativeFromDirectory = function (source, target) {","        if (!target) {","            target = source;","            source = workingDirectory();","        }","        source = this.absolute(source);","        target = this.absolute(target);","        source = source.split(this.SEPARATORS_RE());","        target = target.split(this.SEPARATORS_RE());","        if (source.length === 2 && source[1] === \"\")","            source.pop();","        while (","            source.length &&","            target.length &&","            target[0] == source[0]","        ) {","            source.shift();","            target.shift();","        }","        while (source.length) {","            source.shift();","            target.unshift(\"..\");","        }","        return target.join(this.SEPARATOR);","    };","","    exports.contains = function (parent, child) {","        var i, ii;","        parent = this.absolute(parent);","        child = this.absolute(child);","        parent = parent.split(this.SEPARATORS_RE());","        child = child.split(this.SEPARATORS_RE());","        if (parent.length === 2 && parent[1] === \"\")","            parent.pop();","        if (parent.length > child.length)","            return false;","        for (i = 0, ii = parent.length; i < ii; i++) {","            if (parent[i] !== child[i])","                break;","        }","        return i == ii;","    };","","    exports.reroot = reroot;","    function reroot(path) {","        var self = this;","        path = path || this.ROOT;","        return RootFs(self, path);","    }","","    exports.toObject = function (path) {","        var self = this;","        var list = self.listTree(path || \"\", function (path, stat) {","            return stat.isFile();","        });","        return Q.when(list, function (list) {","            var tree = {};","            return Q.all(list.map(function (path) {","                return Q.when(self.read(path, \"rb\"), function (content) {","                    tree[path] = content;","                });","            })).then(function () {","                return tree;","            });","        });","    };","","    exports.merge = function (fss) {","        var tree = {};","        var done;","        fss.forEach(function (fs) {","            done = Q.when(done, function () {","                return fs.listTree(\"\", function (path, stat) {","                    return stat.isFile();","                })","                .then(function (list) {","                    return Q.all(list.map(function (path) {","                        return Q.when(fs.read(path, \"rb\"), function (content) {","                            tree[path] = content;","                        });","                    }));","                });","            });","        })","        return Q.when(done, function () {","            return MockFs(tree);","        });","    };","","    exports.Stats = Stats;","    function Stats(nodeStat) {","        this.node = nodeStat;","        this.size = nodeStat.size;","    }","","    var stats = [","        \"isDirectory\",","        \"isFile\",","        \"isBlockDevice\",","        \"isCharacterDevice\",","        \"isSymbolicLink\",","        \"isFIFO\",","        \"isSocket\"","    ];","","    stats.forEach(function (name) {","        Stats.prototype[name] = function () {","            return this.node[name]();","        };","    });","","    Stats.prototype.lastModified = function () {","        return new Date(this.node.mtime);","    };","","    Stats.prototype.lastAccessed = function () {","        return new Date(this.node.atime);","    };","","}","",""],"l":{"1":2,"2":2,"3":2,"4":2,"10":1,"11":0,"14":1,"16":1,"17":15,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"36":0,"37":0,"38":0,"40":0,"41":0,"42":0,"44":0,"45":0,"46":0,"47":0,"48":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"72":0,"74":0,"75":0,"76":0,"77":0,"79":0,"80":0,"82":0,"83":0,"84":0,"85":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"108":0,"109":0,"110":0,"112":0,"113":0,"114":0,"116":0,"117":0,"118":0,"119":0,"124":1,"125":0,"126":0,"128":0,"129":0,"131":0,"134":0,"139":1,"140":0,"141":0,"142":0,"143":0,"149":0,"150":0,"152":0,"160":1,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":0,"169":0,"170":0,"177":0,"178":0,"180":0,"183":0,"186":0,"191":1,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"206":0,"208":0,"209":0,"210":0,"212":0,"213":0,"214":0,"215":0,"216":0,"218":0,"221":0,"225":0,"229":1,"230":0,"231":0,"235":1,"236":0,"237":0,"238":0,"239":0,"240":0,"243":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"252":0,"253":0,"255":0,"262":1,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"271":0,"272":0,"275":0,"279":0,"284":1,"285":0,"286":0,"287":0,"291":1,"292":0,"293":0,"295":0,"299":1,"300":0,"301":0,"303":0,"307":1,"308":0,"309":0,"311":0,"315":1,"316":0,"317":0,"319":0,"323":1,"324":0,"325":0,"328":1,"329":0,"330":0,"333":1,"334":0,"335":0,"336":0,"339":1,"340":0,"341":0,"342":0,"343":0,"345":0,"350":1,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"362":0,"363":0,"365":0,"366":0,"367":0,"369":0,"372":1,"373":0,"374":0,"375":0,"377":0,"378":0,"379":0,"380":0,"381":0,"382":0,"383":0,"388":0,"389":0,"391":0,"392":0,"393":0,"395":0,"398":1,"399":0,"400":0,"401":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"412":0,"415":1,"416":1,"417":0,"418":0,"419":0,"422":1,"423":0,"424":0,"425":0,"427":0,"428":0,"429":0,"430":0,"431":0,"434":0,"439":1,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"448":0,"449":0,"450":0,"456":0,"457":0,"461":1,"462":1,"463":0,"464":0,"467":1,"477":1,"478":7,"479":0,"483":1,"484":0,"487":1,"488":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-root.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-root.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},"fnMap":{"1":{"name":"RootFs","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"2":{"name":"attenuate","line":11,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":29}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":32}}},"4":{"name":"(anonymous_4)","line":37,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":23}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":34}}},"6":{"name":"workingDirectory","line":54,"loc":{"start":{"line":54,"column":4},"end":{"line":54,"column":32}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":17},"end":{"line":60,"column":33}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":36},"end":{"line":61,"column":52}}},"9":{"name":"(anonymous_9)","line":63,"loc":{"start":{"line":63,"column":22},"end":{"line":63,"column":40}}},"10":{"name":"(anonymous_10)","line":68,"loc":{"start":{"line":68,"column":17},"end":{"line":68,"column":49}}},"11":{"name":"(anonymous_11)","line":69,"loc":{"start":{"line":69,"column":36},"end":{"line":69,"column":52}}},"12":{"name":"(anonymous_12)","line":71,"loc":{"start":{"line":71,"column":22},"end":{"line":71,"column":40}}},"13":{"name":"(anonymous_13)","line":76,"loc":{"start":{"line":76,"column":17},"end":{"line":76,"column":33}}},"14":{"name":"(anonymous_14)","line":77,"loc":{"start":{"line":77,"column":36},"end":{"line":77,"column":52}}},"15":{"name":"(anonymous_15)","line":79,"loc":{"start":{"line":79,"column":22},"end":{"line":79,"column":40}}},"16":{"name":"(anonymous_16)","line":84,"loc":{"start":{"line":84,"column":21},"end":{"line":84,"column":37}}},"17":{"name":"(anonymous_17)","line":85,"loc":{"start":{"line":85,"column":36},"end":{"line":85,"column":52}}},"18":{"name":"(anonymous_18)","line":87,"loc":{"start":{"line":87,"column":22},"end":{"line":87,"column":40}}},"19":{"name":"(anonymous_19)","line":92,"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":38}}},"20":{"name":"(anonymous_20)","line":93,"loc":{"start":{"line":93,"column":36},"end":{"line":93,"column":52}}},"21":{"name":"(anonymous_21)","line":95,"loc":{"start":{"line":95,"column":22},"end":{"line":95,"column":40}}},"22":{"name":"(anonymous_22)","line":100,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":42}}},"23":{"name":"(anonymous_23)","line":101,"loc":{"start":{"line":101,"column":36},"end":{"line":101,"column":52}}},"24":{"name":"(anonymous_24)","line":103,"loc":{"start":{"line":103,"column":17},"end":{"line":103,"column":34}}},"25":{"name":"(anonymous_25)","line":108,"loc":{"start":{"line":108,"column":28},"end":{"line":108,"column":44}}},"26":{"name":"(anonymous_26)","line":109,"loc":{"start":{"line":109,"column":36},"end":{"line":109,"column":52}}},"27":{"name":"(anonymous_27)","line":111,"loc":{"start":{"line":111,"column":17},"end":{"line":111,"column":34}}},"28":{"name":"(anonymous_28)","line":116,"loc":{"start":{"line":116,"column":19},"end":{"line":116,"column":35}}},"29":{"name":"(anonymous_29)","line":117,"loc":{"start":{"line":117,"column":36},"end":{"line":117,"column":52}}},"30":{"name":"(anonymous_30)","line":119,"loc":{"start":{"line":119,"column":17},"end":{"line":119,"column":34}}},"31":{"name":"(anonymous_31)","line":124,"loc":{"start":{"line":124,"column":21},"end":{"line":124,"column":37}}},"32":{"name":"(anonymous_32)","line":125,"loc":{"start":{"line":125,"column":36},"end":{"line":125,"column":52}}},"33":{"name":"(anonymous_33)","line":127,"loc":{"start":{"line":127,"column":17},"end":{"line":127,"column":34}}},"34":{"name":"(anonymous_34)","line":132,"loc":{"start":{"line":132,"column":23},"end":{"line":132,"column":39}}},"35":{"name":"(anonymous_35)","line":133,"loc":{"start":{"line":133,"column":36},"end":{"line":133,"column":52}}},"36":{"name":"(anonymous_36)","line":135,"loc":{"start":{"line":135,"column":17},"end":{"line":135,"column":34}}},"37":{"name":"(anonymous_37)","line":140,"loc":{"start":{"line":140,"column":41},"end":{"line":140,"column":58}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"5":{"start":{"line":8,"column":0},"end":{"line":144,"column":1}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":36}},"7":{"start":{"line":11,"column":4},"end":{"line":52,"column":5}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":19}},"9":{"start":{"line":18,"column":8},"end":{"line":22,"column":9}},"10":{"start":{"line":19,"column":12},"end":{"line":19,"column":67}},"11":{"start":{"line":21,"column":12},"end":{"line":21,"column":26}},"12":{"start":{"line":27,"column":8},"end":{"line":27,"column":48}},"13":{"start":{"line":30,"column":8},"end":{"line":30,"column":65}},"14":{"start":{"line":32,"column":8},"end":{"line":32,"column":42}},"15":{"start":{"line":34,"column":8},"end":{"line":51,"column":11}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":26}},"17":{"start":{"line":38,"column":12},"end":{"line":38,"column":26}},"18":{"start":{"line":43,"column":12},"end":{"line":50,"column":13}},"19":{"start":{"line":44,"column":16},"end":{"line":47,"column":18}},"20":{"start":{"line":49,"column":16},"end":{"line":49,"column":71}},"21":{"start":{"line":54,"column":4},"end":{"line":56,"column":5}},"22":{"start":{"line":55,"column":8},"end":{"line":55,"column":26}},"23":{"start":{"line":58,"column":4},"end":{"line":58,"column":43}},"24":{"start":{"line":60,"column":4},"end":{"line":66,"column":6}},"25":{"start":{"line":61,"column":8},"end":{"line":65,"column":11}},"26":{"start":{"line":62,"column":12},"end":{"line":62,"column":42}},"27":{"start":{"line":64,"column":12},"end":{"line":64,"column":66}},"28":{"start":{"line":68,"column":4},"end":{"line":74,"column":6}},"29":{"start":{"line":69,"column":8},"end":{"line":73,"column":11}},"30":{"start":{"line":70,"column":12},"end":{"line":70,"column":58}},"31":{"start":{"line":72,"column":12},"end":{"line":72,"column":66}},"32":{"start":{"line":76,"column":4},"end":{"line":82,"column":6}},"33":{"start":{"line":77,"column":8},"end":{"line":81,"column":11}},"34":{"start":{"line":78,"column":12},"end":{"line":78,"column":42}},"35":{"start":{"line":80,"column":12},"end":{"line":80,"column":66}},"36":{"start":{"line":84,"column":4},"end":{"line":90,"column":6}},"37":{"start":{"line":85,"column":8},"end":{"line":89,"column":11}},"38":{"start":{"line":86,"column":12},"end":{"line":86,"column":46}},"39":{"start":{"line":88,"column":12},"end":{"line":88,"column":70}},"40":{"start":{"line":92,"column":4},"end":{"line":98,"column":6}},"41":{"start":{"line":93,"column":8},"end":{"line":97,"column":11}},"42":{"start":{"line":94,"column":12},"end":{"line":94,"column":30}},"43":{"start":{"line":96,"column":12},"end":{"line":96,"column":79}},"44":{"start":{"line":100,"column":4},"end":{"line":106,"column":6}},"45":{"start":{"line":101,"column":8},"end":{"line":105,"column":11}},"46":{"start":{"line":102,"column":12},"end":{"line":102,"column":51}},"47":{"start":{"line":104,"column":12},"end":{"line":104,"column":76}},"48":{"start":{"line":108,"column":4},"end":{"line":114,"column":6}},"49":{"start":{"line":109,"column":8},"end":{"line":113,"column":11}},"50":{"start":{"line":110,"column":12},"end":{"line":110,"column":53}},"51":{"start":{"line":112,"column":12},"end":{"line":112,"column":78}},"52":{"start":{"line":116,"column":4},"end":{"line":122,"column":6}},"53":{"start":{"line":117,"column":8},"end":{"line":121,"column":11}},"54":{"start":{"line":118,"column":12},"end":{"line":118,"column":44}},"55":{"start":{"line":120,"column":12},"end":{"line":120,"column":68}},"56":{"start":{"line":124,"column":4},"end":{"line":130,"column":6}},"57":{"start":{"line":125,"column":8},"end":{"line":129,"column":11}},"58":{"start":{"line":126,"column":12},"end":{"line":126,"column":46}},"59":{"start":{"line":128,"column":12},"end":{"line":128,"column":71}},"60":{"start":{"line":132,"column":4},"end":{"line":138,"column":6}},"61":{"start":{"line":133,"column":8},"end":{"line":137,"column":11}},"62":{"start":{"line":134,"column":12},"end":{"line":134,"column":48}},"63":{"start":{"line":136,"column":12},"end":{"line":136,"column":73}},"64":{"start":{"line":140,"column":4},"end":{"line":143,"column":7}},"65":{"start":{"line":141,"column":8},"end":{"line":141,"column":21}},"66":{"start":{"line":142,"column":8},"end":{"line":142,"column":21}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"2":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":12}},{"start":{"line":43,"column":12},"end":{"line":43,"column":12}}]}},"code":["","var Q = require(\"q\");","var BOOT = require(\"./fs-boot\");","var COMMON = require(\"./fs-common\");","","module.exports = RootFs;","","function RootFs(outer, root) {","    var inner = Object.create(BOOT);","","    function attenuate(path) {","","        // the machinations of projecting a path inside a","        // subroot","        var actual;","        // if it's absolute, we want the path relative to","        // the root of the inner file system","        if (outer.isAbsolute(path)) {","            actual = outer.relativeFromDirectory(outer.ROOT, path);","        } else {","            actual = path;","        }","        // we join the path onto the root of the inner file","        // system so that parent references from the root","        // return to the root, emulating standard unix","        // behavior","        actual = outer.join(outer.ROOT, actual);","        // then we reconstruct the path relative to the","        // inner root","        actual = outer.relativeFromDirectory(outer.ROOT, actual);","        // and rejoin it on the outer root","        actual = outer.join(root, actual);","        // and find the corresponding real path","        return outer.canonical(actual)","        .then(function (actual) {","            return actual;","        }, function () {","            return actual;","        }).then(function (actual) {","            // and verify that the outer canonical path is","            // actually inside the inner canonical path, to","            // prevent break-outs","            if (outer.contains(root, actual)) {","                return {","                    \"inner\": outer.join(outer.ROOT, outer.relativeFromDirectory(root, actual)),","                    \"outer\": actual","                };","            } else {","                return Q.reject(\"Can't find: \" + JSON.stringify(path));","            }","        });","    }","","    function workingDirectory() {","        return outer.ROOT;","    }","","    COMMON.update(inner, workingDirectory);","","    inner.list = function (path) {","        return attenuate(path).then(function (path) {","            return outer.list(path.outer);","        }).then(null, function (reason) {","            return Q.reject(\"Can't list \" + JSON.stringify(path));","        });","    };","","    inner.open = function (path, flags, charset) {","        return attenuate(path).then(function (path) {","            return outer.open(path.outer, flags, charset);","        }).then(null, function (reason) {","            return Q.reject(\"Can't open \" + JSON.stringify(path));","        });","    };","","    inner.stat = function (path) {","        return attenuate(path).then(function (path) {","            return outer.stat(path.outer);","        }).then(null, function (reason) {","            return Q.reject(\"Can't stat \" + JSON.stringify(path));","        });","    };","","    inner.statLink = function (path) {","        return attenuate(path).then(function (path) {","            return outer.statLink(path.outer);","        }).then(null, function (reason) {","            return Q.reject(\"Can't statLink \" + JSON.stringify(path));","        });","    };","","    inner.canonical = function (path) {","        return attenuate(path).then(function (path) {","            return path.inner;","        }).then(null, function (reason) {","            return Q.reject(\"Can't find canonical of \" + JSON.stringify(path));","        });","    };","","    inner.makeDirectory = function (path) {","        return attenuate(path).then(function (path) {","            return outer.makeDirectory(path.outer);","        }).catch(function (error) {","            throw new Error(\"Can't make directory \" + JSON.stringify(path));","        });","    };","","    inner.removeDirectory = function (path) {","        return attenuate(path).then(function (path) {","            return outer.removeDirectory(path.outer);","        }).catch(function (error) {","            throw new Error(\"Can't remove directory \" + JSON.stringify(path));","        });","    };","","    inner.remove = function (path) {","        return attenuate(path).then(function (path) {","            return outer.remove(path.outer);","        }).catch(function (error) {","            throw new Error(\"Can't remove \" + JSON.stringify(path));","        });","    };","","    inner.makeTree = function (path) {","        return attenuate(path).then(function (path) {","            return outer.makeTree(path.outer);","        }).catch(function (error) {","            throw new Error(\"Can't make tree \" + JSON.stringify(path));","        });","    };","","    inner.removeTree = function (path) {","        return attenuate(path).then(function (path) {","            return outer.removeTree(path.outer);","        }).catch(function (error) {","            throw new Error(\"Can't remove tree \" + JSON.stringify(path));","        });","    };","","    return Q.when(outer.canonical(root), function (_root) {","        root = _root;","        return inner;","    });","}","",""],"l":{"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"11":1,"15":0,"18":0,"19":0,"21":0,"27":0,"30":0,"32":0,"34":0,"36":0,"38":0,"43":0,"44":0,"49":0,"54":1,"55":0,"58":0,"60":0,"61":0,"62":0,"64":0,"68":0,"69":0,"70":0,"72":0,"76":0,"77":0,"78":0,"80":0,"84":0,"85":0,"86":0,"88":0,"92":0,"93":0,"94":0,"96":0,"100":0,"101":0,"102":0,"104":0,"108":0,"109":0,"110":0,"112":0,"116":0,"117":0,"118":0,"120":0,"124":0,"125":0,"126":0,"128":0,"132":0,"133":0,"134":0,"136":0,"140":0,"141":0,"142":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-mock.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs-mock.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":2,"19":2,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":2,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":2,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":2,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":2,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":2,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":2,"136":0,"137":0,"138":0,"139":0,"140":2,"141":0,"142":0,"143":0,"144":0,"145":2,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":2,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":2,"172":0,"173":0,"174":0,"175":0,"176":2,"177":0,"178":0,"179":0,"180":0,"181":2,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":2,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":2,"222":0,"223":0,"224":0,"225":0,"226":2,"227":1,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":1,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":2,"246":0,"247":0,"248":0,"249":0,"250":0,"251":2,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":2,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":2,"268":0,"269":0,"270":0,"271":2,"272":0,"273":2,"274":0,"275":2,"276":2,"277":14,"278":0,"279":2,"280":0,"281":2,"282":0,"283":1,"284":0,"285":0,"286":2,"287":2,"288":0,"289":2,"290":0,"291":0,"292":1,"293":0,"294":0,"295":0,"296":2,"297":2,"298":0,"299":2,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":2,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":1,"325":0,"326":0,"327":2,"328":2,"329":0,"330":2,"331":0,"332":0,"333":0,"334":0,"335":0,"336":0,"337":0,"338":0,"339":2,"340":0,"341":2},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":14,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0},"fnMap":{"1":{"name":"MockFs","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":41}}},"2":{"name":"init","line":17,"loc":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":24},"end":{"line":21,"column":36}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":25},"end":{"line":33,"column":48}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":31},"end":{"line":35,"column":47}}},"6":{"name":"(anonymous_6)","line":58,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":40}}},"7":{"name":"(anonymous_7)","line":60,"loc":{"start":{"line":60,"column":19},"end":{"line":60,"column":31}}},"8":{"name":"(anonymous_8)","line":70,"loc":{"start":{"line":70,"column":24},"end":{"line":70,"column":65}}},"9":{"name":"(anonymous_9)","line":72,"loc":{"start":{"line":72,"column":19},"end":{"line":72,"column":31}}},"10":{"name":"(anonymous_10)","line":135,"loc":{"start":{"line":135,"column":26},"end":{"line":135,"column":42}}},"11":{"name":"(anonymous_11)","line":137,"loc":{"start":{"line":137,"column":19},"end":{"line":137,"column":31}}},"12":{"name":"(anonymous_12)","line":155,"loc":{"start":{"line":155,"column":33},"end":{"line":155,"column":55}}},"13":{"name":"(anonymous_13)","line":157,"loc":{"start":{"line":157,"column":19},"end":{"line":157,"column":31}}},"14":{"name":"(anonymous_14)","line":182,"loc":{"start":{"line":182,"column":35},"end":{"line":182,"column":51}}},"15":{"name":"(anonymous_15)","line":184,"loc":{"start":{"line":184,"column":19},"end":{"line":184,"column":31}}},"16":{"name":"(anonymous_16)","line":202,"loc":{"start":{"line":202,"column":24},"end":{"line":202,"column":40}}},"17":{"name":"(anonymous_17)","line":204,"loc":{"start":{"line":204,"column":19},"end":{"line":204,"column":31}}},"18":{"name":"(anonymous_18)","line":210,"loc":{"start":{"line":210,"column":28},"end":{"line":210,"column":44}}},"19":{"name":"(anonymous_19)","line":212,"loc":{"start":{"line":212,"column":19},"end":{"line":212,"column":31}}},"20":{"name":"(anonymous_20)","line":218,"loc":{"start":{"line":218,"column":24},"end":{"line":218,"column":50}}},"21":{"name":"(anonymous_21)","line":220,"loc":{"start":{"line":220,"column":19},"end":{"line":220,"column":31}}},"22":{"name":"(anonymous_22)","line":240,"loc":{"start":{"line":240,"column":32},"end":{"line":240,"column":66}}},"23":{"name":"(anonymous_23)","line":242,"loc":{"start":{"line":242,"column":19},"end":{"line":242,"column":31}}},"24":{"name":"(anonymous_24)","line":254,"loc":{"start":{"line":254,"column":25},"end":{"line":254,"column":48}}},"25":{"name":"(anonymous_25)","line":256,"loc":{"start":{"line":256,"column":19},"end":{"line":256,"column":31}}},"26":{"name":"(anonymous_26)","line":262,"loc":{"start":{"line":262,"column":25},"end":{"line":262,"column":47}}},"27":{"name":"(anonymous_27)","line":264,"loc":{"start":{"line":264,"column":19},"end":{"line":264,"column":31}}},"28":{"name":"(anonymous_28)","line":270,"loc":{"start":{"line":270,"column":26},"end":{"line":270,"column":52}}},"29":{"name":"(anonymous_29)","line":272,"loc":{"start":{"line":272,"column":19},"end":{"line":272,"column":31}}},"30":{"name":"(anonymous_30)","line":321,"loc":{"start":{"line":321,"column":28},"end":{"line":321,"column":44}}},"31":{"name":"(anonymous_31)","line":323,"loc":{"start":{"line":323,"column":19},"end":{"line":323,"column":31}}},"32":{"name":"(anonymous_32)","line":333,"loc":{"start":{"line":333,"column":29},"end":{"line":333,"column":45}}},"33":{"name":"(anonymous_33)","line":335,"loc":{"start":{"line":335,"column":19},"end":{"line":335,"column":31}}},"34":{"name":"mock","line":342,"loc":{"start":{"line":342,"column":0},"end":{"line":342,"column":24}}},"35":{"name":"(anonymous_35)","line":343,"loc":{"start":{"line":343,"column":37},"end":{"line":343,"column":53}}},"36":{"name":"(anonymous_36)","line":345,"loc":{"start":{"line":345,"column":30},"end":{"line":345,"column":46}}},"37":{"name":"(anonymous_37)","line":348,"loc":{"start":{"line":348,"column":43},"end":{"line":348,"column":59}}},"38":{"name":"(anonymous_38)","line":350,"loc":{"start":{"line":350,"column":55},"end":{"line":350,"column":74}}},"39":{"name":"(anonymous_39)","line":355,"loc":{"start":{"line":355,"column":17},"end":{"line":355,"column":29}}},"40":{"name":"Node","line":361,"loc":{"start":{"line":361,"column":0},"end":{"line":361,"column":18}}},"41":{"name":"(anonymous_41)","line":370,"loc":{"start":{"line":370,"column":23},"end":{"line":370,"column":50}}},"42":{"name":"(anonymous_42)","line":380,"loc":{"start":{"line":380,"column":28},"end":{"line":380,"column":56}}},"43":{"name":"(anonymous_43)","line":395,"loc":{"start":{"line":395,"column":28},"end":{"line":395,"column":44}}},"44":{"name":"(anonymous_44)","line":405,"loc":{"start":{"line":405,"column":33},"end":{"line":405,"column":55}}},"45":{"name":"(anonymous_45)","line":412,"loc":{"start":{"line":412,"column":25},"end":{"line":412,"column":37}}},"46":{"name":"(anonymous_46)","line":416,"loc":{"start":{"line":416,"column":24},"end":{"line":416,"column":36}}},"47":{"name":"(anonymous_47)","line":430,"loc":{"start":{"line":430,"column":14},"end":{"line":430,"column":30}}},"48":{"name":"(anonymous_48)","line":431,"loc":{"start":{"line":431,"column":27},"end":{"line":431,"column":39}}},"49":{"name":"(anonymous_49)","line":436,"loc":{"start":{"line":436,"column":30},"end":{"line":436,"column":42}}},"50":{"name":"(anonymous_50)","line":440,"loc":{"start":{"line":440,"column":30},"end":{"line":440,"column":42}}},"51":{"name":"FileNode","line":444,"loc":{"start":{"line":444,"column":0},"end":{"line":444,"column":22}}},"52":{"name":"(anonymous_52)","line":451,"loc":{"start":{"line":451,"column":28},"end":{"line":451,"column":40}}},"53":{"name":"(anonymous_53)","line":458,"loc":{"start":{"line":458,"column":9},"end":{"line":458,"column":21}}},"54":{"name":"(anonymous_54)","line":459,"loc":{"start":{"line":459,"column":35},"end":{"line":459,"column":58}}},"55":{"name":"DirectoryNode","line":465,"loc":{"start":{"line":465,"column":0},"end":{"line":465,"column":27}}},"56":{"name":"(anonymous_56)","line":473,"loc":{"start":{"line":473,"column":38},"end":{"line":473,"column":50}}},"57":{"name":"(anonymous_57)","line":477,"loc":{"start":{"line":477,"column":37},"end":{"line":477,"column":65}}},"58":{"name":"(anonymous_58)","line":499,"loc":{"start":{"line":499,"column":42},"end":{"line":499,"column":64}}},"59":{"name":"LinkNode","line":519,"loc":{"start":{"line":519,"column":0},"end":{"line":519,"column":28}}},"60":{"name":"(anonymous_60)","line":526,"loc":{"start":{"line":526,"column":36},"end":{"line":526,"column":48}}},"61":{"name":"(anonymous_61)","line":530,"loc":{"start":{"line":530,"column":29},"end":{"line":530,"column":50}}},"62":{"name":"(anonymous_62)","line":542,"loc":{"start":{"line":542,"column":37},"end":{"line":542,"column":59}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":46}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":24}},"8":{"start":{"line":11,"column":0},"end":{"line":29,"column":1}},"9":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":51}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":46}},"12":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"13":{"start":{"line":21,"column":4},"end":{"line":23,"column":7}},"14":{"start":{"line":22,"column":8},"end":{"line":22,"column":32}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":53}},"16":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"17":{"start":{"line":27,"column":8},"end":{"line":27,"column":26}},"18":{"start":{"line":31,"column":0},"end":{"line":31,"column":39}},"19":{"start":{"line":33,"column":0},"end":{"line":56,"column":2}},"20":{"start":{"line":34,"column":4},"end":{"line":34,"column":29}},"21":{"start":{"line":35,"column":4},"end":{"line":55,"column":13}},"22":{"start":{"line":36,"column":8},"end":{"line":36,"column":34}},"23":{"start":{"line":37,"column":8},"end":{"line":37,"column":37}},"24":{"start":{"line":38,"column":8},"end":{"line":38,"column":45}},"25":{"start":{"line":39,"column":8},"end":{"line":39,"column":35}},"26":{"start":{"line":40,"column":8},"end":{"line":40,"column":62}},"27":{"start":{"line":41,"column":8},"end":{"line":41,"column":42}},"28":{"start":{"line":42,"column":8},"end":{"line":52,"column":9}},"29":{"start":{"line":43,"column":12},"end":{"line":51,"column":13}},"30":{"start":{"line":45,"column":16},"end":{"line":45,"column":45}},"31":{"start":{"line":47,"column":16},"end":{"line":47,"column":42}},"32":{"start":{"line":48,"column":16},"end":{"line":48,"column":23}},"33":{"start":{"line":50,"column":16},"end":{"line":50,"column":63}},"34":{"start":{"line":53,"column":8},"end":{"line":53,"column":48}},"35":{"start":{"line":54,"column":8},"end":{"line":54,"column":37}},"36":{"start":{"line":58,"column":0},"end":{"line":68,"column":2}},"37":{"start":{"line":59,"column":4},"end":{"line":59,"column":20}},"38":{"start":{"line":60,"column":4},"end":{"line":67,"column":7}},"39":{"start":{"line":61,"column":8},"end":{"line":61,"column":35}},"40":{"start":{"line":62,"column":8},"end":{"line":62,"column":56}},"41":{"start":{"line":63,"column":8},"end":{"line":65,"column":9}},"42":{"start":{"line":64,"column":12},"end":{"line":64,"column":75}},"43":{"start":{"line":66,"column":8},"end":{"line":66,"column":49}},"44":{"start":{"line":70,"column":0},"end":{"line":133,"column":2}},"45":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"46":{"start":{"line":72,"column":4},"end":{"line":132,"column":7}},"47":{"start":{"line":73,"column":8},"end":{"line":73,"column":35}},"48":{"start":{"line":74,"column":8},"end":{"line":74,"column":45}},"49":{"start":{"line":75,"column":8},"end":{"line":75,"column":35}},"50":{"start":{"line":76,"column":8},"end":{"line":76,"column":47}},"51":{"start":{"line":77,"column":8},"end":{"line":79,"column":9}},"52":{"start":{"line":78,"column":12},"end":{"line":78,"column":100}},"53":{"start":{"line":80,"column":8},"end":{"line":86,"column":9}},"54":{"start":{"line":81,"column":12},"end":{"line":81,"column":28}},"55":{"start":{"line":82,"column":12},"end":{"line":82,"column":34}},"56":{"start":{"line":83,"column":12},"end":{"line":83,"column":38}},"57":{"start":{"line":85,"column":12},"end":{"line":85,"column":36}},"58":{"start":{"line":87,"column":8},"end":{"line":87,"column":29}},"59":{"start":{"line":88,"column":8},"end":{"line":88,"column":45}},"60":{"start":{"line":89,"column":8},"end":{"line":89,"column":44}},"61":{"start":{"line":90,"column":8},"end":{"line":90,"column":45}},"62":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"63":{"start":{"line":92,"column":12},"end":{"line":92,"column":41}},"64":{"start":{"line":94,"column":8},"end":{"line":131,"column":9}},"65":{"start":{"line":95,"column":12},"end":{"line":100,"column":13}},"66":{"start":{"line":96,"column":16},"end":{"line":96,"column":57}},"67":{"start":{"line":97,"column":16},"end":{"line":99,"column":17}},"68":{"start":{"line":98,"column":20},"end":{"line":98,"column":60}},"69":{"start":{"line":101,"column":12},"end":{"line":101,"column":61}},"70":{"start":{"line":102,"column":12},"end":{"line":104,"column":13}},"71":{"start":{"line":103,"column":16},"end":{"line":103,"column":64}},"72":{"start":{"line":105,"column":12},"end":{"line":105,"column":40}},"73":{"start":{"line":106,"column":12},"end":{"line":106,"column":40}},"74":{"start":{"line":107,"column":12},"end":{"line":109,"column":13}},"75":{"start":{"line":108,"column":16},"end":{"line":108,"column":44}},"76":{"start":{"line":110,"column":12},"end":{"line":110,"column":63}},"77":{"start":{"line":112,"column":12},"end":{"line":114,"column":13}},"78":{"start":{"line":113,"column":16},"end":{"line":113,"column":67}},"79":{"start":{"line":115,"column":12},"end":{"line":115,"column":61}},"80":{"start":{"line":116,"column":12},"end":{"line":118,"column":13}},"81":{"start":{"line":117,"column":16},"end":{"line":117,"column":63}},"82":{"start":{"line":119,"column":12},"end":{"line":119,"column":40}},"83":{"start":{"line":120,"column":12},"end":{"line":130,"column":13}},"84":{"start":{"line":121,"column":16},"end":{"line":127,"column":18}},"85":{"start":{"line":129,"column":16},"end":{"line":129,"column":67}},"86":{"start":{"line":135,"column":0},"end":{"line":153,"column":2}},"87":{"start":{"line":136,"column":4},"end":{"line":136,"column":20}},"88":{"start":{"line":137,"column":4},"end":{"line":152,"column":7}},"89":{"start":{"line":138,"column":8},"end":{"line":138,"column":35}},"90":{"start":{"line":139,"column":8},"end":{"line":139,"column":45}},"91":{"start":{"line":140,"column":8},"end":{"line":140,"column":35}},"92":{"start":{"line":141,"column":8},"end":{"line":141,"column":47}},"93":{"start":{"line":142,"column":8},"end":{"line":144,"column":9}},"94":{"start":{"line":143,"column":12},"end":{"line":143,"column":77}},"95":{"start":{"line":145,"column":8},"end":{"line":147,"column":9}},"96":{"start":{"line":146,"column":12},"end":{"line":146,"column":71}},"97":{"start":{"line":148,"column":8},"end":{"line":150,"column":9}},"98":{"start":{"line":149,"column":12},"end":{"line":149,"column":84}},"99":{"start":{"line":151,"column":8},"end":{"line":151,"column":35}},"100":{"start":{"line":155,"column":0},"end":{"line":180,"column":2}},"101":{"start":{"line":156,"column":4},"end":{"line":156,"column":20}},"102":{"start":{"line":157,"column":4},"end":{"line":179,"column":7}},"103":{"start":{"line":158,"column":8},"end":{"line":158,"column":35}},"104":{"start":{"line":159,"column":8},"end":{"line":159,"column":45}},"105":{"start":{"line":160,"column":8},"end":{"line":160,"column":35}},"106":{"start":{"line":161,"column":8},"end":{"line":161,"column":47}},"107":{"start":{"line":162,"column":8},"end":{"line":167,"column":9}},"108":{"start":{"line":163,"column":12},"end":{"line":163,"column":85}},"109":{"start":{"line":164,"column":12},"end":{"line":164,"column":35}},"110":{"start":{"line":165,"column":12},"end":{"line":165,"column":32}},"111":{"start":{"line":166,"column":12},"end":{"line":166,"column":24}},"112":{"start":{"line":168,"column":8},"end":{"line":174,"column":9}},"113":{"start":{"line":169,"column":12},"end":{"line":169,"column":81}},"114":{"start":{"line":170,"column":12},"end":{"line":170,"column":34}},"115":{"start":{"line":171,"column":12},"end":{"line":171,"column":32}},"116":{"start":{"line":172,"column":12},"end":{"line":172,"column":37}},"117":{"start":{"line":173,"column":12},"end":{"line":173,"column":24}},"118":{"start":{"line":175,"column":8},"end":{"line":175,"column":54}},"119":{"start":{"line":176,"column":8},"end":{"line":178,"column":9}},"120":{"start":{"line":177,"column":12},"end":{"line":177,"column":44}},"121":{"start":{"line":182,"column":0},"end":{"line":200,"column":2}},"122":{"start":{"line":183,"column":4},"end":{"line":183,"column":20}},"123":{"start":{"line":184,"column":4},"end":{"line":199,"column":7}},"124":{"start":{"line":185,"column":8},"end":{"line":185,"column":35}},"125":{"start":{"line":186,"column":8},"end":{"line":186,"column":45}},"126":{"start":{"line":187,"column":8},"end":{"line":187,"column":35}},"127":{"start":{"line":188,"column":8},"end":{"line":188,"column":47}},"128":{"start":{"line":189,"column":8},"end":{"line":191,"column":9}},"129":{"start":{"line":190,"column":12},"end":{"line":190,"column":82}},"130":{"start":{"line":192,"column":8},"end":{"line":194,"column":9}},"131":{"start":{"line":193,"column":12},"end":{"line":193,"column":76}},"132":{"start":{"line":195,"column":8},"end":{"line":197,"column":9}},"133":{"start":{"line":196,"column":12},"end":{"line":196,"column":67}},"134":{"start":{"line":198,"column":8},"end":{"line":198,"column":35}},"135":{"start":{"line":202,"column":0},"end":{"line":208,"column":2}},"136":{"start":{"line":203,"column":4},"end":{"line":203,"column":20}},"137":{"start":{"line":204,"column":4},"end":{"line":207,"column":7}},"138":{"start":{"line":205,"column":8},"end":{"line":205,"column":35}},"139":{"start":{"line":206,"column":8},"end":{"line":206,"column":68}},"140":{"start":{"line":210,"column":0},"end":{"line":216,"column":2}},"141":{"start":{"line":211,"column":4},"end":{"line":211,"column":20}},"142":{"start":{"line":212,"column":4},"end":{"line":215,"column":7}},"143":{"start":{"line":213,"column":8},"end":{"line":213,"column":35}},"144":{"start":{"line":214,"column":8},"end":{"line":214,"column":54}},"145":{"start":{"line":218,"column":0},"end":{"line":238,"column":2}},"146":{"start":{"line":219,"column":4},"end":{"line":219,"column":20}},"147":{"start":{"line":220,"column":4},"end":{"line":237,"column":7}},"148":{"start":{"line":221,"column":8},"end":{"line":221,"column":39}},"149":{"start":{"line":222,"column":8},"end":{"line":222,"column":39}},"150":{"start":{"line":223,"column":8},"end":{"line":223,"column":66}},"151":{"start":{"line":224,"column":8},"end":{"line":226,"column":9}},"152":{"start":{"line":225,"column":12},"end":{"line":225,"column":62}},"153":{"start":{"line":227,"column":8},"end":{"line":227,"column":47}},"154":{"start":{"line":228,"column":8},"end":{"line":228,"column":37}},"155":{"start":{"line":229,"column":8},"end":{"line":229,"column":72}},"156":{"start":{"line":230,"column":8},"end":{"line":232,"column":9}},"157":{"start":{"line":231,"column":12},"end":{"line":231,"column":77}},"158":{"start":{"line":233,"column":8},"end":{"line":235,"column":9}},"159":{"start":{"line":234,"column":12},"end":{"line":234,"column":92}},"160":{"start":{"line":236,"column":8},"end":{"line":236,"column":47}},"161":{"start":{"line":240,"column":0},"end":{"line":252,"column":2}},"162":{"start":{"line":241,"column":4},"end":{"line":241,"column":20}},"163":{"start":{"line":242,"column":4},"end":{"line":251,"column":7}},"164":{"start":{"line":243,"column":8},"end":{"line":243,"column":39}},"165":{"start":{"line":244,"column":8},"end":{"line":244,"column":47}},"166":{"start":{"line":245,"column":8},"end":{"line":245,"column":37}},"167":{"start":{"line":246,"column":8},"end":{"line":246,"column":47}},"168":{"start":{"line":247,"column":8},"end":{"line":249,"column":9}},"169":{"start":{"line":248,"column":12},"end":{"line":248,"column":96}},"170":{"start":{"line":250,"column":8},"end":{"line":250,"column":59}},"171":{"start":{"line":254,"column":0},"end":{"line":260,"column":2}},"172":{"start":{"line":255,"column":4},"end":{"line":255,"column":20}},"173":{"start":{"line":256,"column":4},"end":{"line":259,"column":7}},"174":{"start":{"line":257,"column":8},"end":{"line":257,"column":35}},"175":{"start":{"line":258,"column":8},"end":{"line":258,"column":60}},"176":{"start":{"line":262,"column":0},"end":{"line":268,"column":2}},"177":{"start":{"line":263,"column":4},"end":{"line":263,"column":20}},"178":{"start":{"line":264,"column":4},"end":{"line":267,"column":7}},"179":{"start":{"line":265,"column":8},"end":{"line":265,"column":35}},"180":{"start":{"line":266,"column":8},"end":{"line":266,"column":57}},"181":{"start":{"line":270,"column":0},"end":{"line":319,"column":2}},"182":{"start":{"line":271,"column":4},"end":{"line":271,"column":20}},"183":{"start":{"line":272,"column":4},"end":{"line":318,"column":7}},"184":{"start":{"line":273,"column":8},"end":{"line":273,"column":39}},"185":{"start":{"line":274,"column":8},"end":{"line":274,"column":39}},"186":{"start":{"line":276,"column":8},"end":{"line":276,"column":53}},"187":{"start":{"line":277,"column":8},"end":{"line":277,"column":93}},"188":{"start":{"line":278,"column":8},"end":{"line":278,"column":43}},"189":{"start":{"line":279,"column":8},"end":{"line":279,"column":66}},"190":{"start":{"line":281,"column":8},"end":{"line":285,"column":9}},"191":{"start":{"line":282,"column":12},"end":{"line":282,"column":77}},"192":{"start":{"line":283,"column":12},"end":{"line":283,"column":34}},"193":{"start":{"line":284,"column":12},"end":{"line":284,"column":24}},"194":{"start":{"line":287,"column":8},"end":{"line":287,"column":48}},"195":{"start":{"line":290,"column":8},"end":{"line":294,"column":9}},"196":{"start":{"line":291,"column":12},"end":{"line":291,"column":77}},"197":{"start":{"line":292,"column":12},"end":{"line":292,"column":34}},"198":{"start":{"line":293,"column":12},"end":{"line":293,"column":24}},"199":{"start":{"line":296,"column":8},"end":{"line":296,"column":53}},"200":{"start":{"line":297,"column":8},"end":{"line":297,"column":93}},"201":{"start":{"line":298,"column":8},"end":{"line":298,"column":43}},"202":{"start":{"line":299,"column":8},"end":{"line":299,"column":66}},"203":{"start":{"line":301,"column":8},"end":{"line":303,"column":9}},"204":{"start":{"line":302,"column":12},"end":{"line":302,"column":52}},"205":{"start":{"line":305,"column":8},"end":{"line":309,"column":9}},"206":{"start":{"line":306,"column":12},"end":{"line":306,"column":83}},"207":{"start":{"line":307,"column":12},"end":{"line":307,"column":34}},"208":{"start":{"line":308,"column":12},"end":{"line":308,"column":24}},"209":{"start":{"line":312,"column":8},"end":{"line":314,"column":9}},"210":{"start":{"line":313,"column":12},"end":{"line":313,"column":19}},"211":{"start":{"line":316,"column":8},"end":{"line":316,"column":62}},"212":{"start":{"line":317,"column":8},"end":{"line":317,"column":56}},"213":{"start":{"line":321,"column":0},"end":{"line":331,"column":2}},"214":{"start":{"line":322,"column":4},"end":{"line":322,"column":20}},"215":{"start":{"line":323,"column":4},"end":{"line":330,"column":7}},"216":{"start":{"line":324,"column":8},"end":{"line":324,"column":35}},"217":{"start":{"line":325,"column":8},"end":{"line":325,"column":42}},"218":{"start":{"line":326,"column":8},"end":{"line":328,"column":9}},"219":{"start":{"line":327,"column":12},"end":{"line":327,"column":69}},"220":{"start":{"line":329,"column":8},"end":{"line":329,"column":26}},"221":{"start":{"line":333,"column":0},"end":{"line":339,"column":2}},"222":{"start":{"line":334,"column":4},"end":{"line":334,"column":20}},"223":{"start":{"line":335,"column":4},"end":{"line":338,"column":7}},"224":{"start":{"line":336,"column":8},"end":{"line":336,"column":35}},"225":{"start":{"line":337,"column":8},"end":{"line":337,"column":43}},"226":{"start":{"line":341,"column":0},"end":{"line":341,"column":19}},"227":{"start":{"line":342,"column":0},"end":{"line":359,"column":1}},"228":{"start":{"line":343,"column":4},"end":{"line":358,"column":7}},"229":{"start":{"line":344,"column":8},"end":{"line":344,"column":22}},"230":{"start":{"line":345,"column":8},"end":{"line":357,"column":11}},"231":{"start":{"line":346,"column":12},"end":{"line":346,"column":45}},"232":{"start":{"line":347,"column":12},"end":{"line":347,"column":66}},"233":{"start":{"line":348,"column":12},"end":{"line":354,"column":15}},"234":{"start":{"line":349,"column":16},"end":{"line":353,"column":17}},"235":{"start":{"line":350,"column":20},"end":{"line":352,"column":23}},"236":{"start":{"line":351,"column":24},"end":{"line":351,"column":49}},"237":{"start":{"line":356,"column":12},"end":{"line":356,"column":32}},"238":{"start":{"line":361,"column":0},"end":{"line":368,"column":1}},"239":{"start":{"line":362,"column":4},"end":{"line":363,"column":48}},"240":{"start":{"line":363,"column":8},"end":{"line":363,"column":48}},"241":{"start":{"line":364,"column":4},"end":{"line":364,"column":18}},"242":{"start":{"line":365,"column":4},"end":{"line":365,"column":41}},"243":{"start":{"line":366,"column":4},"end":{"line":366,"column":36}},"244":{"start":{"line":367,"column":4},"end":{"line":367,"column":23}},"245":{"start":{"line":370,"column":0},"end":{"line":378,"column":2}},"246":{"start":{"line":371,"column":4},"end":{"line":371,"column":37}},"247":{"start":{"line":372,"column":4},"end":{"line":377,"column":5}},"248":{"start":{"line":373,"column":8},"end":{"line":373,"column":22}},"249":{"start":{"line":374,"column":8},"end":{"line":374,"column":69}},"250":{"start":{"line":376,"column":8},"end":{"line":376,"column":66}},"251":{"start":{"line":380,"column":0},"end":{"line":393,"column":2}},"252":{"start":{"line":381,"column":4},"end":{"line":392,"column":5}},"253":{"start":{"line":382,"column":8},"end":{"line":382,"column":20}},"254":{"start":{"line":384,"column":8},"end":{"line":384,"column":33}},"255":{"start":{"line":385,"column":8},"end":{"line":391,"column":9}},"256":{"start":{"line":386,"column":12},"end":{"line":386,"column":74}},"257":{"start":{"line":388,"column":12},"end":{"line":388,"column":144}},"258":{"start":{"line":389,"column":12},"end":{"line":389,"column":34}},"259":{"start":{"line":390,"column":12},"end":{"line":390,"column":24}},"260":{"start":{"line":395,"column":0},"end":{"line":403,"column":2}},"261":{"start":{"line":396,"column":4},"end":{"line":398,"column":5}},"262":{"start":{"line":397,"column":8},"end":{"line":397,"column":73}},"263":{"start":{"line":399,"column":4},"end":{"line":399,"column":37}},"264":{"start":{"line":400,"column":4},"end":{"line":400,"column":18}},"265":{"start":{"line":401,"column":4},"end":{"line":401,"column":28}},"266":{"start":{"line":402,"column":4},"end":{"line":402,"column":60}},"267":{"start":{"line":405,"column":0},"end":{"line":410,"column":2}},"268":{"start":{"line":406,"column":4},"end":{"line":408,"column":5}},"269":{"start":{"line":407,"column":8},"end":{"line":407,"column":19}},"270":{"start":{"line":409,"column":4},"end":{"line":409,"column":52}},"271":{"start":{"line":412,"column":0},"end":{"line":414,"column":2}},"272":{"start":{"line":413,"column":4},"end":{"line":413,"column":16}},"273":{"start":{"line":416,"column":0},"end":{"line":418,"column":2}},"274":{"start":{"line":417,"column":4},"end":{"line":417,"column":28}},"275":{"start":{"line":420,"column":0},"end":{"line":428,"column":2}},"276":{"start":{"line":430,"column":0},"end":{"line":434,"column":3}},"277":{"start":{"line":431,"column":4},"end":{"line":433,"column":6}},"278":{"start":{"line":432,"column":8},"end":{"line":432,"column":21}},"279":{"start":{"line":436,"column":0},"end":{"line":438,"column":2}},"280":{"start":{"line":437,"column":4},"end":{"line":437,"column":22}},"281":{"start":{"line":440,"column":0},"end":{"line":442,"column":2}},"282":{"start":{"line":441,"column":4},"end":{"line":441,"column":22}},"283":{"start":{"line":444,"column":0},"end":{"line":447,"column":1}},"284":{"start":{"line":445,"column":4},"end":{"line":445,"column":24}},"285":{"start":{"line":446,"column":4},"end":{"line":446,"column":22}},"286":{"start":{"line":449,"column":0},"end":{"line":449,"column":51}},"287":{"start":{"line":451,"column":0},"end":{"line":453,"column":2}},"288":{"start":{"line":452,"column":4},"end":{"line":452,"column":16}},"289":{"start":{"line":455,"column":0},"end":{"line":463,"column":3}},"290":{"start":{"line":459,"column":8},"end":{"line":461,"column":14}},"291":{"start":{"line":460,"column":12},"end":{"line":460,"column":40}},"292":{"start":{"line":465,"column":0},"end":{"line":469,"column":1}},"293":{"start":{"line":466,"column":4},"end":{"line":466,"column":24}},"294":{"start":{"line":467,"column":4},"end":{"line":467,"column":40}},"295":{"start":{"line":468,"column":4},"end":{"line":468,"column":36}},"296":{"start":{"line":471,"column":0},"end":{"line":471,"column":56}},"297":{"start":{"line":473,"column":0},"end":{"line":475,"column":2}},"298":{"start":{"line":474,"column":4},"end":{"line":474,"column":16}},"299":{"start":{"line":477,"column":0},"end":{"line":497,"column":2}},"300":{"start":{"line":478,"column":4},"end":{"line":478,"column":31}},"301":{"start":{"line":479,"column":4},"end":{"line":481,"column":5}},"302":{"start":{"line":480,"column":8},"end":{"line":480,"column":20}},"303":{"start":{"line":482,"column":4},"end":{"line":482,"column":29}},"304":{"start":{"line":483,"column":4},"end":{"line":485,"column":5}},"305":{"start":{"line":484,"column":8},"end":{"line":484,"column":70}},"306":{"start":{"line":486,"column":4},"end":{"line":495,"column":5}},"307":{"start":{"line":487,"column":8},"end":{"line":494,"column":9}},"308":{"start":{"line":488,"column":12},"end":{"line":488,"column":62}},"309":{"start":{"line":490,"column":12},"end":{"line":490,"column":120}},"310":{"start":{"line":491,"column":12},"end":{"line":491,"column":34}},"311":{"start":{"line":492,"column":12},"end":{"line":492,"column":24}},"312":{"start":{"line":496,"column":4},"end":{"line":496,"column":81}},"313":{"start":{"line":499,"column":0},"end":{"line":517,"column":2}},"314":{"start":{"line":500,"column":4},"end":{"line":502,"column":5}},"315":{"start":{"line":501,"column":8},"end":{"line":501,"column":19}},"316":{"start":{"line":503,"column":4},"end":{"line":503,"column":29}},"317":{"start":{"line":504,"column":4},"end":{"line":506,"column":5}},"318":{"start":{"line":505,"column":8},"end":{"line":505,"column":19}},"319":{"start":{"line":507,"column":4},"end":{"line":509,"column":5}},"320":{"start":{"line":508,"column":8},"end":{"line":508,"column":17}},"321":{"start":{"line":510,"column":4},"end":{"line":512,"column":5}},"322":{"start":{"line":511,"column":8},"end":{"line":511,"column":62}},"323":{"start":{"line":513,"column":4},"end":{"line":516,"column":6}},"324":{"start":{"line":519,"column":0},"end":{"line":522,"column":1}},"325":{"start":{"line":520,"column":4},"end":{"line":520,"column":24}},"326":{"start":{"line":521,"column":4},"end":{"line":521,"column":22}},"327":{"start":{"line":524,"column":0},"end":{"line":524,"column":51}},"328":{"start":{"line":526,"column":0},"end":{"line":528,"column":2}},"329":{"start":{"line":527,"column":4},"end":{"line":527,"column":16}},"330":{"start":{"line":530,"column":0},"end":{"line":540,"column":2}},"331":{"start":{"line":531,"column":4},"end":{"line":531,"column":25}},"332":{"start":{"line":532,"column":4},"end":{"line":536,"column":5}},"333":{"start":{"line":533,"column":8},"end":{"line":533,"column":92}},"334":{"start":{"line":534,"column":8},"end":{"line":534,"column":29}},"335":{"start":{"line":535,"column":8},"end":{"line":535,"column":20}},"336":{"start":{"line":537,"column":4},"end":{"line":537,"column":19}},"337":{"start":{"line":538,"column":4},"end":{"line":538,"column":52}},"338":{"start":{"line":539,"column":4},"end":{"line":539,"column":64}},"339":{"start":{"line":542,"column":0},"end":{"line":548,"column":2}},"340":{"start":{"line":543,"column":4},"end":{"line":547,"column":6}},"341":{"start":{"line":551,"column":0},"end":{"line":551,"column":25}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":39}},{"start":{"line":25,"column":43},"end":{"line":25,"column":52}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"4":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":11},"end":{"line":34,"column":15}},{"start":{"line":34,"column":19},"end":{"line":34,"column":28}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":12}},{"start":{"line":43,"column":12},"end":{"line":43,"column":12}}]},"7":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":8}},{"start":{"line":77,"column":8},"end":{"line":77,"column":8}}]},"9":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"10":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":22},"end":{"line":85,"column":29}},{"start":{"line":85,"column":33},"end":{"line":85,"column":35}}]},"11":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":16},"end":{"line":87,"column":21}},{"start":{"line":87,"column":25},"end":{"line":87,"column":28}}]},"12":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"13":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":22},"end":{"line":92,"column":29}},{"start":{"line":92,"column":33},"end":{"line":92,"column":40}}]},"14":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"15":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":17}},{"start":{"line":94,"column":21},"end":{"line":94,"column":27}}]},"16":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":12},"end":{"line":95,"column":12}},{"start":{"line":95,"column":12},"end":{"line":95,"column":12}}]},"17":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":16}},{"start":{"line":97,"column":16},"end":{"line":97,"column":16}}]},"18":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":12}},{"start":{"line":102,"column":12},"end":{"line":102,"column":12}}]},"19":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"20":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":12},"end":{"line":112,"column":12}},{"start":{"line":112,"column":12},"end":{"line":112,"column":12}}]},"21":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":116,"column":12}},{"start":{"line":116,"column":12},"end":{"line":116,"column":12}}]},"22":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":12},"end":{"line":120,"column":12}},{"start":{"line":120,"column":12},"end":{"line":120,"column":12}}]},"23":{"line":120,"type":"binary-expr","locations":[{"start":{"line":120,"column":16},"end":{"line":120,"column":34}},{"start":{"line":120,"column":38},"end":{"line":120,"column":54}}]},"24":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":8}},{"start":{"line":142,"column":8},"end":{"line":142,"column":8}}]},"25":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":8}},{"start":{"line":145,"column":8},"end":{"line":145,"column":8}}]},"26":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":8},"end":{"line":148,"column":8}},{"start":{"line":148,"column":8},"end":{"line":148,"column":8}}]},"27":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":8}},{"start":{"line":162,"column":8},"end":{"line":162,"column":8}}]},"28":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":8},"end":{"line":168,"column":8}},{"start":{"line":168,"column":8},"end":{"line":168,"column":8}}]},"29":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":8},"end":{"line":176,"column":8}},{"start":{"line":176,"column":8},"end":{"line":176,"column":8}}]},"30":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"31":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":8},"end":{"line":192,"column":8}},{"start":{"line":192,"column":8},"end":{"line":192,"column":8}}]},"32":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":8},"end":{"line":195,"column":8}},{"start":{"line":195,"column":8},"end":{"line":195,"column":8}}]},"33":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":8}},{"start":{"line":224,"column":8},"end":{"line":224,"column":8}}]},"34":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":8},"end":{"line":230,"column":8}},{"start":{"line":230,"column":8},"end":{"line":230,"column":8}}]},"35":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":8},"end":{"line":233,"column":8}},{"start":{"line":233,"column":8},"end":{"line":233,"column":8}}]},"36":{"line":233,"type":"binary-expr","locations":[{"start":{"line":233,"column":12},"end":{"line":233,"column":37}},{"start":{"line":233,"column":41},"end":{"line":233,"column":80}}]},"37":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":8},"end":{"line":247,"column":8}},{"start":{"line":247,"column":8},"end":{"line":247,"column":8}}]},"38":{"line":247,"type":"binary-expr","locations":[{"start":{"line":247,"column":12},"end":{"line":247,"column":31}},{"start":{"line":247,"column":35},"end":{"line":247,"column":68}}]},"39":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":8},"end":{"line":281,"column":8}},{"start":{"line":281,"column":8},"end":{"line":281,"column":8}}]},"40":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":8},"end":{"line":290,"column":8}},{"start":{"line":290,"column":8},"end":{"line":290,"column":8}}]},"41":{"line":301,"type":"if","locations":[{"start":{"line":301,"column":8},"end":{"line":301,"column":8}},{"start":{"line":301,"column":8},"end":{"line":301,"column":8}}]},"42":{"line":305,"type":"if","locations":[{"start":{"line":305,"column":8},"end":{"line":305,"column":8}},{"start":{"line":305,"column":8},"end":{"line":305,"column":8}}]},"43":{"line":305,"type":"binary-expr","locations":[{"start":{"line":305,"column":12},"end":{"line":305,"column":22}},{"start":{"line":305,"column":26},"end":{"line":305,"column":50}}]},"44":{"line":312,"type":"if","locations":[{"start":{"line":312,"column":8},"end":{"line":312,"column":8}},{"start":{"line":312,"column":8},"end":{"line":312,"column":8}}]},"45":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":8},"end":{"line":326,"column":8}},{"start":{"line":326,"column":8},"end":{"line":326,"column":8}}]},"46":{"line":349,"type":"if","locations":[{"start":{"line":349,"column":16},"end":{"line":349,"column":16}},{"start":{"line":349,"column":16},"end":{"line":349,"column":16}}]},"47":{"line":362,"type":"if","locations":[{"start":{"line":362,"column":4},"end":{"line":362,"column":4}},{"start":{"line":362,"column":4},"end":{"line":362,"column":4}}]},"48":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":4}},{"start":{"line":372,"column":4},"end":{"line":372,"column":4}}]},"49":{"line":376,"type":"binary-expr","locations":[{"start":{"line":376,"column":44},"end":{"line":376,"column":47}},{"start":{"line":376,"column":51},"end":{"line":376,"column":64}}]},"50":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":4},"end":{"line":381,"column":4}},{"start":{"line":381,"column":4},"end":{"line":381,"column":4}}]},"51":{"line":385,"type":"if","locations":[{"start":{"line":385,"column":8},"end":{"line":385,"column":8}},{"start":{"line":385,"column":8},"end":{"line":385,"column":8}}]},"52":{"line":396,"type":"if","locations":[{"start":{"line":396,"column":4},"end":{"line":396,"column":4}},{"start":{"line":396,"column":4},"end":{"line":396,"column":4}}]},"53":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":4},"end":{"line":406,"column":4}},{"start":{"line":406,"column":4},"end":{"line":406,"column":4}}]},"54":{"line":478,"type":"binary-expr","locations":[{"start":{"line":478,"column":10},"end":{"line":478,"column":13}},{"start":{"line":478,"column":17},"end":{"line":478,"column":30}}]},"55":{"line":479,"type":"if","locations":[{"start":{"line":479,"column":4},"end":{"line":479,"column":4}},{"start":{"line":479,"column":4},"end":{"line":479,"column":4}}]},"56":{"line":483,"type":"if","locations":[{"start":{"line":483,"column":4},"end":{"line":483,"column":4}},{"start":{"line":483,"column":4},"end":{"line":483,"column":4}}]},"57":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":4},"end":{"line":486,"column":4}},{"start":{"line":486,"column":4},"end":{"line":486,"column":4}}]},"58":{"line":487,"type":"if","locations":[{"start":{"line":487,"column":8},"end":{"line":487,"column":8}},{"start":{"line":487,"column":8},"end":{"line":487,"column":8}}]},"59":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":4},"end":{"line":500,"column":4}},{"start":{"line":500,"column":4},"end":{"line":500,"column":4}}]},"60":{"line":504,"type":"if","locations":[{"start":{"line":504,"column":4},"end":{"line":504,"column":4}},{"start":{"line":504,"column":4},"end":{"line":504,"column":4}}]},"61":{"line":507,"type":"if","locations":[{"start":{"line":507,"column":4},"end":{"line":507,"column":4}},{"start":{"line":507,"column":4},"end":{"line":507,"column":4}}]},"62":{"line":510,"type":"if","locations":[{"start":{"line":510,"column":4},"end":{"line":510,"column":4}},{"start":{"line":510,"column":4},"end":{"line":510,"column":4}}]},"63":{"line":531,"type":"binary-expr","locations":[{"start":{"line":531,"column":11},"end":{"line":531,"column":15}},{"start":{"line":531,"column":19},"end":{"line":531,"column":24}}]},"64":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":4},"end":{"line":532,"column":4}},{"start":{"line":532,"column":4},"end":{"line":532,"column":4}}]}},"code":["","var Q = require(\"q\");","var Boot = require(\"./fs-boot\");","var Common = require(\"./fs-common\");","var BufferStream = require(\"./buffer-stream\");","var Reader = require(\"./reader\");","var Set = require(\"collections/set\");","","module.exports = MockFs;","","function MockFs(files, workingDirectory) {","    if (!(this instanceof MockFs)) {","        return new MockFs(files, workingDirectory);","    }","    this._root = new DirectoryNode(this, \"/\");","","    function init() {","        // construct a file tree","    }","","    Common.update(this, function () {","        return workingDirectory;","    });","","    workingDirectory = workingDirectory || this.ROOT;","    if (files) {","        this._init(files);","    }","}","","MockFs.prototype = Object.create(Boot);","","MockFs.prototype._init = function (files, tree) {","    tree = tree || this.ROOT;","    Object.keys(files).forEach(function (path) {","        var content = files[path];","        path = this.join(tree, path);","        var directory = this.directory(path);","        var base = this.base(path);","        var directoryNode = this._root._walk(directory, true);","        var fileNode = new FileNode(this);","        if (!(content instanceof Buffer)) {","            if (typeof content === \"object\") {","                // make directory","                this._root._walk(path, true);","                // make content","                this._init(content, path);","                return;","            } else {","                content = new Buffer(String(content), \"utf-8\");","            }","        }","        directoryNode._entries[base] = fileNode;","        fileNode._chunks = [content];","    }, this);","};","","MockFs.prototype.list = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var node = self._root._walk(path)._follow(path);","        if (!node.isDirectory()) {","            new Error(\"Can't list non-directory: \" + JSON.stringify(path));","        }","        return Object.keys(node._entries).sort();","    });","};","","MockFs.prototype.open = function (path, flags, charset, options) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var directory = self.directory(path);","        var base = self.base(path);","        var node = self._root._walk(directory);","        if (!node.isDirectory()) {","            throw new Error(\"Can't find \" + path + \" because \" + directory + \" is not a directory\");","        }","        if (typeof flags == \"object\") {","            options = flags;","            flags = options.flags;","            charset = options.charset;","        } else {","            options = options || {};","        }","        flags = flags || \"r\";","        var binary = flags.indexOf(\"b\") >= 0;","        var write = flags.indexOf(\"w\") >= 0;","        var append = flags.indexOf(\"a\") >= 0;","        if (!binary) {","            charset = charset || \"utf-8\";","        }","        if (write || append) {","            if (!node._entries[base]) {","                node._entries[base] = new FileNode(this);","                if (\"mode\" in options) {","                    node._entries[base].mode = options.mode;","                }","            }","            var fileNode = node._entries[base]._follow(path);","            if (!fileNode.isFile()) {","                throw new Error(\"Can't write non-file \" + path);","            }","            fileNode.mtime = Date.now();","            fileNode.atime = Date.now();","            if (!append) {","                fileNode._chunks.length = 0;","            }","            return new BufferStream(fileNode._chunks, charset);","        } else { // read","            if (!node._entries[base]) {","                throw new Error(\"Can't read non-existant \" + path);","            }","            var fileNode = node._entries[base]._follow(path);","            if (!fileNode.isFile()) {","                throw new Error(\"Can't read non-file \" + path);","            }","            fileNode.atime = Date.now();","            if (\"begin\" in options && \"end\" in options) {","                return new BufferStream(","                    [","                        Reader.join(fileNode._chunks)","                        .slice(options.begin, options.end)","                    ],","                    charset","                );","            } else {","                return new BufferStream(fileNode._chunks, charset);","            }","        }","    });","};","","MockFs.prototype.remove = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var directory = self.directory(path);","        var name = self.base(path);","        var node = self._root._walk(directory);","        if (!node.isDirectory()) {","            throw new Error(\"Can't remove file from non-directory: \" + path);","        }","        if (!node._entries[name]) {","            throw new Error(\"Can't remove non-existant file: \" + path);","        }","        if (node._entries[name].isDirectory()) {","            throw new Error(\"Can't remove directory. Use removeDirectory: \" + path);","        }","        delete node._entries[name];","    });","};","","MockFs.prototype.makeDirectory = function (path, mode) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var directory = self.directory(path);","        var name = self.base(path);","        var node = self._root._walk(directory);","        if (!node.isDirectory()) {","            var error =  new Error(\"Can't make directory in non-directory: \" + path);","            error.code = \"EEXISTS\";","            error.exists = true;","            throw error;","        }","        if (node._entries[name]) {","            var error = new Error(\"Can't make directory. Entry exists: \" + path);","            error.code = \"EISDIR\";","            error.exists = true;","            error.isDirectory = true;","            throw error;","        }","        node._entries[name] = new DirectoryNode(self);","        if (mode) {","            node._entries[name].mode = mode;","        }","    });","};","","MockFs.prototype.removeDirectory = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var directory = self.directory(path);","        var name = self.base(path);","        var node = self._root._walk(directory);","        if (!node.isDirectory()) {","            throw new Error(\"Can't remove directory from non-directory: \" + path);","        }","        if (!node._entries[name]) {","            throw new Error(\"Can't remove non-existant directory: \" + path);","        }","        if (!node._entries[name].isDirectory()) {","            throw new Error(\"Can't remove non-directory: \" + path);","        }","        delete node._entries[name];","    });","};","","MockFs.prototype.stat = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        return new self.Stats(self._root._walk(path)._follow(path));","    });","};","","MockFs.prototype.statLink = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        return new self.Stats(self._root._walk(path));","    });","};","","MockFs.prototype.link = function (source, target) {","    var self = this;","    return Q.fcall(function () {","        source = self.absolute(source);","        target = self.absolute(target);","        var sourceNode = self._root._walk(source)._follow(source);","        if (!sourceNode.isFile()) {","            throw new Error(\"Can't link non-file: \" + source);","        }","        var directory = self.directory(target);","        var base = self.base(target);","        var targetNode = self._root._walk(directory)._follow(directory);","        if (!targetNode.isDirectory()) {","            throw new Error(\"Can't create link in non-directory: \" + target);","        }","        if (targetNode._entries[base] && targetNode._entries[base].isDirectory()) {","            throw new Error(\"Can't overwrite existing directory with hard link: \" + target);","        }","        targetNode._entries[base] = sourceNode;","    });","};","","MockFs.prototype.symbolicLink = function (target, relative, type) {","    var self = this;","    return Q.fcall(function () {","        target = self.absolute(target);","        var directory = self.directory(target);","        var base = self.base(target);","        var node = self._root._walk(directory);","        if (node._entries[base] && node._entries[base].isDirectory()) {","            throw new Error(\"Can't overwrite existing directory with symbolic link: \" + target);","        }","        node._entries[base] = new LinkNode(self, relative);","    });","};","","MockFs.prototype.chown = function (path, owner) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        self._root._walk(path)._follow(path)._owner = owner;","    });","};","","MockFs.prototype.chmod = function (path, mode) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        self._root._walk(path)._follow(path).mode = mode;","    });","};","","MockFs.prototype.rename = function (source, target) {","    var self = this;","    return Q.fcall(function () {","        source = self.absolute(source);","        target = self.absolute(target);","","        var sourceDirectory = self.directory(source);","        var sourceDirectoryNode = self._root._walk(sourceDirectory)._follow(sourceDirectory);","        var sourceName = self.base(source);","        var sourceNode = sourceDirectoryNode._entries[sourceName];","","        if (!sourceNode) {","            var error = new Error(\"Can't copy non-existent file: \" + source);","            error.code = \"ENOENT\";","            throw error;","        }","","        sourceNode = sourceNode._follow(source);","","        // check again after following symbolic links","        if (!sourceNode) {","            var error = new Error(\"Can't copy non-existent file: \" + source);","            error.code = \"ENOENT\";","            throw error;","        }","","        var targetDirectory = self.directory(target);","        var targetDirectoryNode = self._root._walk(targetDirectory)._follow(targetDirectory);","        var targetName = self.base(target);","        var targetNode = targetDirectoryNode._entries[targetName]; // might not exist, not followed","","        if (targetNode) {","            targetNode = targetNode._follow(target);","        }","","        if (targetNode && targetNode.isDirectory()) {","            var error = new Error(\"Can't copy over existing directory: \" + target);","            error.code = \"EISDIR\";","            throw error;","        }","","        // do not copy over self, even with symbolic links to confuse the issue","        if (targetNode === sourceNode) {","            return;","        }","","        targetDirectoryNode._entries[targetName] = sourceNode;","        delete sourceDirectoryNode._entries[sourceName];","    });","};","","MockFs.prototype.readLink = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        var node = self._root._walk(path);","        if (!self.isSymbolicLink()) {","            throw new Error(\"Can't read non-symbolic link: \" + path);","        }","        return node._link;","    });","};","","MockFs.prototype.canonical = function (path) {","    var self = this;","    return Q.fcall(function () {","        path = self.absolute(path);","        return self._root._canonical(path);","    });","};","","MockFs.mock = mock;","function mock(fs, root) {","    return Q.when(fs.listTree(root), function (list) {","        var tree = {};","        return Q.all(list.map(function (path) {","            var actual = fs.join(root, path);","            var relative = fs.relativeFromDirectory(root, actual);","            return Q.when(fs.stat(actual), function (stat) {","                if (stat.isFile()) {","                    return Q.when(fs.read(path, \"rb\"), function (content) {","                        tree[relative] = content;","                    });","                }","            });","        })).then(function () {","            return MockFs(tree);","        });","    });","}","","function Node(fs) {","    if (!fs)","        throw new Error(\"FS required argument\");","    this._fs = fs;","    this.atime = this.mtime = Date.now();","    this.mode = parseInt(\"0644\", 8);","    this._owner = null;","}","","Node.prototype._walk = function (path, make, via) {","    var parts = this._fs.split(path);","    if (this._fs.isAbsolute(path)) {","        parts.shift();","        return this._fs._root._walkParts(parts, make, this._fs.ROOT);","    } else {","        return this._walkParts(parts, make, via || this._fs.ROOT);","    }","};","","Node.prototype._walkParts = function (parts, make, via) {","    if (parts.length === 0) {","        return this;","    } else {","        var part = parts.shift();","        if (part === \"\") {","            return this._walkParts(parts, make, this._fs.join(via, part));","        } else {","            var error = new Error(\"Can't find \" + JSON.stringify(this._fs.resolve(part, this._fs.join(parts))) + \" via \" + JSON.stringify(via));","            error.code = \"ENOENT\";","            throw error;","        }","    }","};","","Node.prototype._canonical = function (path) {","    if (!this._fs.isAbsolute(path)) {","        throw new Error(\"Path must be absolute for _canonical: \" + path);","    }","    var parts = this._fs.split(path);","    parts.shift();","    var via = this._fs.ROOT;","    return via + this._fs._root._canonicalParts(parts, via);","};","","Node.prototype._canonicalParts = function (parts, via) {","    if (parts.length === 0) {","        return via;","    }","    return this._fs.join(via, this._fs.join(parts));","};","","Node.prototype._follow = function () {","    return this;","};","","Node.prototype._touch = function () {","    this.mtime = Date.now();","};","","var stats = [","    \"isDirectory\",","    \"isFile\",","    \"isBlockDevice\",","    \"isCharacterDevice\",","    \"isSymbolicLink\",","    \"isFIFO\",","    \"isSocket\"","];","","stats.forEach(function (name) {","    Node.prototype[name] = function () {","        return false;","    };","});","","Node.prototype.lastAccessed = function () {","    return this.atime;","};","","Node.prototype.lastModified = function () {","    return this.mtime;","};","","function FileNode(fs) {","    Node.call(this, fs);","    this._chunks = [];","}","","FileNode.prototype = Object.create(Node.prototype);","","FileNode.prototype.isFile = function () {","    return true;","};","","Object.defineProperty(FileNode.prototype, \"size\", {","    configurable: true,","    enumerable: true,","    get: function () {","        return this._chunks.reduce(function (size, chunk) {","            return size += chunk.length;","        }, 0);","    }","});","","function DirectoryNode(fs) {","    Node.call(this, fs);","    this._entries = Object.create(null);","    this.mode = parseInt(\"0755\", 8);","}","","DirectoryNode.prototype = Object.create(Node.prototype);","","DirectoryNode.prototype.isDirectory = function () {","    return true;","};","","DirectoryNode.prototype._walkParts = function (parts, make, via) {","    via = via || this._fs.ROOT;","    if (parts.length === 0) {","        return this;","    }","    var part = parts.shift();","    if (part === \"\") {","        return this._walkParts(parts, make, this._fs.join(via, part));","    }","    if (!this._entries[part]) {","        if (make) {","            this._entries[part] = new DirectoryNode(this._fs);","        } else {","            var error = new Error(\"Can't find \" + JSON.stringify(this._fs.join(parts)) + \" via \" + JSON.stringify(via));","            error.code = \"ENOENT\";","            throw error;","","        }","    }","    return this._entries[part]._walkParts(parts, make, this._fs.join(via, part));","};","","DirectoryNode.prototype._canonicalParts = function (parts, via) {","    if (parts.length === 0) {","        return via;","    }","    var part = parts.shift();","    if (part === \"\") {","        return via;","    }","    if (via === this._fs.ROOT) {","        via = \"\";","    }","    if (!this._entries[part]) {","        return this._fs.join(via, part, this._fs.join(parts));","    }","    return this._entries[part]._canonicalParts(","        parts,","        this._fs.join(via, part)","    );","};","","function LinkNode(fs, link) {","    Node.call(this, fs);","    this._link = link;","}","","LinkNode.prototype = Object.create(Node.prototype);","","LinkNode.prototype.isSymbolicLink = function () {","    return true;","};","","LinkNode.prototype._follow = function (via, memo) {","    memo = memo || Set();","    if (memo.has(this)) {","        var error = new Error(\"Can't follow symbolic link cycle at \" + JSON.stringify(via));","        error.code = \"ELOOP\";","        throw error;","    }","    memo.add(this);","    var link = this._fs.join(via, \"..\", this._link);","    return this._walk(link, null, \"<link>\")._follow(link, memo);","};","","LinkNode.prototype._canonicalParts = function (parts, via) {","    return this._fs.relativeFromDirectory(this._fs.ROOT,","        this._fs._root._canonical(","            this._fs.absolute(this._fs.join(via, \"..\", this._link))","        )","    );","};","","// cycle breaking","var FS = require(\"./fs\");","",""],"l":{"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"9":2,"11":1,"12":0,"13":0,"15":0,"17":1,"21":0,"22":0,"25":0,"26":0,"27":0,"31":2,"33":2,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"47":0,"48":0,"50":0,"53":0,"54":0,"58":2,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"70":2,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"80":0,"81":0,"82":0,"83":0,"85":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"94":0,"95":0,"96":0,"97":0,"98":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"108":0,"110":0,"112":0,"113":0,"115":0,"116":0,"117":0,"119":0,"120":0,"121":0,"129":0,"135":2,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"145":0,"146":0,"148":0,"149":0,"151":0,"155":2,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"175":0,"176":0,"177":0,"182":2,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"192":0,"193":0,"195":0,"196":0,"198":0,"202":2,"203":0,"204":0,"205":0,"206":0,"210":2,"211":0,"212":0,"213":0,"214":0,"218":2,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"227":0,"228":0,"229":0,"230":0,"231":0,"233":0,"234":0,"236":0,"240":2,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"250":0,"254":2,"255":0,"256":0,"257":0,"258":0,"262":2,"263":0,"264":0,"265":0,"266":0,"270":2,"271":0,"272":0,"273":0,"274":0,"276":0,"277":0,"278":0,"279":0,"281":0,"282":0,"283":0,"284":0,"287":0,"290":0,"291":0,"292":0,"293":0,"296":0,"297":0,"298":0,"299":0,"301":0,"302":0,"305":0,"306":0,"307":0,"308":0,"312":0,"313":0,"316":0,"317":0,"321":2,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"329":0,"333":2,"334":0,"335":0,"336":0,"337":0,"341":2,"342":1,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"356":0,"361":1,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"370":2,"371":0,"372":0,"373":0,"374":0,"376":0,"380":2,"381":0,"382":0,"384":0,"385":0,"386":0,"388":0,"389":0,"390":0,"395":2,"396":0,"397":0,"399":0,"400":0,"401":0,"402":0,"405":2,"406":0,"407":0,"409":0,"412":2,"413":0,"416":2,"417":0,"420":2,"430":2,"431":14,"432":0,"436":2,"437":0,"440":2,"441":0,"444":1,"445":0,"446":0,"449":2,"451":2,"452":0,"455":2,"459":0,"460":0,"465":1,"466":0,"467":0,"468":0,"471":2,"473":2,"474":0,"477":2,"478":0,"479":0,"480":0,"482":0,"483":0,"484":0,"486":0,"487":0,"488":0,"490":0,"491":0,"492":0,"496":0,"499":2,"500":0,"501":0,"503":0,"504":0,"505":0,"507":0,"508":0,"510":0,"511":0,"513":0,"519":1,"520":0,"521":0,"524":2,"526":2,"527":0,"530":2,"531":0,"532":0,"533":0,"534":0,"535":0,"537":0,"538":0,"539":0,"542":2,"543":0,"551":2}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":1,"10":1,"11":1,"12":1,"13":1,"14":2,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":2,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":1,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":1,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":1,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":1,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":1,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":1,"210":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"fnMap":{"1":{"name":"dampen","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":32}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":16},"end":{"line":27,"column":28}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":26},"end":{"line":30,"column":38}}},"4":{"name":"(anonymous_4)","line":31,"loc":{"start":{"line":31,"column":54},"end":{"line":31,"column":72}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":15},"end":{"line":34,"column":32}}},"6":{"name":"(anonymous_6)","line":52,"loc":{"start":{"line":52,"column":22},"end":{"line":52,"column":63}}},"7":{"name":"(anonymous_7)","line":91,"loc":{"start":{"line":91,"column":17},"end":{"line":91,"column":33}}},"8":{"name":"(anonymous_8)","line":94,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":37}}},"9":{"name":"(anonymous_9)","line":105,"loc":{"start":{"line":105,"column":17},"end":{"line":105,"column":43}}},"10":{"name":"(anonymous_10)","line":109,"loc":{"start":{"line":109,"column":10},"end":{"line":109,"column":27}}},"11":{"name":"(anonymous_11)","line":122,"loc":{"start":{"line":122,"column":24},"end":{"line":122,"column":46}}},"12":{"name":"(anonymous_12)","line":130,"loc":{"start":{"line":130,"column":25},"end":{"line":130,"column":42}}},"13":{"name":"(anonymous_13)","line":150,"loc":{"start":{"line":150,"column":26},"end":{"line":150,"column":42}}},"14":{"name":"(anonymous_14)","line":153,"loc":{"start":{"line":153,"column":19},"end":{"line":153,"column":36}}},"15":{"name":"(anonymous_15)","line":166,"loc":{"start":{"line":166,"column":22},"end":{"line":166,"column":38}}},"16":{"name":"(anonymous_16)","line":169,"loc":{"start":{"line":169,"column":21},"end":{"line":169,"column":44}}},"17":{"name":"(anonymous_17)","line":184,"loc":{"start":{"line":184,"column":15},"end":{"line":184,"column":31}}},"18":{"name":"(anonymous_18)","line":189,"loc":{"start":{"line":189,"column":22},"end":{"line":189,"column":45}}},"19":{"name":"(anonymous_19)","line":203,"loc":{"start":{"line":203,"column":19},"end":{"line":203,"column":35}}},"20":{"name":"(anonymous_20)","line":207,"loc":{"start":{"line":207,"column":23},"end":{"line":207,"column":46}}},"21":{"name":"(anonymous_21)","line":221,"loc":{"start":{"line":221,"column":17},"end":{"line":221,"column":31}}},"22":{"name":"(anonymous_22)","line":225,"loc":{"start":{"line":225,"column":21},"end":{"line":225,"column":44}}},"23":{"name":"(anonymous_23)","line":239,"loc":{"start":{"line":239,"column":15},"end":{"line":239,"column":41}}},"24":{"name":"(anonymous_24)","line":244,"loc":{"start":{"line":244,"column":32},"end":{"line":244,"column":49}}},"25":{"name":"(anonymous_25)","line":266,"loc":{"start":{"line":266,"column":23},"end":{"line":266,"column":57}}},"26":{"name":"(anonymous_26)","line":275,"loc":{"start":{"line":275,"column":53},"end":{"line":275,"column":70}}},"27":{"name":"(anonymous_27)","line":289,"loc":{"start":{"line":289,"column":16},"end":{"line":289,"column":42}}},"28":{"name":"(anonymous_28)","line":293,"loc":{"start":{"line":293,"column":33},"end":{"line":293,"column":50}}},"29":{"name":"(anonymous_29)","line":307,"loc":{"start":{"line":307,"column":16},"end":{"line":307,"column":38}}},"30":{"name":"(anonymous_30)","line":312,"loc":{"start":{"line":312,"column":29},"end":{"line":312,"column":46}}},"31":{"name":"(anonymous_31)","line":326,"loc":{"start":{"line":326,"column":20},"end":{"line":326,"column":36}}},"32":{"name":"(anonymous_32)","line":328,"loc":{"start":{"line":328,"column":22},"end":{"line":328,"column":54}}},"33":{"name":"(anonymous_33)","line":339,"loc":{"start":{"line":339,"column":19},"end":{"line":339,"column":35}}},"34":{"name":"(anonymous_34)","line":341,"loc":{"start":{"line":341,"column":22},"end":{"line":341,"column":45}}},"35":{"name":"(anonymous_35)","line":352,"loc":{"start":{"line":352,"column":15},"end":{"line":352,"column":31}}}},"statementMap":{"1":{"start":{"line":11,"column":0},"end":{"line":11,"column":23}},"2":{"start":{"line":12,"column":0},"end":{"line":12,"column":21}},"3":{"start":{"line":13,"column":0},"end":{"line":13,"column":33}},"4":{"start":{"line":14,"column":0},"end":{"line":14,"column":33}},"5":{"start":{"line":15,"column":0},"end":{"line":15,"column":36}},"6":{"start":{"line":16,"column":0},"end":{"line":16,"column":32}},"7":{"start":{"line":17,"column":0},"end":{"line":17,"column":32}},"8":{"start":{"line":19,"column":0},"end":{"line":19,"column":36}},"9":{"start":{"line":20,"column":0},"end":{"line":20,"column":20}},"10":{"start":{"line":21,"column":0},"end":{"line":21,"column":20}},"11":{"start":{"line":24,"column":0},"end":{"line":24,"column":21}},"12":{"start":{"line":25,"column":0},"end":{"line":25,"column":27}},"13":{"start":{"line":26,"column":0},"end":{"line":45,"column":1}},"14":{"start":{"line":27,"column":4},"end":{"line":43,"column":6}},"15":{"start":{"line":28,"column":8},"end":{"line":28,"column":29}},"16":{"start":{"line":29,"column":8},"end":{"line":29,"column":71}},"17":{"start":{"line":30,"column":8},"end":{"line":42,"column":11}},"18":{"start":{"line":31,"column":12},"end":{"line":41,"column":15}},"19":{"start":{"line":32,"column":16},"end":{"line":32,"column":61}},"20":{"start":{"line":33,"column":16},"end":{"line":33,"column":30}},"21":{"start":{"line":35,"column":16},"end":{"line":40,"column":17}},"22":{"start":{"line":36,"column":20},"end":{"line":36,"column":70}},"23":{"start":{"line":37,"column":20},"end":{"line":37,"column":51}},"24":{"start":{"line":39,"column":20},"end":{"line":39,"column":32}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":17}},"26":{"start":{"line":52,"column":0},"end":{"line":89,"column":3}},"27":{"start":{"line":53,"column":4},"end":{"line":53,"column":20}},"28":{"start":{"line":54,"column":4},"end":{"line":58,"column":5}},"29":{"start":{"line":55,"column":8},"end":{"line":55,"column":24}},"30":{"start":{"line":56,"column":8},"end":{"line":56,"column":30}},"31":{"start":{"line":57,"column":8},"end":{"line":57,"column":34}},"32":{"start":{"line":59,"column":4},"end":{"line":59,"column":28}},"33":{"start":{"line":60,"column":4},"end":{"line":60,"column":25}},"34":{"start":{"line":61,"column":4},"end":{"line":61,"column":51}},"35":{"start":{"line":62,"column":4},"end":{"line":64,"column":6}},"36":{"start":{"line":65,"column":4},"end":{"line":67,"column":5}},"37":{"start":{"line":66,"column":8},"end":{"line":66,"column":52}},"38":{"start":{"line":68,"column":4},"end":{"line":70,"column":5}},"39":{"start":{"line":69,"column":8},"end":{"line":69,"column":40}},"40":{"start":{"line":71,"column":4},"end":{"line":74,"column":5}},"41":{"start":{"line":72,"column":8},"end":{"line":72,"column":42}},"42":{"start":{"line":73,"column":8},"end":{"line":73,"column":42}},"43":{"start":{"line":75,"column":4},"end":{"line":81,"column":5}},"44":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"45":{"start":{"line":77,"column":12},"end":{"line":77,"column":83}},"46":{"start":{"line":80,"column":8},"end":{"line":80,"column":37}},"47":{"start":{"line":82,"column":4},"end":{"line":88,"column":5}},"48":{"start":{"line":83,"column":8},"end":{"line":83,"column":69}},"49":{"start":{"line":84,"column":8},"end":{"line":84,"column":39}},"50":{"start":{"line":86,"column":8},"end":{"line":86,"column":68}},"51":{"start":{"line":87,"column":8},"end":{"line":87,"column":39}},"52":{"start":{"line":91,"column":0},"end":{"line":103,"column":2}},"53":{"start":{"line":92,"column":4},"end":{"line":92,"column":24}},"54":{"start":{"line":93,"column":4},"end":{"line":93,"column":25}},"55":{"start":{"line":94,"column":4},"end":{"line":101,"column":7}},"56":{"start":{"line":95,"column":8},"end":{"line":100,"column":9}},"57":{"start":{"line":96,"column":12},"end":{"line":96,"column":90}},"58":{"start":{"line":97,"column":12},"end":{"line":97,"column":31}},"59":{"start":{"line":99,"column":12},"end":{"line":99,"column":27}},"60":{"start":{"line":102,"column":4},"end":{"line":102,"column":24}},"61":{"start":{"line":105,"column":0},"end":{"line":120,"column":2}},"62":{"start":{"line":106,"column":4},"end":{"line":106,"column":28}},"63":{"start":{"line":107,"column":4},"end":{"line":107,"column":28}},"64":{"start":{"line":108,"column":4},"end":{"line":119,"column":7}},"65":{"start":{"line":110,"column":8},"end":{"line":113,"column":9}},"66":{"start":{"line":111,"column":12},"end":{"line":111,"column":91}},"67":{"start":{"line":112,"column":12},"end":{"line":112,"column":37}},"68":{"start":{"line":114,"column":8},"end":{"line":117,"column":10}},"69":{"start":{"line":118,"column":8},"end":{"line":118,"column":20}},"70":{"start":{"line":122,"column":0},"end":{"line":148,"column":2}},"71":{"start":{"line":123,"column":4},"end":{"line":123,"column":24}},"72":{"start":{"line":124,"column":4},"end":{"line":124,"column":25}},"73":{"start":{"line":125,"column":4},"end":{"line":129,"column":5}},"74":{"start":{"line":126,"column":8},"end":{"line":126,"column":33}},"75":{"start":{"line":127,"column":11},"end":{"line":129,"column":5}},"76":{"start":{"line":128,"column":8},"end":{"line":128,"column":34}},"77":{"start":{"line":130,"column":4},"end":{"line":146,"column":7}},"78":{"start":{"line":131,"column":8},"end":{"line":145,"column":9}},"79":{"start":{"line":132,"column":12},"end":{"line":136,"column":13}},"80":{"start":{"line":133,"column":16},"end":{"line":133,"column":36}},"81":{"start":{"line":134,"column":16},"end":{"line":134,"column":41}},"82":{"start":{"line":135,"column":16},"end":{"line":135,"column":77}},"83":{"start":{"line":137,"column":12},"end":{"line":140,"column":13}},"84":{"start":{"line":138,"column":16},"end":{"line":138,"column":36}},"85":{"start":{"line":139,"column":16},"end":{"line":139,"column":77}},"86":{"start":{"line":141,"column":12},"end":{"line":141,"column":120}},"87":{"start":{"line":142,"column":12},"end":{"line":142,"column":31}},"88":{"start":{"line":144,"column":12},"end":{"line":144,"column":27}},"89":{"start":{"line":147,"column":4},"end":{"line":147,"column":24}},"90":{"start":{"line":150,"column":0},"end":{"line":162,"column":2}},"91":{"start":{"line":151,"column":4},"end":{"line":151,"column":24}},"92":{"start":{"line":152,"column":4},"end":{"line":152,"column":25}},"93":{"start":{"line":153,"column":4},"end":{"line":160,"column":7}},"94":{"start":{"line":154,"column":8},"end":{"line":159,"column":9}},"95":{"start":{"line":155,"column":12},"end":{"line":155,"column":99}},"96":{"start":{"line":156,"column":12},"end":{"line":156,"column":31}},"97":{"start":{"line":158,"column":12},"end":{"line":158,"column":27}},"98":{"start":{"line":161,"column":4},"end":{"line":161,"column":24}},"99":{"start":{"line":166,"column":0},"end":{"line":178,"column":3}},"100":{"start":{"line":167,"column":4},"end":{"line":167,"column":24}},"101":{"start":{"line":168,"column":4},"end":{"line":168,"column":27}},"102":{"start":{"line":169,"column":4},"end":{"line":176,"column":7}},"103":{"start":{"line":170,"column":8},"end":{"line":175,"column":9}},"104":{"start":{"line":171,"column":12},"end":{"line":171,"column":88}},"105":{"start":{"line":172,"column":12},"end":{"line":172,"column":40}},"106":{"start":{"line":174,"column":12},"end":{"line":174,"column":33}},"107":{"start":{"line":177,"column":4},"end":{"line":177,"column":26}},"108":{"start":{"line":184,"column":0},"end":{"line":201,"column":2}},"109":{"start":{"line":185,"column":4},"end":{"line":185,"column":20}},"110":{"start":{"line":186,"column":4},"end":{"line":186,"column":24}},"111":{"start":{"line":187,"column":4},"end":{"line":187,"column":25}},"112":{"start":{"line":188,"column":4},"end":{"line":199,"column":5}},"113":{"start":{"line":189,"column":8},"end":{"line":196,"column":11}},"114":{"start":{"line":190,"column":12},"end":{"line":195,"column":13}},"115":{"start":{"line":191,"column":16},"end":{"line":191,"column":84}},"116":{"start":{"line":192,"column":16},"end":{"line":192,"column":35}},"117":{"start":{"line":194,"column":16},"end":{"line":194,"column":51}},"118":{"start":{"line":198,"column":8},"end":{"line":198,"column":27}},"119":{"start":{"line":200,"column":4},"end":{"line":200,"column":24}},"120":{"start":{"line":203,"column":0},"end":{"line":219,"column":2}},"121":{"start":{"line":204,"column":4},"end":{"line":204,"column":24}},"122":{"start":{"line":205,"column":4},"end":{"line":205,"column":25}},"123":{"start":{"line":206,"column":4},"end":{"line":217,"column":5}},"124":{"start":{"line":207,"column":8},"end":{"line":214,"column":11}},"125":{"start":{"line":208,"column":12},"end":{"line":213,"column":13}},"126":{"start":{"line":209,"column":16},"end":{"line":209,"column":96}},"127":{"start":{"line":210,"column":16},"end":{"line":210,"column":35}},"128":{"start":{"line":212,"column":16},"end":{"line":212,"column":35}},"129":{"start":{"line":216,"column":8},"end":{"line":216,"column":27}},"130":{"start":{"line":218,"column":4},"end":{"line":218,"column":24}},"131":{"start":{"line":221,"column":0},"end":{"line":237,"column":2}},"132":{"start":{"line":222,"column":4},"end":{"line":222,"column":20}},"133":{"start":{"line":223,"column":4},"end":{"line":223,"column":25}},"134":{"start":{"line":224,"column":4},"end":{"line":235,"column":5}},"135":{"start":{"line":225,"column":8},"end":{"line":232,"column":11}},"136":{"start":{"line":226,"column":12},"end":{"line":231,"column":13}},"137":{"start":{"line":227,"column":16},"end":{"line":227,"column":108}},"138":{"start":{"line":228,"column":16},"end":{"line":228,"column":35}},"139":{"start":{"line":230,"column":16},"end":{"line":230,"column":35}},"140":{"start":{"line":234,"column":8},"end":{"line":234,"column":27}},"141":{"start":{"line":236,"column":4},"end":{"line":236,"column":24}},"142":{"start":{"line":239,"column":0},"end":{"line":256,"column":2}},"143":{"start":{"line":240,"column":4},"end":{"line":240,"column":28}},"144":{"start":{"line":241,"column":4},"end":{"line":241,"column":28}},"145":{"start":{"line":242,"column":4},"end":{"line":242,"column":25}},"146":{"start":{"line":243,"column":4},"end":{"line":254,"column":5}},"147":{"start":{"line":244,"column":8},"end":{"line":251,"column":11}},"148":{"start":{"line":245,"column":12},"end":{"line":250,"column":13}},"149":{"start":{"line":246,"column":16},"end":{"line":246,"column":128}},"150":{"start":{"line":247,"column":16},"end":{"line":247,"column":35}},"151":{"start":{"line":249,"column":16},"end":{"line":249,"column":31}},"152":{"start":{"line":253,"column":8},"end":{"line":253,"column":27}},"153":{"start":{"line":255,"column":4},"end":{"line":255,"column":24}},"154":{"start":{"line":260,"column":0},"end":{"line":264,"column":2}},"155":{"start":{"line":266,"column":0},"end":{"line":287,"column":2}},"156":{"start":{"line":267,"column":4},"end":{"line":269,"column":5}},"157":{"start":{"line":268,"column":8},"end":{"line":268,"column":152}},"158":{"start":{"line":270,"column":4},"end":{"line":270,"column":27}},"159":{"start":{"line":271,"column":4},"end":{"line":271,"column":28}},"160":{"start":{"line":272,"column":4},"end":{"line":272,"column":32}},"161":{"start":{"line":273,"column":4},"end":{"line":273,"column":25}},"162":{"start":{"line":274,"column":4},"end":{"line":285,"column":5}},"163":{"start":{"line":275,"column":8},"end":{"line":282,"column":11}},"164":{"start":{"line":276,"column":12},"end":{"line":281,"column":13}},"165":{"start":{"line":277,"column":16},"end":{"line":277,"column":163}},"166":{"start":{"line":278,"column":16},"end":{"line":278,"column":35}},"167":{"start":{"line":280,"column":16},"end":{"line":280,"column":31}},"168":{"start":{"line":284,"column":8},"end":{"line":284,"column":27}},"169":{"start":{"line":286,"column":4},"end":{"line":286,"column":24}},"170":{"start":{"line":289,"column":0},"end":{"line":305,"column":2}},"171":{"start":{"line":290,"column":4},"end":{"line":290,"column":24}},"172":{"start":{"line":291,"column":4},"end":{"line":291,"column":25}},"173":{"start":{"line":292,"column":4},"end":{"line":303,"column":5}},"174":{"start":{"line":293,"column":8},"end":{"line":300,"column":11}},"175":{"start":{"line":294,"column":12},"end":{"line":299,"column":13}},"176":{"start":{"line":295,"column":16},"end":{"line":295,"column":185}},"177":{"start":{"line":296,"column":16},"end":{"line":296,"column":35}},"178":{"start":{"line":298,"column":16},"end":{"line":298,"column":31}},"179":{"start":{"line":302,"column":8},"end":{"line":302,"column":27}},"180":{"start":{"line":304,"column":4},"end":{"line":304,"column":24}},"181":{"start":{"line":307,"column":0},"end":{"line":324,"column":2}},"182":{"start":{"line":308,"column":4},"end":{"line":308,"column":24}},"183":{"start":{"line":309,"column":4},"end":{"line":309,"column":24}},"184":{"start":{"line":310,"column":4},"end":{"line":310,"column":25}},"185":{"start":{"line":311,"column":4},"end":{"line":322,"column":5}},"186":{"start":{"line":312,"column":8},"end":{"line":319,"column":11}},"187":{"start":{"line":313,"column":12},"end":{"line":318,"column":13}},"188":{"start":{"line":314,"column":16},"end":{"line":314,"column":165}},"189":{"start":{"line":315,"column":16},"end":{"line":315,"column":35}},"190":{"start":{"line":317,"column":16},"end":{"line":317,"column":31}},"191":{"start":{"line":321,"column":8},"end":{"line":321,"column":27}},"192":{"start":{"line":323,"column":4},"end":{"line":323,"column":24}},"193":{"start":{"line":326,"column":0},"end":{"line":337,"column":2}},"194":{"start":{"line":327,"column":4},"end":{"line":327,"column":27}},"195":{"start":{"line":328,"column":4},"end":{"line":335,"column":7}},"196":{"start":{"line":329,"column":8},"end":{"line":334,"column":9}},"197":{"start":{"line":330,"column":12},"end":{"line":330,"column":126}},"198":{"start":{"line":331,"column":12},"end":{"line":331,"column":33}},"199":{"start":{"line":333,"column":12},"end":{"line":333,"column":42}},"200":{"start":{"line":336,"column":4},"end":{"line":336,"column":26}},"201":{"start":{"line":339,"column":0},"end":{"line":350,"column":2}},"202":{"start":{"line":340,"column":4},"end":{"line":340,"column":27}},"203":{"start":{"line":341,"column":4},"end":{"line":348,"column":7}},"204":{"start":{"line":342,"column":8},"end":{"line":347,"column":9}},"205":{"start":{"line":343,"column":12},"end":{"line":343,"column":118}},"206":{"start":{"line":344,"column":12},"end":{"line":344,"column":33}},"207":{"start":{"line":346,"column":12},"end":{"line":346,"column":33}},"208":{"start":{"line":349,"column":4},"end":{"line":349,"column":26}},"209":{"start":{"line":352,"column":0},"end":{"line":354,"column":2}},"210":{"start":{"line":353,"column":4},"end":{"line":353,"column":33}}},"branchMap":{"1":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":35},"end":{"line":29,"column":56}},{"start":{"line":29,"column":59},"end":{"line":29,"column":70}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":16}},{"start":{"line":35,"column":16},"end":{"line":35,"column":16}}]},"3":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"4":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":14},"end":{"line":59,"column":21}},{"start":{"line":59,"column":25},"end":{"line":59,"column":27}}]},"5":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":12},"end":{"line":60,"column":17}},{"start":{"line":60,"column":21},"end":{"line":60,"column":24}}]},"6":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":20},"end":{"line":61,"column":43}},{"start":{"line":61,"column":47},"end":{"line":61,"column":50}}]},"7":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":4},"end":{"line":65,"column":4}},{"start":{"line":65,"column":4},"end":{"line":65,"column":4}}]},"8":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":4},"end":{"line":68,"column":4}},{"start":{"line":68,"column":4},"end":{"line":68,"column":4}}]},"9":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":4}},{"start":{"line":71,"column":4},"end":{"line":71,"column":4}}]},"10":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":4},"end":{"line":75,"column":4}},{"start":{"line":75,"column":4},"end":{"line":75,"column":4}}]},"11":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":76,"column":8}},{"start":{"line":76,"column":8},"end":{"line":76,"column":8}}]},"12":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":18},"end":{"line":80,"column":25}},{"start":{"line":80,"column":29},"end":{"line":80,"column":36}}]},"13":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":4},"end":{"line":82,"column":4}},{"start":{"line":82,"column":4},"end":{"line":82,"column":4}}]},"14":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":31}},{"start":{"line":82,"column":35},"end":{"line":82,"column":58}}]},"15":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":8},"end":{"line":95,"column":8}},{"start":{"line":95,"column":8},"end":{"line":95,"column":8}}]},"16":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":8},"end":{"line":110,"column":8}},{"start":{"line":110,"column":8},"end":{"line":110,"column":8}}]},"17":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":4}},{"start":{"line":125,"column":4},"end":{"line":125,"column":4}}]},"18":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":11},"end":{"line":127,"column":11}},{"start":{"line":127,"column":11},"end":{"line":127,"column":11}}]},"19":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":8},"end":{"line":131,"column":8}},{"start":{"line":131,"column":8},"end":{"line":131,"column":8}}]},"20":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":132,"column":12}},{"start":{"line":132,"column":12},"end":{"line":132,"column":12}}]},"21":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":12},"end":{"line":137,"column":12}},{"start":{"line":137,"column":12},"end":{"line":137,"column":12}}]},"22":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":8}},{"start":{"line":154,"column":8},"end":{"line":154,"column":8}}]},"23":{"line":170,"type":"if","locations":[{"start":{"line":170,"column":8},"end":{"line":170,"column":8}},{"start":{"line":170,"column":8},"end":{"line":170,"column":8}}]},"24":{"line":190,"type":"if","locations":[{"start":{"line":190,"column":12},"end":{"line":190,"column":12}},{"start":{"line":190,"column":12},"end":{"line":190,"column":12}}]},"25":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":12},"end":{"line":208,"column":12}},{"start":{"line":208,"column":12},"end":{"line":208,"column":12}}]},"26":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":12},"end":{"line":226,"column":12}},{"start":{"line":226,"column":12},"end":{"line":226,"column":12}}]},"27":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":12},"end":{"line":245,"column":12}},{"start":{"line":245,"column":12},"end":{"line":245,"column":12}}]},"28":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"29":{"line":275,"type":"binary-expr","locations":[{"start":{"line":275,"column":37},"end":{"line":275,"column":41}},{"start":{"line":275,"column":45},"end":{"line":275,"column":51}}]},"30":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":12},"end":{"line":276,"column":12}},{"start":{"line":276,"column":12},"end":{"line":276,"column":12}}]},"31":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":12},"end":{"line":294,"column":12}},{"start":{"line":294,"column":12},"end":{"line":294,"column":12}}]},"32":{"line":313,"type":"if","locations":[{"start":{"line":313,"column":12},"end":{"line":313,"column":12}},{"start":{"line":313,"column":12},"end":{"line":313,"column":12}}]},"33":{"line":329,"type":"if","locations":[{"start":{"line":329,"column":8},"end":{"line":329,"column":8}},{"start":{"line":329,"column":8},"end":{"line":329,"column":8}}]},"34":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":8},"end":{"line":342,"column":8}},{"start":{"line":342,"column":8},"end":{"line":342,"column":8}}]}},"code":["/**"," * An asynchronous local file system API, based on a subset"," * of the `narwhal/fs` API and the `narwhal/promise` API,"," * such that the method names are the same but some return"," * values are promises instead of fully resolved values."," * @module"," */","","/*whatsupdoc*/","","var FS = require(\"fs\"); // node","var Q = require(\"q\");","var Reader = require(\"./reader\");","var Writer = require(\"./writer\");","var Common = require(\"./fs-common\");","var Mock = require(\"./fs-mock\");","var Root = require(\"./fs-root\");","","Common.update(exports, process.cwd);","exports.Mock = Mock;","exports.Root = Root;","","// facilitates AIMD (additive increase, multiplicative decrease) for backing off","var backOffDelay = 0;","var backOffFactor = 1.0001;","function dampen(wrapped, thisp) {","    var retry = function () {","        var args = arguments;","        var ready = backOffDelay ? Q.delay(backOffDelay) : Q.resolve();","        return ready.then(function () {","            return Q.when(wrapped.apply(thisp, args), function (stream) {","                backOffDelay = Math.max(0, backOffDelay - 1);","                return stream;","            }, function (error) {","                if (error.code === \"EMFILE\") {","                    backOffDelay = (backOffDelay + 1) * backOffFactor;","                    return retry.apply(null, args);","                } else {","                    throw error;","                }","            });","        });","    };","    return retry;","}","","/**"," * @param {String} path"," * @param {Object} options (flags, mode, bufferSize, charset, begin, end)"," * @returns {Promise * Stream} a stream from the `q-io` module."," */","exports.open = dampen(function (path, flags, charset, options) {","    var self = this;","    if (typeof flags == \"object\") {","        options = flags;","        flags = options.flags;","        charset = options.charset;","    }","    options = options || {};","    flags = flags || \"r\";","    var nodeFlags = flags.replace(/b/g, \"\") || \"r\";","    var nodeOptions = {","        \"flags\": nodeFlags","    };","    if (\"bufferSize\" in options) {","        nodeOptions.bufferSize = options.bufferSize;","    }","    if (\"mode\" in options) {","        nodeOptions.mode = options.mode;","    }","    if (\"begin\" in options) {","        nodeOptions.start = options.begin;","        nodeOptions.end = options.end - 1;","    }","    if (flags.indexOf(\"b\") >= 0) {","        if (charset) {","            throw new Error(\"Can't open a binary file with a charset: \" + charset);","        }","    } else {","        charset = charset || 'utf-8';","    }","    if (flags.indexOf(\"w\") >= 0 || flags.indexOf(\"a\") >= 0) {","        var stream = FS.createWriteStream(String(path), nodeOptions);","        return Writer(stream, charset);","    } else {","        var stream = FS.createReadStream(String(path), nodeOptions);","        return Reader(stream, charset);","    }","});","","exports.remove = function (path) {","    path = String(path);","    var done = Q.defer();","    FS.unlink(path, function (error) {","        if (error) {","            error.message = \"Can't remove \" + JSON.stringify(path) + \": \" + error.message;","            done.reject(error);","        } else {","            done.resolve();","        }","    });","    return done.promise;","};","","exports.rename = function (source, target) {","    source = String(source);","    target = String(target);","    return Q.ninvoke(FS, \"rename\", source, target)","    .fail(function (error) {","        if (error.code === \"EXDEV\") {","            error.message = \"source and target are on different devices: \" + error.message;","            error.crossDevice = true;","        }","        error.message = (","            \"Can't move \" + JSON.stringify(source) + \" to \" +","            JSON.stringify(target) + \" because \" + error.message","        );","        throw error;","    });","};","","exports.makeDirectory = function (path, mode) {","    path = String(path);","    var done = Q.defer();","    if (typeof mode === \"string\") {","        mode = parseInt(mode, 8);","    } else if (mode === void 0) {","        mode = parseInt('755', 8);","    }","    FS.mkdir(path, mode, function (error) {","        if (error) {","            if (error.code === \"EISDIR\") {","                error.exists = true;","                error.isDirectory = true;","                error.message = \"directory already exists: \" + error.message;","            }","            if (error.code === \"EEXIST\") {","                error.exists = true;","                error.message = \"file exists at that path: \" + error.message;","            }","            error.message = \"Can't makeDirectory \" + JSON.stringify(path) + \" with mode \" + mode + \": \" + error.message;","            done.reject(error);","        } else {","            done.resolve();","        }","    });","    return done.promise;","};","","exports.removeDirectory = function (path) {","    path = String(path);","    var done = Q.defer();","    FS.rmdir(path, function (error) {","        if (error) {","            error.message = \"Can't removeDirectory \" + JSON.stringify(path) + \": \" + error.message;","            done.reject(error);","        } else {","            done.resolve();","        }","    });","    return done.promise;","};","","/**"," */","exports.list = dampen(function (path) {","    path = String(path);","    var result = Q.defer();","    FS.readdir(path, function (error, list) {","        if (error) {","            error.message = \"Can't list \" + JSON.stringify(path) + \": \" + error.message;","            return result.reject(error);","        } else {","            result.resolve(list);","        }","    });","    return result.promise;","});","","/**"," * @param {String} path"," * @returns {Promise * Stat}"," */","exports.stat = function (path) {","    var self = this;","    path = String(path);","    var done = Q.defer();","    try {","        FS.stat(path, function (error, stat) {","            if (error) {","                error.message = \"Can't stat \" + JSON.stringify(path) + \": \" + error;","                done.reject(error);","            } else {","                done.resolve(new self.Stats(stat));","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.statLink = function (path) {","    path = String(path);","    var done = Q.defer();","    try {","        FS.lstat(path, function (error, stat) {","            if (error) {","                error.message = \"Can't statLink \" + JSON.stringify(path) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve(stat);","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.statFd = function (fd) {","    fd = Number(fd);","    var done = Q.defer();","    try {","        FS.fstat(fd, function (error, stat) {","            if (error) {","                error.message = \"Can't statFd file descriptor \" + JSON.stringify(fd) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve(stat);","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.link = function (source, target) {","    source = String(source);","    target = String(target);","    var done = Q.defer();","    try {","        FS.link(source, target, function (error) {","            if (error) {","                error.message = \"Can't link \" + JSON.stringify(source) + \" to \" + JSON.stringify(target) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve();","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","// this lookup table translates the link types that Q-IO accepts (which have","// been normalized to full words to be consistent with the naming convention)","var linkTypes = {","    \"file\": \"file\",","    \"directory\": \"dir\",","    \"junction\": \"junction\"","};","","exports.symbolicLink = function (target, relative, type) {","    if (!linkTypes.hasOwnProperty(type)) {","        console.warn(new Error(\"For Windows compatibility, symbolicLink must be called with a type argument \\\"file\\\", \\\"directory\\\", or \\\"junction\\\"\"));","    }","    type = linkTypes[type];","    target = String(target);","    relative = String(relative);","    var done = Q.defer();","    try {","        FS.symlink(relative, target, type || 'file', function (error) {","            if (error) {","                error.message = \"Can't create symbolicLink \" + JSON.stringify(target) + \" to relative location \" + JSON.stringify(relative) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve();","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.chown = function (path, uid, gid) {","    path = String(path);","    var done = Q.defer();","    try {","        FS.chown(path, uid, gid, function (error) {","            if (error) {","                error.message = \"Can't chown (change owner) of \" + JSON.stringify(path) + \" to user \" + JSON.stringify(uid) + \" and group \" + JSON.stringify(gid) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve();","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.chmod = function (path, mode) {","    path = String(path);","    mode = String(mode);","    var done = Q.defer();","    try {","        FS.chmod(path, mode, function (error) {","            if (error) {","                error.message = \"Can't chmod (change permissions mode) of \" + JSON.stringify(path) + \" to (octal number) \" + mode.toString(8) + \": \" + error.message;","                done.reject(error);","            } else {","                done.resolve();","            }","        });","    } catch (error) {","        done.reject(error);","    }","    return done.promise;","};","","exports.canonical = function (path) {","    var result = Q.defer();","    FS.realpath(path, function (error, canonicalPath) {","        if (error) {","            error.message = \"Can't get canonical path of \" + JSON.stringify(path) + \" by way of C realpath: \" + error.message;","            result.reject(error);","        } else {","            result.resolve(canonicalPath);","        }","    });","    return result.promise;","};","","exports.readLink = function (path) {","    var result = Q.defer();","    FS.readlink(path, function (error, path) {","        if (error) {","            error.message = \"Can't get link from \" + JSON.stringify(path) + \" by way of C readlink: \" + error.message;","            result.reject(error);","        } else {","            result.resolve(path);","        }","    });","    return result.promise;","};","","exports.mock = function (path) {","    return Mock.mock(this, path);","};","",""],"l":{"11":2,"12":2,"13":2,"14":2,"15":2,"16":2,"17":2,"19":2,"20":1,"21":1,"24":1,"25":1,"26":1,"27":2,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"35":0,"36":0,"37":0,"39":0,"44":2,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"65":0,"66":0,"68":0,"69":0,"71":0,"72":0,"73":0,"75":0,"76":0,"77":0,"80":0,"82":0,"83":0,"84":0,"86":0,"87":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"99":0,"102":0,"105":1,"106":0,"107":0,"108":0,"110":0,"111":0,"112":0,"114":0,"118":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"137":0,"138":0,"139":0,"141":0,"142":0,"144":0,"147":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"158":0,"161":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"174":0,"177":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"194":0,"198":0,"200":0,"203":1,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"212":0,"216":0,"218":0,"221":1,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"230":0,"234":0,"236":0,"239":1,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"249":0,"253":0,"255":0,"260":1,"266":1,"267":0,"268":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"280":0,"284":0,"286":0,"289":1,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"298":0,"302":0,"304":0,"307":1,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"317":0,"321":0,"323":0,"326":1,"327":0,"328":0,"329":0,"330":0,"331":0,"333":0,"336":0,"339":1,"340":0,"341":0,"342":0,"343":0,"344":0,"346":0,"349":0,"352":1,"353":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/writer.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/writer.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"b":{"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"Writer","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":34}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":42}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":24},"end":{"line":31,"column":36}}},"4":{"name":"(anonymous_4)","line":43,"loc":{"start":{"line":43,"column":17},"end":{"line":43,"column":36}}},"5":{"name":"(anonymous_5)","line":62,"loc":{"start":{"line":62,"column":17},"end":{"line":62,"column":29}}},"6":{"name":"(anonymous_6)","line":74,"loc":{"start":{"line":74,"column":17},"end":{"line":74,"column":29}}},"7":{"name":"(anonymous_7)","line":79,"loc":{"start":{"line":79,"column":33},"end":{"line":79,"column":45}}},"8":{"name":"(anonymous_8)","line":82,"loc":{"start":{"line":82,"column":32},"end":{"line":82,"column":50}}},"9":{"name":"(anonymous_9)","line":103,"loc":{"start":{"line":103,"column":19},"end":{"line":103,"column":31}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":13,"column":0},"end":{"line":13,"column":24}},"3":{"start":{"line":15,"column":0},"end":{"line":15,"column":47}},"4":{"start":{"line":16,"column":0},"end":{"line":16,"column":57}},"5":{"start":{"line":18,"column":0},"end":{"line":112,"column":1}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":47}},"7":{"start":{"line":21,"column":4},"end":{"line":22,"column":37}},"8":{"start":{"line":22,"column":8},"end":{"line":22,"column":37}},"9":{"start":{"line":24,"column":4},"end":{"line":24,"column":28}},"10":{"start":{"line":26,"column":4},"end":{"line":29,"column":7}},"11":{"start":{"line":27,"column":8},"end":{"line":27,"column":31}},"12":{"start":{"line":28,"column":8},"end":{"line":28,"column":28}},"13":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"14":{"start":{"line":32,"column":8},"end":{"line":32,"column":26}},"15":{"start":{"line":33,"column":8},"end":{"line":33,"column":28}},"16":{"start":{"line":43,"column":4},"end":{"line":54,"column":6}},"17":{"start":{"line":44,"column":8},"end":{"line":45,"column":95}},"18":{"start":{"line":45,"column":12},"end":{"line":45,"column":95}},"19":{"start":{"line":46,"column":8},"end":{"line":48,"column":9}},"20":{"start":{"line":47,"column":12},"end":{"line":47,"column":42}},"21":{"start":{"line":49,"column":8},"end":{"line":53,"column":9}},"22":{"start":{"line":50,"column":12},"end":{"line":50,"column":35}},"23":{"start":{"line":52,"column":12},"end":{"line":52,"column":31}},"24":{"start":{"line":62,"column":4},"end":{"line":64,"column":6}},"25":{"start":{"line":63,"column":8},"end":{"line":63,"column":31}},"26":{"start":{"line":74,"column":4},"end":{"line":94,"column":6}},"27":{"start":{"line":75,"column":8},"end":{"line":75,"column":21}},"28":{"start":{"line":77,"column":8},"end":{"line":85,"column":9}},"29":{"start":{"line":78,"column":12},"end":{"line":78,"column":33}},"30":{"start":{"line":79,"column":12},"end":{"line":81,"column":15}},"31":{"start":{"line":80,"column":16},"end":{"line":80,"column":35}},"32":{"start":{"line":82,"column":12},"end":{"line":84,"column":15}},"33":{"start":{"line":83,"column":16},"end":{"line":83,"column":40}},"34":{"start":{"line":87,"column":8},"end":{"line":87,"column":22}},"35":{"start":{"line":88,"column":8},"end":{"line":88,"column":26}},"36":{"start":{"line":89,"column":8},"end":{"line":93,"column":9}},"37":{"start":{"line":90,"column":12},"end":{"line":90,"column":36}},"38":{"start":{"line":92,"column":12},"end":{"line":92,"column":23}},"39":{"start":{"line":103,"column":4},"end":{"line":107,"column":6}},"40":{"start":{"line":104,"column":8},"end":{"line":104,"column":26}},"41":{"start":{"line":105,"column":8},"end":{"line":105,"column":26}},"42":{"start":{"line":106,"column":8},"end":{"line":106,"column":27}},"43":{"start":{"line":109,"column":4},"end":{"line":109,"column":24}},"44":{"start":{"line":111,"column":4},"end":{"line":111,"column":19}}},"branchMap":{"1":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":21},"end":{"line":16,"column":36}},{"start":{"line":16,"column":40},"end":{"line":16,"column":56}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":15}},{"start":{"line":21,"column":19},"end":{"line":21,"column":38}}]},"4":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":30}},{"start":{"line":44,"column":34},"end":{"line":44,"column":51}}]},"6":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"7":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":8}},{"start":{"line":49,"column":8},"end":{"line":49,"column":8}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":8}},{"start":{"line":77,"column":8},"end":{"line":77,"column":8}}]},"9":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]}},"code":["","var Q = require(\"q\");","","/**"," * Wraps a Node writable stream, providing an API similar to"," * Narwhal's synchronous `io` streams, except returning and"," * accepting promises for long-latency operations."," *"," * @param stream any Node writable stream"," * @returns {Promise * Writer} a promise for the"," * text writer."," */","module.exports = Writer;","","var version = process.versions.node.split('.');","var supportsFinish = version[0] >= 1 || version[1] >= 10;","","function Writer(_stream, charset) {","    var self = Object.create(Writer.prototype);","","    if (charset && _stream.setEncoding) // TODO complain about inconsistency","        _stream.setEncoding(charset);","","    var drained = Q.defer();","","    _stream.on(\"error\", function (reason) {","        drained.reject(reason);","        drained = Q.defer();","    });","","    _stream.on(\"drain\", function () {","        drained.resolve();","        drained = Q.defer();","    });","","    /***","     * Writes content to the stream.","     * @param {String} content","     * @returns {Promise * Undefined} a promise that will","     * be resolved when the buffer is empty, meaning","     * that all of the content has been sent.","     */","    self.write = function (content) {","        if (!_stream.writeable && !_stream.writable)","            return Q.reject(new Error(\"Can't write to non-writable (possibly closed) stream\"));","        if (typeof content !== \"string\") {","            content = new Buffer(content);","        }","        if (!_stream.write(content)) {","            return drained.promise;","        } else {","            return Q.resolve();","        }","    };","","    /***","     * Waits for all data to flush on the stream.","     *","     * @returns {Promise * Undefined} a promise that will","     * be resolved when the buffer is empty","     */","    self.flush = function () {","        return drained.promise;","    };","","    /***","     * Closes the stream, waiting for the internal buffer","     * to flush.","     *","     * @returns {Promise * Undefined} a promise that will","     * be resolved when the stream has finished writing,","     * flushing, and closed.","     */","    self.close = function () {","        var finished;","","        if (supportsFinish) { // new Streams, listen for `finish` event","            finished = Q.defer();","            _stream.on(\"finish\", function () {","                finished.resolve();","            });","            _stream.on(\"error\", function (reason) {","                finished.reject(reason);","            });","        }","","        _stream.end();","        drained.resolve(); // we will get no further drain events","        if (finished) { // closing not explicitly observable","            return finished.promise;","        } else {","            return Q(); // just resolve for old Streams","        }","    };","","    /***","     * Terminates writing on a stream, closing before","     * the internal buffer drains.","     *","     * @returns {Promise * Undefined} a promise that will","     * be resolved when the stream has finished closing.","     */","    self.destroy = function () {","        _stream.destroy();","        drained.resolve(); // we will get no further drain events","        return Q.resolve(); // destruction not explicitly observable","    };","","    self.node = _stream;","","    return Q(self); // todo returns the begin.promise","}","",""],"l":{"2":1,"13":1,"15":1,"16":1,"18":1,"19":0,"21":0,"22":0,"24":0,"26":0,"27":0,"28":0,"31":0,"32":0,"33":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"50":0,"52":0,"62":0,"63":0,"74":0,"75":0,"77":0,"78":0,"79":0,"80":0,"82":0,"83":0,"87":0,"88":0,"89":0,"90":0,"92":0,"103":0,"104":0,"105":0,"106":0,"109":0,"111":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs2http.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/fs2http.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"Client","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":20}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":38}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":50}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":24},"end":{"line":24,"column":40}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":16},"end":{"line":35,"column":46}}},"6":{"name":"(anonymous_6)","line":36,"loc":{"start":{"line":36,"column":33},"end":{"line":36,"column":53}}},"7":{"name":"(anonymous_7)","line":39,"loc":{"start":{"line":39,"column":48},"end":{"line":39,"column":68}}},"8":{"name":"(anonymous_8)","line":52,"loc":{"start":{"line":52,"column":18},"end":{"line":52,"column":37}}},"9":{"name":"(anonymous_9)","line":54,"loc":{"start":{"line":54,"column":10},"end":{"line":54,"column":24}}},"10":{"name":"(anonymous_10)","line":59,"loc":{"start":{"line":59,"column":15},"end":{"line":59,"column":45}}},"11":{"name":"(anonymous_11)","line":61,"loc":{"start":{"line":61,"column":10},"end":{"line":61,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"5":{"start":{"line":7,"column":0},"end":{"line":50,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":47}},"7":{"start":{"line":10,"column":4},"end":{"line":33,"column":6}},"8":{"start":{"line":11,"column":8},"end":{"line":32,"column":11}},"9":{"start":{"line":12,"column":12},"end":{"line":12,"column":53}},"10":{"start":{"line":13,"column":12},"end":{"line":13,"column":45}},"11":{"start":{"line":14,"column":12},"end":{"line":31,"column":13}},"12":{"start":{"line":15,"column":16},"end":{"line":19,"column":18}},"13":{"start":{"line":21,"column":16},"end":{"line":21,"column":40}},"14":{"start":{"line":22,"column":16},"end":{"line":30,"column":19}},"15":{"start":{"line":25,"column":20},"end":{"line":29,"column":22}},"16":{"start":{"line":35,"column":4},"end":{"line":47,"column":6}},"17":{"start":{"line":36,"column":8},"end":{"line":38,"column":10}},"18":{"start":{"line":37,"column":12},"end":{"line":37,"column":43}},"19":{"start":{"line":39,"column":8},"end":{"line":46,"column":11}},"20":{"start":{"line":40,"column":12},"end":{"line":44,"column":13}},"21":{"start":{"line":41,"column":16},"end":{"line":41,"column":90}},"22":{"start":{"line":42,"column":16},"end":{"line":42,"column":42}},"23":{"start":{"line":43,"column":16},"end":{"line":43,"column":28}},"24":{"start":{"line":45,"column":12},"end":{"line":45,"column":51}},"25":{"start":{"line":49,"column":4},"end":{"line":49,"column":16}},"26":{"start":{"line":52,"column":0},"end":{"line":57,"column":2}},"27":{"start":{"line":53,"column":4},"end":{"line":56,"column":7}},"28":{"start":{"line":55,"column":8},"end":{"line":55,"column":43}},"29":{"start":{"line":59,"column":0},"end":{"line":64,"column":2}},"30":{"start":{"line":60,"column":4},"end":{"line":63,"column":7}},"31":{"start":{"line":62,"column":8},"end":{"line":62,"column":40}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":12}},{"start":{"line":14,"column":12},"end":{"line":14,"column":12}}]},"2":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":20},"end":{"line":36,"column":29}},{"start":{"line":36,"column":33},"end":{"line":38,"column":9}}]},"3":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":12}},{"start":{"line":40,"column":12},"end":{"line":40,"column":12}}]},"4":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":19},"end":{"line":53,"column":32}},{"start":{"line":53,"column":36},"end":{"line":53,"column":43}}]},"5":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":19},"end":{"line":60,"column":32}},{"start":{"line":60,"column":36},"end":{"line":60,"column":43}}]}},"code":["","var Q = require(\"q\");","var HTTP = require(\"./http\");","var URL = require(\"url\");","","exports.Client = Client;","function Client(fs) {","    var self = Object.create(Client.prototype);","","    self.request = function (request) {","        return Q.when(request, function (request) {","            request = HTTP.normalizeRequest(request);","            var url = URL.parse(request.url);","            if (url.protocol !== \"file:\") {","                return {","                    status: 404,","                    headers: {},","                    body: [\"Can't access protocol \" + url.protocol]","                };","            } else {","                var path = url.pathname;","                return fs.open(path, {","                    charset: request.charset","                }).then(function (body) {","                    return {","                        status: 200,","                        headers: {},","                        body: body","                    };","                });","            }","        });","    };","","    self.read = function (request, qualifier) {","        qualifier = qualifier || function (response) {","            return response.status === 200;","        };","        return Q.when(exports.request(request), function (response) {","            if (!qualifier(response)){","                var error = new Error(\"HTTP request failed with code \" + response.status);","                error.response = response;","                throw error;","            }","            return Q.invoke(response.body, \"read\");","        });","    };","","    return self;","}","","exports.request = function (request) {","    return Q.fcall(require.async || require, \"./fs\")","    .then(function (fs) {","        return Client(fs).request(request);","    });","};","","exports.read = function (request, qualifier) {","    return Q.fcall(require.async || require, \"./fs\")","    .then(function (fs) {","        return Client(fs).read(request);","    });","};","",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":1,"8":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"21":0,"22":0,"25":0,"35":0,"36":0,"37":0,"39":0,"40":0,"41":0,"42":0,"43":0,"45":0,"49":0,"52":1,"53":0,"55":0,"59":1,"60":0,"62":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":1,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":1,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},"fnMap":{"1":{"name":"(anonymous_1)","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":36}}},"2":{"name":"(anonymous_2)","line":27,"loc":{"start":{"line":27,"column":35},"end":{"line":27,"column":66}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":27},"end":{"line":32,"column":51}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":24},"end":{"line":40,"column":43}}},"5":{"name":"(anonymous_5)","line":41,"loc":{"start":{"line":41,"column":54},"end":{"line":41,"column":74}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":45},"end":{"line":50,"column":61}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":35},"end":{"line":55,"column":52}}},"8":{"name":"(anonymous_8)","line":59,"loc":{"start":{"line":59,"column":37},"end":{"line":59,"column":57}}},"9":{"name":"(anonymous_9)","line":68,"loc":{"start":{"line":68,"column":48},"end":{"line":68,"column":65}}},"10":{"name":"(anonymous_10)","line":69,"loc":{"start":{"line":69,"column":46},"end":{"line":69,"column":58}}},"11":{"name":"(anonymous_11)","line":70,"loc":{"start":{"line":70,"column":53},"end":{"line":70,"column":70}}},"12":{"name":"(anonymous_12)","line":75,"loc":{"start":{"line":75,"column":44},"end":{"line":75,"column":56}}},"13":{"name":"(anonymous_13)","line":76,"loc":{"start":{"line":76,"column":47},"end":{"line":76,"column":59}}},"14":{"name":"(anonymous_14)","line":92,"loc":{"start":{"line":92,"column":23},"end":{"line":92,"column":38}}},"15":{"name":"(anonymous_15)","line":105,"loc":{"start":{"line":105,"column":16},"end":{"line":105,"column":28}}},"16":{"name":"(anonymous_16)","line":112,"loc":{"start":{"line":112,"column":27},"end":{"line":112,"column":42}}},"17":{"name":"(anonymous_17)","line":127,"loc":{"start":{"line":127,"column":18},"end":{"line":127,"column":41}}},"18":{"name":"(anonymous_18)","line":147,"loc":{"start":{"line":147,"column":13},"end":{"line":147,"column":25}}},"19":{"name":"(anonymous_19)","line":153,"loc":{"start":{"line":153,"column":13},"end":{"line":153,"column":25}}},"20":{"name":"(anonymous_20)","line":165,"loc":{"start":{"line":165,"column":24},"end":{"line":165,"column":49}}},"21":{"name":"(anonymous_21)","line":218,"loc":{"start":{"line":218,"column":32},"end":{"line":218,"column":48}}},"22":{"name":"(anonymous_22)","line":226,"loc":{"start":{"line":226,"column":13},"end":{"line":226,"column":25}}},"23":{"name":"(anonymous_23)","line":236,"loc":{"start":{"line":236,"column":13},"end":{"line":236,"column":33}}},"24":{"name":"(anonymous_24)","line":242,"loc":{"start":{"line":242,"column":25},"end":{"line":242,"column":51}}},"25":{"name":"(anonymous_25)","line":250,"loc":{"start":{"line":250,"column":27},"end":{"line":250,"column":46}}},"26":{"name":"(anonymous_26)","line":279,"loc":{"start":{"line":279,"column":28},"end":{"line":279,"column":48}}},"27":{"name":"(anonymous_27)","line":303,"loc":{"start":{"line":303,"column":18},"end":{"line":303,"column":37}}},"28":{"name":"(anonymous_28)","line":304,"loc":{"start":{"line":304,"column":27},"end":{"line":304,"column":46}}},"29":{"name":"(anonymous_29)","line":326,"loc":{"start":{"line":326,"column":52},"end":{"line":326,"column":73}}},"30":{"name":"(anonymous_30)","line":328,"loc":{"start":{"line":328,"column":34},"end":{"line":328,"column":51}}},"31":{"name":"(anonymous_31)","line":336,"loc":{"start":{"line":336,"column":29},"end":{"line":336,"column":46}}},"32":{"name":"(anonymous_32)","line":341,"loc":{"start":{"line":341,"column":49},"end":{"line":341,"column":60}}},"33":{"name":"(anonymous_33)","line":346,"loc":{"start":{"line":346,"column":29},"end":{"line":346,"column":45}}},"34":{"name":"(anonymous_34)","line":349,"loc":{"start":{"line":349,"column":36},"end":{"line":349,"column":53}}},"35":{"name":"(anonymous_35)","line":350,"loc":{"start":{"line":350,"column":38},"end":{"line":350,"column":50}}},"36":{"name":"(anonymous_36)","line":351,"loc":{"start":{"line":351,"column":45},"end":{"line":351,"column":62}}},"37":{"name":"(anonymous_37)","line":357,"loc":{"start":{"line":357,"column":31},"end":{"line":357,"column":43}}},"38":{"name":"(anonymous_38)","line":358,"loc":{"start":{"line":358,"column":36},"end":{"line":358,"column":48}}},"39":{"name":"(anonymous_39)","line":378,"loc":{"start":{"line":378,"column":15},"end":{"line":378,"column":45}}},"40":{"name":"(anonymous_40)","line":379,"loc":{"start":{"line":379,"column":29},"end":{"line":379,"column":49}}},"41":{"name":"(anonymous_41)","line":382,"loc":{"start":{"line":382,"column":44},"end":{"line":382,"column":64}}},"42":{"name":"(anonymous_42)","line":398,"loc":{"start":{"line":398,"column":25},"end":{"line":398,"column":55}}},"43":{"name":"(anonymous_43)","line":412,"loc":{"start":{"line":412,"column":46},"end":{"line":412,"column":62}}}},"statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":8,"column":27}},"2":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":21}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}},"6":{"start":{"line":24,"column":0},"end":{"line":142,"column":2}},"7":{"start":{"line":25,"column":4},"end":{"line":25,"column":55}},"8":{"start":{"line":27,"column":4},"end":{"line":89,"column":7}},"9":{"start":{"line":28,"column":8},"end":{"line":28,"column":54}},"10":{"start":{"line":29,"column":8},"end":{"line":29,"column":57}},"11":{"start":{"line":31,"column":8},"end":{"line":31,"column":31}},"12":{"start":{"line":32,"column":8},"end":{"line":38,"column":11}},"13":{"start":{"line":33,"column":12},"end":{"line":37,"column":13}},"14":{"start":{"line":34,"column":16},"end":{"line":34,"column":37}},"15":{"start":{"line":36,"column":16},"end":{"line":36,"column":38}},"16":{"start":{"line":40,"column":8},"end":{"line":87,"column":16}},"17":{"start":{"line":41,"column":12},"end":{"line":85,"column":14}},"18":{"start":{"line":42,"column":16},"end":{"line":43,"column":27}},"19":{"start":{"line":43,"column":20},"end":{"line":43,"column":27}},"20":{"start":{"line":45,"column":16},"end":{"line":45,"column":71}},"21":{"start":{"line":47,"column":16},"end":{"line":48,"column":73}},"22":{"start":{"line":48,"column":20},"end":{"line":48,"column":73}},"23":{"start":{"line":50,"column":16},"end":{"line":83,"column":19}},"24":{"start":{"line":51,"column":20},"end":{"line":51,"column":31}},"25":{"start":{"line":52,"column":20},"end":{"line":82,"column":21}},"26":{"start":{"line":56,"column":28},"end":{"line":56,"column":60}},"27":{"start":{"line":59,"column":24},"end":{"line":65,"column":27}},"28":{"start":{"line":60,"column":28},"end":{"line":64,"column":29}},"29":{"start":{"line":61,"column":32},"end":{"line":61,"column":73}},"30":{"start":{"line":63,"column":32},"end":{"line":63,"column":71}},"31":{"start":{"line":66,"column":27},"end":{"line":82,"column":21}},"32":{"start":{"line":67,"column":24},"end":{"line":67,"column":32}},"33":{"start":{"line":68,"column":24},"end":{"line":74,"column":27}},"34":{"start":{"line":69,"column":28},"end":{"line":73,"column":31}},"35":{"start":{"line":70,"column":32},"end":{"line":72,"column":35}},"36":{"start":{"line":71,"column":36},"end":{"line":71,"column":77}},"37":{"start":{"line":75,"column":24},"end":{"line":79,"column":27}},"38":{"start":{"line":76,"column":28},"end":{"line":78,"column":31}},"39":{"start":{"line":77,"column":32},"end":{"line":77,"column":48}},"40":{"start":{"line":81,"column":24},"end":{"line":81,"column":40}},"41":{"start":{"line":91,"column":4},"end":{"line":91,"column":28}},"42":{"start":{"line":92,"column":4},"end":{"line":98,"column":7}},"43":{"start":{"line":93,"column":8},"end":{"line":97,"column":9}},"44":{"start":{"line":94,"column":12},"end":{"line":94,"column":32}},"45":{"start":{"line":96,"column":12},"end":{"line":96,"column":30}},"46":{"start":{"line":105,"column":4},"end":{"line":109,"column":6}},"47":{"start":{"line":106,"column":8},"end":{"line":106,"column":23}},"48":{"start":{"line":107,"column":8},"end":{"line":107,"column":30}},"49":{"start":{"line":108,"column":8},"end":{"line":108,"column":31}},"50":{"start":{"line":111,"column":4},"end":{"line":111,"column":30}},"51":{"start":{"line":112,"column":4},"end":{"line":118,"column":7}},"52":{"start":{"line":113,"column":8},"end":{"line":117,"column":9}},"53":{"start":{"line":114,"column":12},"end":{"line":114,"column":34}},"54":{"start":{"line":116,"column":12},"end":{"line":116,"column":36}},"55":{"start":{"line":127,"column":4},"end":{"line":133,"column":6}},"56":{"start":{"line":128,"column":8},"end":{"line":130,"column":38}},"57":{"start":{"line":129,"column":12},"end":{"line":130,"column":38}},"58":{"start":{"line":131,"column":8},"end":{"line":131,"column":47}},"59":{"start":{"line":132,"column":8},"end":{"line":132,"column":33}},"60":{"start":{"line":135,"column":4},"end":{"line":135,"column":35}},"61":{"start":{"line":137,"column":4},"end":{"line":137,"column":23}},"62":{"start":{"line":138,"column":4},"end":{"line":138,"column":29}},"63":{"start":{"line":139,"column":4},"end":{"line":139,"column":47}},"64":{"start":{"line":141,"column":4},"end":{"line":141,"column":16}},"65":{"start":{"line":144,"column":0},"end":{"line":158,"column":3}},"66":{"start":{"line":148,"column":12},"end":{"line":148,"column":34}},"67":{"start":{"line":154,"column":12},"end":{"line":154,"column":34}},"68":{"start":{"line":165,"column":0},"end":{"line":222,"column":2}},"69":{"start":{"line":166,"column":4},"end":{"line":166,"column":61}},"70":{"start":{"line":168,"column":4},"end":{"line":168,"column":70}},"71":{"start":{"line":170,"column":4},"end":{"line":170,"column":37}},"72":{"start":{"line":172,"column":4},"end":{"line":172,"column":32}},"73":{"start":{"line":176,"column":4},"end":{"line":176,"column":29}},"74":{"start":{"line":179,"column":4},"end":{"line":179,"column":28}},"75":{"start":{"line":181,"column":4},"end":{"line":181,"column":28}},"76":{"start":{"line":183,"column":4},"end":{"line":183,"column":48}},"77":{"start":{"line":185,"column":4},"end":{"line":189,"column":5}},"78":{"start":{"line":186,"column":8},"end":{"line":186,"column":63}},"79":{"start":{"line":188,"column":8},"end":{"line":188,"column":43}},"80":{"start":{"line":191,"column":4},"end":{"line":191,"column":32}},"81":{"start":{"line":192,"column":4},"end":{"line":192,"column":56}},"82":{"start":{"line":193,"column":4},"end":{"line":193,"column":78}},"83":{"start":{"line":195,"column":4},"end":{"line":195,"column":33}},"84":{"start":{"line":197,"column":4},"end":{"line":197,"column":46}},"85":{"start":{"line":199,"column":4},"end":{"line":199,"column":43}},"86":{"start":{"line":202,"column":4},"end":{"line":207,"column":7}},"87":{"start":{"line":209,"column":4},"end":{"line":209,"column":36}},"88":{"start":{"line":211,"column":4},"end":{"line":211,"column":39}},"89":{"start":{"line":213,"column":4},"end":{"line":213,"column":28}},"90":{"start":{"line":214,"column":4},"end":{"line":214,"column":35}},"91":{"start":{"line":216,"column":4},"end":{"line":216,"column":49}},"92":{"start":{"line":218,"column":4},"end":{"line":221,"column":7}},"93":{"start":{"line":219,"column":8},"end":{"line":219,"column":28}},"94":{"start":{"line":220,"column":8},"end":{"line":220,"column":23}},"95":{"start":{"line":224,"column":0},"end":{"line":240,"column":2}},"96":{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},"97":{"start":{"line":232,"column":16},"end":{"line":232,"column":82}},"98":{"start":{"line":234,"column":12},"end":{"line":234,"column":34}},"99":{"start":{"line":237,"column":12},"end":{"line":237,"column":38}},"100":{"start":{"line":242,"column":0},"end":{"line":248,"column":2}},"101":{"start":{"line":243,"column":4},"end":{"line":243,"column":44}},"102":{"start":{"line":244,"column":4},"end":{"line":244,"column":23}},"103":{"start":{"line":245,"column":4},"end":{"line":245,"column":30}},"104":{"start":{"line":246,"column":4},"end":{"line":246,"column":38}},"105":{"start":{"line":247,"column":4},"end":{"line":247,"column":20}},"106":{"start":{"line":250,"column":0},"end":{"line":277,"column":2}},"107":{"start":{"line":251,"column":4},"end":{"line":253,"column":5}},"108":{"start":{"line":252,"column":8},"end":{"line":252,"column":33}},"109":{"start":{"line":254,"column":4},"end":{"line":254,"column":45}},"110":{"start":{"line":255,"column":4},"end":{"line":255,"column":44}},"111":{"start":{"line":256,"column":4},"end":{"line":264,"column":5}},"112":{"start":{"line":257,"column":8},"end":{"line":257,"column":41}},"113":{"start":{"line":258,"column":8},"end":{"line":258,"column":48}},"114":{"start":{"line":259,"column":8},"end":{"line":259,"column":40}},"115":{"start":{"line":260,"column":8},"end":{"line":260,"column":32}},"116":{"start":{"line":261,"column":8},"end":{"line":261,"column":33}},"117":{"start":{"line":262,"column":8},"end":{"line":262,"column":65}},"118":{"start":{"line":263,"column":8},"end":{"line":263,"column":42}},"119":{"start":{"line":265,"column":4},"end":{"line":265,"column":56}},"120":{"start":{"line":266,"column":4},"end":{"line":266,"column":60}},"121":{"start":{"line":267,"column":4},"end":{"line":269,"column":5}},"122":{"start":{"line":268,"column":8},"end":{"line":268,"column":54}},"123":{"start":{"line":270,"column":4},"end":{"line":273,"column":5}},"124":{"start":{"line":271,"column":8},"end":{"line":271,"column":49}},"125":{"start":{"line":272,"column":8},"end":{"line":272,"column":82}},"126":{"start":{"line":274,"column":4},"end":{"line":274,"column":64}},"127":{"start":{"line":275,"column":4},"end":{"line":275,"column":39}},"128":{"start":{"line":276,"column":4},"end":{"line":276,"column":19}},"129":{"start":{"line":279,"column":0},"end":{"line":294,"column":2}},"130":{"start":{"line":280,"column":4},"end":{"line":282,"column":5}},"131":{"start":{"line":281,"column":8},"end":{"line":281,"column":15}},"132":{"start":{"line":283,"column":4},"end":{"line":285,"column":5}},"133":{"start":{"line":284,"column":8},"end":{"line":284,"column":30}},"134":{"start":{"line":286,"column":4},"end":{"line":292,"column":5}},"135":{"start":{"line":287,"column":8},"end":{"line":291,"column":9}},"136":{"start":{"line":293,"column":4},"end":{"line":293,"column":20}},"137":{"start":{"line":303,"column":0},"end":{"line":366,"column":2}},"138":{"start":{"line":304,"column":4},"end":{"line":365,"column":7}},"139":{"start":{"line":306,"column":8},"end":{"line":306,"column":52}},"140":{"start":{"line":308,"column":8},"end":{"line":308,"column":33}},"141":{"start":{"line":309,"column":8},"end":{"line":309,"column":46}},"142":{"start":{"line":311,"column":8},"end":{"line":320,"column":10}},"143":{"start":{"line":322,"column":8},"end":{"line":324,"column":9}},"144":{"start":{"line":323,"column":12},"end":{"line":323,"column":49}},"145":{"start":{"line":326,"column":8},"end":{"line":334,"column":11}},"146":{"start":{"line":327,"column":12},"end":{"line":327,"column":81}},"147":{"start":{"line":328,"column":12},"end":{"line":333,"column":15}},"148":{"start":{"line":331,"column":16},"end":{"line":331,"column":60}},"149":{"start":{"line":332,"column":16},"end":{"line":332,"column":39}},"150":{"start":{"line":336,"column":8},"end":{"line":338,"column":11}},"151":{"start":{"line":337,"column":12},"end":{"line":337,"column":35}},"152":{"start":{"line":340,"column":8},"end":{"line":344,"column":9}},"153":{"start":{"line":341,"column":12},"end":{"line":343,"column":15}},"154":{"start":{"line":342,"column":16},"end":{"line":342,"column":33}},"155":{"start":{"line":346,"column":8},"end":{"line":362,"column":18}},"156":{"start":{"line":347,"column":12},"end":{"line":347,"column":26}},"157":{"start":{"line":348,"column":12},"end":{"line":356,"column":13}},"158":{"start":{"line":349,"column":16},"end":{"line":355,"column":19}},"159":{"start":{"line":350,"column":20},"end":{"line":354,"column":23}},"160":{"start":{"line":351,"column":24},"end":{"line":353,"column":27}},"161":{"start":{"line":352,"column":28},"end":{"line":352,"column":67}},"162":{"start":{"line":357,"column":12},"end":{"line":361,"column":15}},"163":{"start":{"line":358,"column":16},"end":{"line":360,"column":19}},"164":{"start":{"line":359,"column":20},"end":{"line":359,"column":35}},"165":{"start":{"line":364,"column":8},"end":{"line":364,"column":32}},"166":{"start":{"line":378,"column":0},"end":{"line":390,"column":2}},"167":{"start":{"line":379,"column":4},"end":{"line":381,"column":6}},"168":{"start":{"line":380,"column":8},"end":{"line":380,"column":39}},"169":{"start":{"line":382,"column":4},"end":{"line":389,"column":7}},"170":{"start":{"line":383,"column":8},"end":{"line":387,"column":9}},"171":{"start":{"line":384,"column":12},"end":{"line":384,"column":86}},"172":{"start":{"line":385,"column":12},"end":{"line":385,"column":38}},"173":{"start":{"line":386,"column":12},"end":{"line":386,"column":24}},"174":{"start":{"line":388,"column":8},"end":{"line":388,"column":49}},"175":{"start":{"line":398,"column":0},"end":{"line":416,"column":2}},"176":{"start":{"line":399,"column":4},"end":{"line":399,"column":67}},"177":{"start":{"line":401,"column":4},"end":{"line":401,"column":43}},"178":{"start":{"line":403,"column":4},"end":{"line":403,"column":45}},"179":{"start":{"line":405,"column":4},"end":{"line":405,"column":41}},"180":{"start":{"line":409,"column":4},"end":{"line":409,"column":30}},"181":{"start":{"line":410,"column":4},"end":{"line":410,"column":38}},"182":{"start":{"line":411,"column":4},"end":{"line":411,"column":51}},"183":{"start":{"line":412,"column":4},"end":{"line":415,"column":7}},"184":{"start":{"line":413,"column":8},"end":{"line":413,"column":29}},"185":{"start":{"line":414,"column":8},"end":{"line":414,"column":24}}},"branchMap":{"1":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":12}},{"start":{"line":33,"column":12},"end":{"line":33,"column":12}}]},"2":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":16},"end":{"line":42,"column":16}},{"start":{"line":42,"column":16},"end":{"line":42,"column":16}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":16},"end":{"line":47,"column":16}},{"start":{"line":47,"column":16},"end":{"line":47,"column":16}}]},"4":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":36}},{"start":{"line":47,"column":40},"end":{"line":47,"column":56}}]},"5":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":35},"end":{"line":48,"column":51}},{"start":{"line":48,"column":55},"end":{"line":48,"column":71}}]},"6":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":20},"end":{"line":52,"column":20}},{"start":{"line":52,"column":20},"end":{"line":52,"column":20}}]},"7":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":24},"end":{"line":53,"column":43}},{"start":{"line":54,"column":25},"end":{"line":54,"column":45}},{"start":{"line":55,"column":24},"end":{"line":57,"column":26}}]},"8":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":28},"end":{"line":60,"column":28}},{"start":{"line":60,"column":28},"end":{"line":60,"column":28}}]},"9":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":27},"end":{"line":66,"column":27}},{"start":{"line":66,"column":27},"end":{"line":66,"column":27}}]},"10":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":93,"column":8}},{"start":{"line":93,"column":8},"end":{"line":93,"column":8}}]},"11":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"12":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"13":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":4}},{"start":{"line":185,"column":4},"end":{"line":185,"column":4}}]},"14":{"line":192,"type":"cond-expr","locations":[{"start":{"line":192,"column":46},"end":{"line":192,"column":49}},{"start":{"line":192,"column":52},"end":{"line":192,"column":54}}]},"15":{"line":193,"type":"cond-expr","locations":[{"start":{"line":193,"column":53},"end":{"line":193,"column":55}},{"start":{"line":193,"column":58},"end":{"line":193,"column":76}}]},"16":{"line":205,"type":"cond-expr","locations":[{"start":{"line":205,"column":50},"end":{"line":205,"column":54}},{"start":{"line":205,"column":57},"end":{"line":205,"column":69}}]},"17":{"line":205,"type":"cond-expr","locations":[{"start":{"line":205,"column":38},"end":{"line":205,"column":41}},{"start":{"line":205,"column":44},"end":{"line":205,"column":46}}]},"18":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":12},"end":{"line":231,"column":12}},{"start":{"line":231,"column":12},"end":{"line":231,"column":12}}]},"19":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":4},"end":{"line":251,"column":4}},{"start":{"line":251,"column":4},"end":{"line":251,"column":4}}]},"20":{"line":254,"type":"binary-expr","locations":[{"start":{"line":254,"column":21},"end":{"line":254,"column":35}},{"start":{"line":254,"column":39},"end":{"line":254,"column":44}}]},"21":{"line":255,"type":"binary-expr","locations":[{"start":{"line":255,"column":22},"end":{"line":255,"column":37}},{"start":{"line":255,"column":41},"end":{"line":255,"column":43}}]},"22":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"23":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":24},"end":{"line":262,"column":36}},{"start":{"line":262,"column":40},"end":{"line":262,"column":42}}]},"24":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":47},"end":{"line":262,"column":57}},{"start":{"line":262,"column":61},"end":{"line":262,"column":63}}]},"25":{"line":263,"type":"binary-expr","locations":[{"start":{"line":263,"column":23},"end":{"line":263,"column":31}},{"start":{"line":263,"column":35},"end":{"line":263,"column":41}}]},"26":{"line":265,"type":"binary-expr","locations":[{"start":{"line":265,"column":19},"end":{"line":265,"column":31}},{"start":{"line":265,"column":35},"end":{"line":265,"column":55}}]},"27":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":19},"end":{"line":266,"column":31}},{"start":{"line":266,"column":36},"end":{"line":266,"column":58}}]},"28":{"line":266,"type":"cond-expr","locations":[{"start":{"line":266,"column":50},"end":{"line":266,"column":53}},{"start":{"line":266,"column":56},"end":{"line":266,"column":58}}]},"29":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"30":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":8},"end":{"line":267,"column":20}},{"start":{"line":267,"column":24},"end":{"line":267,"column":41}}]},"31":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":4},"end":{"line":270,"column":4}},{"start":{"line":270,"column":4},"end":{"line":270,"column":4}}]},"32":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":24}},{"start":{"line":270,"column":28},"end":{"line":270,"column":40}},{"start":{"line":270,"column":44},"end":{"line":270,"column":57}}]},"33":{"line":271,"type":"cond-expr","locations":[{"start":{"line":271,"column":40},"end":{"line":271,"column":43}},{"start":{"line":271,"column":46},"end":{"line":271,"column":48}}]},"34":{"line":272,"type":"cond-expr","locations":[{"start":{"line":272,"column":57},"end":{"line":272,"column":59}},{"start":{"line":272,"column":62},"end":{"line":272,"column":80}}]},"35":{"line":274,"type":"binary-expr","locations":[{"start":{"line":274,"column":27},"end":{"line":274,"column":47}},{"start":{"line":274,"column":51},"end":{"line":274,"column":63}}]},"36":{"line":275,"type":"binary-expr","locations":[{"start":{"line":275,"column":19},"end":{"line":275,"column":31}},{"start":{"line":275,"column":35},"end":{"line":275,"column":38}}]},"37":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":4},"end":{"line":280,"column":4}},{"start":{"line":280,"column":4},"end":{"line":280,"column":4}}]},"38":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":4},"end":{"line":283,"column":4}},{"start":{"line":283,"column":4},"end":{"line":283,"column":4}}]},"39":{"line":286,"type":"if","locations":[{"start":{"line":286,"column":4},"end":{"line":286,"column":4}},{"start":{"line":286,"column":4},"end":{"line":286,"column":4}}]},"40":{"line":309,"type":"cond-expr","locations":[{"start":{"line":309,"column":33},"end":{"line":309,"column":38}},{"start":{"line":309,"column":41},"end":{"line":309,"column":45}}]},"41":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":18},"end":{"line":313,"column":30}},{"start":{"line":313,"column":35},"end":{"line":313,"column":57}}]},"42":{"line":313,"type":"cond-expr","locations":[{"start":{"line":313,"column":49},"end":{"line":313,"column":52}},{"start":{"line":313,"column":55},"end":{"line":313,"column":57}}]},"43":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":8},"end":{"line":322,"column":8}},{"start":{"line":322,"column":8},"end":{"line":322,"column":8}}]},"44":{"line":331,"type":"binary-expr","locations":[{"start":{"line":331,"column":29},"end":{"line":331,"column":34}},{"start":{"line":331,"column":38},"end":{"line":331,"column":49}},{"start":{"line":331,"column":53},"end":{"line":331,"column":58}}]},"45":{"line":340,"type":"if","locations":[{"start":{"line":340,"column":8},"end":{"line":340,"column":8}},{"start":{"line":340,"column":8},"end":{"line":340,"column":8}}]},"46":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":12},"end":{"line":348,"column":12}},{"start":{"line":348,"column":12},"end":{"line":348,"column":12}}]},"47":{"line":379,"type":"binary-expr","locations":[{"start":{"line":379,"column":16},"end":{"line":379,"column":25}},{"start":{"line":379,"column":29},"end":{"line":381,"column":5}}]},"48":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":8},"end":{"line":383,"column":8}},{"start":{"line":383,"column":8},"end":{"line":383,"column":8}}]}},"code":["/**"," * A promise-based Q-JSGI server and client API."," * @module"," */","","/*whatsupdoc*/","","var HTTP = require(\"http\"); // node","var HTTPS = require(\"https\"); // node","var URL = require(\"url2\"); // node","var Q = require(\"q\");","var Reader = require(\"./reader\");","","/**"," * @param {respond(request Request)} respond a JSGI responder function that"," * receives a Request object as its argument.  The JSGI responder promises to"," * return an object of the form `{status, headers, body}`.  The status and"," * headers must be fully resolved, but the body may be a promise for an object"," * with a `forEach(write(chunk String))` method, albeit an array of strings."," * The `forEach` method may promise to resolve when all chunks have been"," * written."," * @returns a Node Server object."," */","exports.Server = function (respond) {","    var self = Object.create(exports.Server.prototype);","","    var server = HTTP.createServer(function (_request, _response) {","        var request = exports.ServerRequest(_request);","        var response = exports.ServerResponse(_response);","","        var closed = Q.defer();","        _request.on(\"end\", function (error, value) {","            if (error) {","                closed.reject(error);","            } else {","                closed.resolve(value);","            }","        });","","        Q.when(request, function (request) {","            return Q.when(respond(request, response), function (response) {","                if (!response)","                    return;","","                _response.writeHead(response.status, response.headers);","","                if (response.onclose || response.onClose)","                    Q.when(closed, response.onclose || response.onClose);","","                return Q.when(response.body, function (body) {","                    var length;","                    if (","                        Array.isArray(body) &&","                        (length = body.length) &&","                        body.every(function (chunk) {","                            return typeof chunk === \"string\"","                        })","                    ) {","                        body.forEach(function (chunk, i) {","                            if (i < length - 1) {","                                _response.write(chunk, response.charset);","                            } else {","                                _response.end(chunk, response.charset);","                            }","                        });","                    } else if (body) {","                        var end;","                        var done = body.forEach(function (chunk) {","                            end = Q.when(end, function () {","                                return Q.when(chunk, function (chunk) {","                                    _response.write(chunk, response.charset);","                                });","                            });","                        });","                        return Q.when(done, function () {","                            return Q.when(end, function () {","                                _response.end();","                            });","                        });","                    } else {","                        _response.end();","                    }","                });","","            })","        })","        .done(); // should be .fail(self.emitter(\"error\"))","","    });","","    var stopped = Q.defer();","    server.on(\"close\", function (err) {","        if (err) {","            stopped.reject(err);","        } else {","            stopped.resolve();","        }","    });","","    /***","     * Stops the server.","     * @returns {Promise * Undefined} a promise that will","     * resolve when the server is stopped.","     */","    self.stop = function () {","        server.close();","        listening = undefined;","        return stopped.promise;","    };","","    var listening = Q.defer();","    server.on(\"listening\", function (err) {","        if (err) {","            listening.reject(err);","        } else {","            listening.resolve(self);","        }","    });","","    /***","     * Starts the server, listening on the given port","     * @param {Number} port","     * @returns {Promise * Undefined} a promise that will","     * resolve when the server is ready to receive","     * connections","     */","    self.listen = function (/*...args*/) {","        if (typeof server.port !== \"undefined\")","            return Q.reject(new Error(\"A server cannot be restarted or \" +","            \"started on a new port\"));","        server.listen.apply(server, arguments);","        return listening.promise;","    };","","    self.stopped = stopped.promise;","","    self.node = server;","    self.nodeServer = server; // Deprecated","    self.address = server.address.bind(server);","","    return self;","};","","Object.defineProperties(exports.Server, {","","    port: {","        get: function () {","            return this.node.port;","        }","    },","","    host: {","        get: function () {","            return this.node.host;","        }","    }","","});","","/**"," * A wrapper for a Node HTTP Request, as received by"," * the Q HTTP Server, suitable for use by the Q HTTP Client."," */","","exports.ServerRequest = function (_request, ssl) {","    var request = Object.create(_request, requestDescriptor);","    /*** {Array} HTTP version. (JSGI) */","    request.version = _request.httpVersion.split(\".\").map(Math.floor);","    /*** {String} HTTP method, e.g., `\"GET\"` (JSGI) */","    request.method = _request.method;","    /*** {String} path, starting with `\"/\"` */","    request.path = _request.url;","    /*** {String} pathInfo, starting with `\"/\"`, the","     * portion of the path that has not yet","     * been routed (JSGI) */","    request._pathInfo = null;","    /*** {String} scriptName, the portion of the path that","     * has already been routed (JSGI) */","    request.scriptName = \"\";","    /*** {String} (JSGI) */","    request.scheme = \"http\";","","    var address = _request.connection.address();","    /*** {String} hostname */","    if (_request.headers.host) {","        request.hostname = _request.headers.host.split(\":\")[0];","    } else {","        request.hostname = address.address;","    }","    /*** {String} host */","    request.port = address.port;","    var defaultPort = request.port === (ssl ? 443 : 80);","    request.host = request.hostname + (defaultPort ? \"\" : \":\" + request.port);","","    var socket = _request.socket;","    /*** {String} */","    request.remoteHost = socket.remoteAddress;","    /*** {Number} */","    request.remotePort = socket.remotePort;","","    /*** {String} url */","    request.url = URL.format({","        protocol: request.scheme,","        host: _request.headers.host,","        port: request.port === (ssl ? 443 : 80) ? null : request.port,","        path: request.path","    });","    /*** A Q IO asynchronous text reader */","    request.body = Reader(_request);","    /*** {Object} HTTP headers (JSGI)*/","    request.headers = _request.headers;","    /*** The underlying Node request */","    request.node = _request;","    request.nodeRequest = _request; // Deprecated","    /*** The underlying Node TCP connection */","    request.nodeConnection = _request.connection;","","    return Q.when(request.body, function (body) {","        request.body = body;","        return request;","    });","};","","var requestDescriptor = {","    pathInfo: {","        get: function () {","            // Postpone this until the server requests it because","            // decodeURIComponent may throw an error if the path is not valid.","            // If we throw while making a server request, it will crash the","            // server and be uncatchable.","            if (this._pathInfo === null) {","                this._pathInfo = decodeURIComponent(URL.parse(this.url).pathname);","            }","            return this._pathInfo;","        },","        set: function (pathInfo) {","            this._pathInfo = pathInfo;","        }","    }","};","","exports.ServerResponse = function (_response, ssl) {","    var response = Object.create(_response);","    response.ssl = ssl;","    response.node = _response;","    response.nodeResponse = _response; // Deprecated","    return response;","};","","exports.normalizeRequest = function (request) {","    if (typeof request === \"string\") {","        request = {url: request};","    }","    request.method = request.method || \"GET\";","    request.headers = request.headers || {};","    if (request.url) {","        var url = URL.parse(request.url);","        request.ssl = url.protocol === \"https:\";","        request.hostname = url.hostname;","        request.host = url.host;","        request.port = +url.port;","        request.path = (url.pathname || \"\") + (url.search || \"\");","        request.auth = url.auth || void 0;","    }","    request.host = request.host || request.headers.host;","    request.port = request.port || (request.ssl ? 443 : 80);","    if (request.host && !request.hostname) {","        request.hostname = request.host.split(\":\")[0];","    }","    if (request.hostname && request.port && !request.host) {","        var defaultPort = request.ssl ? 443 : 80;","        request.host = request.hostname + (defaultPort ? \"\" : \":\" + request.port);","    }","    request.headers.host = request.headers.host || request.host;","    request.path = request.path || \"/\";","    return request;","};","","exports.normalizeResponse = function (response) {","    if (response === void 0) {","        return;","    }","    if (typeof response == \"string\") {","        response = [response];","    }","    if (response.forEach) {","        response = {","            status: 200,","            headers: {},","            body: response","        }","    }","    return response;","};","","/**"," * Issues an HTTP request."," *"," * @param {Request {host, port, method, path, headers,"," * body}} request (may be a promise)"," * @returns {Promise * Response} promise for a response"," */","exports.request = function (request) {","    return Q.when(request, function (request) {","","        request = exports.normalizeRequest(request);","","        var deferred = Q.defer();","        var http = request.ssl ? HTTPS : HTTP;","","        var requestOptions = {","            hostname: request.hostname,","            port: request.port || (request.ssl ? 443 : 80),","            localAddress: request.localAddress,","            socketPath: request.socketPath,","            method: request.method,","            path: request.path,","            headers: request.headers,","            auth: request.auth // Generates the appropriate header","        };","","        if (request.agent !== undefined) {","            requestOptions.agent = request.agent;","        }","","        var _request = http.request(requestOptions, function (_response) {","            deferred.resolve(exports.ClientResponse(_response, request.charset));","            _response.on(\"error\", function (error) {","                // TODO find a better way to channel","                // this into the response","                console.warn(error && error.stack || error);","                deferred.reject(error);","            });","        });","","        _request.on(\"error\", function (error) {","            deferred.reject(error);","        });","","        if (request.timeout) {","            _request.setTimeout(request.timeout, function() {","                _request.abort();","            });","        }","","        Q.when(request.body, function (body) {","            var end, done;","            if (body) {","                done = body.forEach(function (chunk) {","                    end = Q.when(end, function () {","                        return Q.when(chunk, function (chunk) {","                            _request.write(chunk, request.charset);","                        });","                    });","                });","            }","            return Q.when(end, function () {","                return Q.when(done, function () {","                    _request.end();","                });","            });","        }).done();","","        return deferred.promise;","    });","};","","/**"," * Issues a GET request to the given URL and returns"," * a promise for a `String` containing the entirety"," * of the response."," *"," * @param {String} url"," * @returns {Promise * String} or a rejection if the"," * status code is not exactly 200.  The reason for the"," * rejection is the full response object."," */","exports.read = function (request, qualifier) {","    qualifier = qualifier || function (response) {","        return response.status === 200;","    };","    return Q.when(exports.request(request), function (response) {","        if (!qualifier(response)){","            var error = new Error(\"HTTP request failed with code \" + response.status);","            error.response = response;","            throw error;","        }","        return Q.post(response.body, 'read', []);","    });","};","","","/**"," * A wrapper for the Node HTTP Response as provided"," * by the Q HTTP Client API, suitable for use by the"," * Q HTTP Server API."," */","exports.ClientResponse = function (_response, charset) {","    var response = Object.create(exports.ClientResponse.prototype);","    /*** {Number} HTTP status code */","    response.status = _response.statusCode;","    /*** HTTP version */","    response.version = _response.httpVersion;","    /*** {Object} HTTP headers */","    response.headers = _response.headers;","    /***","     * A Q IO asynchronous text reader.","     */","    response.node = _response;","    response.nodeResponse = _response; // Deprecated","    response.nodeConnection = _response.connection; // Deprecated","    return Q.when(Reader(_response, charset), function (body) {","        response.body = body;","        return response;","    });","};","",""],"l":{"8":1,"9":1,"10":1,"11":1,"12":1,"24":1,"25":0,"27":0,"28":0,"29":0,"31":0,"32":0,"33":0,"34":0,"36":0,"40":0,"41":0,"42":0,"43":0,"45":0,"47":0,"48":0,"50":0,"51":0,"52":0,"56":0,"59":0,"60":0,"61":0,"63":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"75":0,"76":0,"77":0,"81":0,"91":0,"92":0,"93":0,"94":0,"96":0,"105":0,"106":0,"107":0,"108":0,"111":0,"112":0,"113":0,"114":0,"116":0,"127":0,"128":0,"129":0,"131":0,"132":0,"135":0,"137":0,"138":0,"139":0,"141":0,"144":1,"148":0,"154":0,"165":1,"166":0,"168":0,"170":0,"172":0,"176":0,"179":0,"181":0,"183":0,"185":0,"186":0,"188":0,"191":0,"192":0,"193":0,"195":0,"197":0,"199":0,"202":0,"209":0,"211":0,"213":0,"214":0,"216":0,"218":0,"219":0,"220":0,"224":1,"231":0,"232":0,"234":0,"237":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":0,"250":1,"251":0,"252":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"265":0,"266":0,"267":0,"268":0,"270":0,"271":0,"272":0,"274":0,"275":0,"276":0,"279":1,"280":0,"281":0,"283":0,"284":0,"286":0,"287":0,"293":0,"303":1,"304":0,"306":0,"308":0,"309":0,"311":0,"322":0,"323":0,"326":0,"327":0,"328":0,"331":0,"332":0,"336":0,"337":0,"340":0,"341":0,"342":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"357":0,"358":0,"359":0,"364":0,"378":1,"379":0,"380":0,"382":0,"383":0,"384":0,"385":0,"386":0,"388":0,"398":1,"399":0,"401":0,"403":0,"405":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/chain.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/chain.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"Chain","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":20}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":38}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":51}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":31}}},"5":{"name":"Self","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":35}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":23}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":46}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":6}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":16}},"7":{"start":{"line":11,"column":0},"end":{"line":23,"column":2}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":70}},"9":{"start":{"line":12,"column":14},"end":{"line":12,"column":70}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":56}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":20}},"12":{"start":{"line":15,"column":4},"end":{"line":20,"column":17}},"13":{"start":{"line":16,"column":8},"end":{"line":19,"column":10}},"14":{"start":{"line":17,"column":12},"end":{"line":17,"column":96}},"15":{"start":{"line":17,"column":44},"end":{"line":17,"column":96}},"16":{"start":{"line":18,"column":12},"end":{"line":18,"column":61}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":19}},"18":{"start":{"line":22,"column":4},"end":{"line":22,"column":16}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":15},"end":{"line":5,"column":18}},{"start":{"line":5,"column":22},"end":{"line":7,"column":5}}]},"2":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":12,"column":4}},{"start":{"line":12,"column":4},"end":{"line":12,"column":4}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":17,"column":12}},{"start":{"line":17,"column":12},"end":{"line":17,"column":12}}]},"4":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":16},"end":{"line":17,"column":33}},{"start":{"line":17,"column":37},"end":{"line":17,"column":42}}]}},"code":["","module.exports = Chain;","function Chain(end) {","    var self = Object.create(Chain.prototype);","    self.end = end || function (next) {","        return next;","    };","    return self;","};","","Chain.prototype.use = function (App /*, ...args*/) {","    if (!App) throw new Error(\"App is not defined after \" + this.app);","    var args = Array.prototype.slice.call(arguments, 1);","    var self = this;","    this.end = (function (End) {","        return function Self(next) {","            if (self.end !== Self && !next) throw new Error(\"App chain is broken after \" + App);","            return End(App.apply(null, [next].concat(args)));","        };","    })(this.end);","    this.app = App;","    return this;","};","",""],"l":{"2":1,"3":1,"4":0,"5":0,"6":0,"8":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"21":0,"22":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/content.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/content.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":18},"end":{"line":15,"column":55}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":11},"end":{"line":16,"column":23}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":53}}},"4":{"name":"(anonymous_4)","line":53,"loc":{"start":{"line":53,"column":25},"end":{"line":53,"column":40}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":11},"end":{"line":54,"column":40}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":43},"end":{"line":55,"column":59}}},"7":{"name":"(anonymous_7)","line":65,"loc":{"start":{"line":65,"column":18},"end":{"line":65,"column":33}}},"8":{"name":"(anonymous_8)","line":66,"loc":{"start":{"line":66,"column":36},"end":{"line":66,"column":65}}},"9":{"name":"(anonymous_9)","line":67,"loc":{"start":{"line":67,"column":46},"end":{"line":67,"column":64}}},"10":{"name":"(anonymous_10)","line":81,"loc":{"start":{"line":81,"column":21},"end":{"line":81,"column":36}}},"11":{"name":"(anonymous_11)","line":82,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":23}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"5":{"start":{"line":15,"column":0},"end":{"line":19,"column":2}},"6":{"start":{"line":16,"column":4},"end":{"line":18,"column":6}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":58}},"8":{"start":{"line":28,"column":0},"end":{"line":43,"column":2}},"9":{"start":{"line":30,"column":4},"end":{"line":30,"column":27}},"10":{"start":{"line":31,"column":4},"end":{"line":31,"column":28}},"11":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"12":{"start":{"line":33,"column":8},"end":{"line":33,"column":28}},"13":{"start":{"line":35,"column":4},"end":{"line":35,"column":46}},"14":{"start":{"line":36,"column":4},"end":{"line":42,"column":6}},"15":{"start":{"line":53,"column":0},"end":{"line":59,"column":2}},"16":{"start":{"line":54,"column":4},"end":{"line":58,"column":6}},"17":{"start":{"line":55,"column":8},"end":{"line":57,"column":11}},"18":{"start":{"line":56,"column":12},"end":{"line":56,"column":48}},"19":{"start":{"line":65,"column":0},"end":{"line":77,"column":2}},"20":{"start":{"line":66,"column":4},"end":{"line":76,"column":8}},"21":{"start":{"line":67,"column":8},"end":{"line":75,"column":11}},"22":{"start":{"line":68,"column":12},"end":{"line":74,"column":13}},"23":{"start":{"line":81,"column":0},"end":{"line":86,"column":2}},"24":{"start":{"line":82,"column":4},"end":{"line":85,"column":6}},"25":{"start":{"line":83,"column":8},"end":{"line":83,"column":69}},"26":{"start":{"line":84,"column":8},"end":{"line":84,"column":38}}},"branchMap":{"1":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":13},"end":{"line":30,"column":19}},{"start":{"line":30,"column":23},"end":{"line":30,"column":26}}]},"2":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":14},"end":{"line":31,"column":21}},{"start":{"line":31,"column":25},"end":{"line":31,"column":27}}]},"3":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"4":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":18},"end":{"line":35,"column":29}},{"start":{"line":35,"column":33},"end":{"line":35,"column":45}}]},"5":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":33},"end":{"line":83,"column":61}},{"start":{"line":83,"column":65},"end":{"line":83,"column":67}}]}},"code":["var Q = require(\"q\");","var Negotiate = require(\"./negotiate\");","var QS = require(\"qs\");","var URL = require(\"url2\");","","/**"," * Makes an app that returns a response with static content"," * from memory."," * @param {Body} body a Q-JSGI"," * response body"," * @param {String} contentType"," * @param {Number} status"," * @returns {App} a Q-JSGI app"," */","exports.Content = function (body, contentType, status) {","    return function () {","        return exports.content(body, contentType, status);","    };","};","","/**"," * Returns a Q-JSGI response with the given content."," * @param {Body} content (optional) defaults to `[\"\"]`"," * @param {String} contentType (optional) defaults to `\"text/plain\"`"," * @param {Number} status (optional) defaults to `200`"," * @returns {Response}"," */","exports.content =","exports.ok = function (content, contentType, status) {","    status = status || 200;","    content = content || \"\";","    if (typeof content === \"string\") {","        content = [content];","    }","    contentType = contentType || \"text/plain\";","    return {","        \"status\": status,","        \"headers\": {","            \"content-type\": contentType","        },","        \"body\": content","    };","};","","/**"," * Wraps an app such that it expects to receive content"," * in the request body and passes that content as a string"," * to as the second argument to the wrapped JSGI app."," *"," * @param {Function(Request, Object):Response} app"," * @returns {App}"," */","exports.ContentRequest = function (app) {","    return function (request, response) {","        return Q.when(request.body.read(), function (body) {","            return app(body, request, response);","        });","    };","};","","/**"," * @param {Function(Request):Object}"," * @returns {App}"," */","exports.Inspect = function (app) {","    return Negotiate.Method({\"GET\": function (request, response) {","        return Q.when(app(request, response), function (object) {","            return {","                status: 200,","                headers: {","                    \"content-type\": \"text/plain\"","                },","                body: [inspect(object)]","            }","        });","    }});","};","","/**"," */","exports.ParseQuery = function (app) {","    return function (request, response) {","        request.query = QS.parse(URL.parse(request.url).query || \"\");","        return app(request, response);","    };","};","",""],"l":{"1":1,"2":1,"3":1,"4":1,"15":1,"16":0,"17":0,"28":1,"30":0,"31":0,"32":0,"33":0,"35":0,"36":0,"53":1,"54":0,"55":0,"56":0,"65":1,"66":0,"67":0,"68":0,"81":1,"82":0,"83":0,"84":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/negotiate.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/negotiate.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":4,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":1,"38":1,"39":1,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":4,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"negotiate","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":17},"end":{"line":20,"column":54}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":30}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":67}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":11},"end":{"line":35,"column":43}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":15},"end":{"line":39,"column":34}}},"7":{"name":"(anonymous_7)","line":45,"loc":{"start":{"line":45,"column":52},"end":{"line":45,"column":72}}},"8":{"name":"(anonymous_8)","line":78,"loc":{"start":{"line":78,"column":15},"end":{"line":78,"column":52}}},"9":{"name":"(anonymous_9)","line":79,"loc":{"start":{"line":79,"column":44},"end":{"line":79,"column":63}}},"10":{"name":"(anonymous_10)","line":91,"loc":{"start":{"line":91,"column":11},"end":{"line":91,"column":30}}},"11":{"name":"(anonymous_11)","line":113,"loc":{"start":{"line":113,"column":17},"end":{"line":113,"column":35}}},"12":{"name":"(anonymous_12)","line":114,"loc":{"start":{"line":114,"column":11},"end":{"line":114,"column":30}}},"13":{"name":"(anonymous_13)","line":115,"loc":{"start":{"line":115,"column":39},"end":{"line":115,"column":54}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"5":{"start":{"line":7,"column":0},"end":{"line":12,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":34}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":60}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":49}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":23}},"10":{"start":{"line":20,"column":0},"end":{"line":32,"column":2}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":36}},"12":{"start":{"line":22,"column":4},"end":{"line":23,"column":51}},"13":{"start":{"line":23,"column":8},"end":{"line":23,"column":51}},"14":{"start":{"line":24,"column":4},"end":{"line":31,"column":6}},"15":{"start":{"line":25,"column":8},"end":{"line":25,"column":36}},"16":{"start":{"line":26,"column":8},"end":{"line":30,"column":9}},"17":{"start":{"line":27,"column":12},"end":{"line":27,"column":56}},"18":{"start":{"line":29,"column":12},"end":{"line":29,"column":45}},"19":{"start":{"line":34,"column":0},"end":{"line":61,"column":2}},"20":{"start":{"line":35,"column":4},"end":{"line":60,"column":6}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":38}},"22":{"start":{"line":37,"column":8},"end":{"line":38,"column":49}},"23":{"start":{"line":38,"column":12},"end":{"line":38,"column":49}},"24":{"start":{"line":39,"column":8},"end":{"line":59,"column":10}},"25":{"start":{"line":40,"column":12},"end":{"line":40,"column":63}},"26":{"start":{"line":41,"column":12},"end":{"line":41,"column":57}},"27":{"start":{"line":42,"column":12},"end":{"line":42,"column":48}},"28":{"start":{"line":43,"column":12},"end":{"line":43,"column":49}},"29":{"start":{"line":44,"column":12},"end":{"line":58,"column":13}},"30":{"start":{"line":45,"column":16},"end":{"line":55,"column":19}},"31":{"start":{"line":46,"column":20},"end":{"line":53,"column":21}},"32":{"start":{"line":52,"column":24},"end":{"line":52,"column":64}},"33":{"start":{"line":54,"column":20},"end":{"line":54,"column":36}},"34":{"start":{"line":57,"column":16},"end":{"line":57,"column":46}},"35":{"start":{"line":73,"column":0},"end":{"line":73,"column":59}},"36":{"start":{"line":74,"column":0},"end":{"line":74,"column":61}},"37":{"start":{"line":75,"column":0},"end":{"line":75,"column":58}},"38":{"start":{"line":76,"column":0},"end":{"line":76,"column":61}},"39":{"start":{"line":78,"column":0},"end":{"line":110,"column":2}},"40":{"start":{"line":79,"column":4},"end":{"line":87,"column":7}},"41":{"start":{"line":80,"column":8},"end":{"line":80,"column":39}},"42":{"start":{"line":81,"column":8},"end":{"line":86,"column":10}},"43":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"44":{"start":{"line":89,"column":8},"end":{"line":89,"column":45}},"45":{"start":{"line":91,"column":4},"end":{"line":109,"column":6}},"46":{"start":{"line":93,"column":8},"end":{"line":107,"column":9}},"47":{"start":{"line":94,"column":12},"end":{"line":94,"column":35}},"48":{"start":{"line":95,"column":12},"end":{"line":95,"column":33}},"49":{"start":{"line":96,"column":12},"end":{"line":96,"column":34}},"50":{"start":{"line":97,"column":12},"end":{"line":97,"column":30}},"51":{"start":{"line":98,"column":12},"end":{"line":98,"column":29}},"52":{"start":{"line":99,"column":12},"end":{"line":106,"column":13}},"53":{"start":{"line":103,"column":16},"end":{"line":103,"column":52}},"54":{"start":{"line":104,"column":16},"end":{"line":104,"column":45}},"55":{"start":{"line":105,"column":16},"end":{"line":105,"column":36}},"56":{"start":{"line":108,"column":8},"end":{"line":108,"column":38}},"57":{"start":{"line":113,"column":0},"end":{"line":119,"column":2}},"58":{"start":{"line":114,"column":4},"end":{"line":118,"column":6}},"59":{"start":{"line":115,"column":8},"end":{"line":117,"column":11}},"60":{"start":{"line":116,"column":12},"end":{"line":116,"column":32}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":17},"end":{"line":9,"column":52}},{"start":{"line":9,"column":56},"end":{"line":9,"column":59}}]},"2":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":33},"end":{"line":9,"column":39}},{"start":{"line":9,"column":43},"end":{"line":9,"column":51}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"5":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"6":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":25},"end":{"line":40,"column":55}},{"start":{"line":40,"column":59},"end":{"line":40,"column":62}}]},"7":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":28},"end":{"line":42,"column":41}},{"start":{"line":42,"column":45},"end":{"line":42,"column":47}}]},"8":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":12},"end":{"line":44,"column":12}},{"start":{"line":44,"column":12},"end":{"line":44,"column":12}}]},"9":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":20},"end":{"line":46,"column":20}},{"start":{"line":46,"column":20},"end":{"line":46,"column":20}}]},"10":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":24},"end":{"line":47,"column":40}},{"start":{"line":48,"column":24},"end":{"line":48,"column":32}},{"start":{"line":49,"column":24},"end":{"line":49,"column":47}},{"start":{"line":50,"column":24},"end":{"line":50,"column":40}}]},"11":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":20}},{"start":{"line":83,"column":24},"end":{"line":83,"column":27}}]},"12":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":20}},{"start":{"line":84,"column":24},"end":{"line":84,"column":27}}]},"13":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"14":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":99,"column":12}},{"start":{"line":99,"column":12},"end":{"line":99,"column":12}}]},"15":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":17},"end":{"line":100,"column":33}},{"start":{"line":100,"column":37},"end":{"line":100,"column":66}},{"start":{"line":101,"column":17},"end":{"line":101,"column":29}},{"start":{"line":101,"column":33},"end":{"line":101,"column":59}}]},"16":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":32},"end":{"line":103,"column":45}},{"start":{"line":103,"column":49},"end":{"line":103,"column":51}}]}},"code":["","var Q = require(\"q\");","var MimeParse = require(\"mimeparse\");","var Status = require(\"./status\");","","exports.negotiate = negotiate;","function negotiate(request, types, header) {","    var keys = Object.keys(types);","    var accept = request.headers[header || \"accept\"] || \"*\";","    var best = MimeParse.bestMatch(keys, accept);","    return types[best];","}","","/// branch on HTTP method","/**"," * @param {Object * App} methods"," * @param {App} notAllowed (optional)"," * @returns {App}"," */","exports.Method = function (methods, methodNotAllowed) {","    var keys = Object.keys(methods);","    if (!methodNotAllowed)","        methodNotAllowed = Status.methodNotAllowed;","    return function (request) {","        var method = request.method;","        if (Object.has(keys, method)) {","            return Object.get(methods, method)(request);","        } else {","            return methodNotAllowed(request);","        }","    };","};","","var Negotiator = function (requestHeader, responseHeader, respond) {","    return function (types, notAcceptable) {","        var keys = Object.keys(types);","        if (!notAcceptable)","            notAcceptable = Status.notAcceptable;","        return function (request) {","            var accept = request.headers[requestHeader] || \"*\";","            var type = MimeParse.bestMatch(keys, accept);","            request.terms = request.terms || {};","            request.terms[responseHeader] = type;","            if (Object.has(keys, type)) {","                return Q.when(types[type](request), function (response) {","                    if (","                        respond !== null &&","                        response &&","                        response.status === 200 &&","                        response.headers","                    ) {","                        response.headers[responseHeader] = type;","                    }","                    return response;","                });","            } else {","                return notAcceptable(request);","            }","        };","    };","};","","/// branch on HTTP content negotiation","/**"," * Routes based on content negotiation, between the request's `accept`"," * header and the application's list of possible content types."," *"," * @param {Object * App} types mapping content types to apps that can"," * handle them."," * @param {App} notAcceptable"," * @returns {App}"," */","exports.ContentType = Negotiator(\"accept\", \"content-type\");","exports.Language = Negotiator(\"accept-language\", \"language\");","exports.Charset = Negotiator(\"accept-charset\", \"charset\");","exports.Encoding = Negotiator(\"accept-encoding\", \"encoding\");","","exports.Host = function (appForHost, notAcceptable) {","    var table = Object.keys(appForHost).map(function (pattern) {","        var parts = pattern.split(\":\");","        return [","            pattern,","            parts[0] || \"*\",","            parts[1] || \"*\",","            appForHost[pattern]","        ];","    });","    if (!notAcceptable) {","        notAcceptable = Status.notAcceptable;","    }","    return function (request) {","        // find first matching host for app","        for (var index = 0; index < table.length; index++) {","            var row = table[index]; // [hostname, port, app]","            var pattern = row[0];","            var hostname = row[1];","            var port = row[2];","            var app = row[3];","            if (","                (hostname === \"*\" || hostname === request.hostname) &&","                (port === \"*\" || port === \"\" + request.port)","            ) {","                request.terms = request.terms || {};","                request.terms.host = pattern;","                return app(request);","            }","        }","        return notAcceptable(request);","    };","};","","// Branch on a selector function based on the request","exports.Select = function (select) {","    return function (request) {","        return Q.when(select(request), function (app) {","            return app(request);","        });","    };","};","",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"34":1,"35":4,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"52":0,"54":0,"57":0,"73":1,"74":1,"75":1,"76":1,"78":1,"79":0,"80":0,"81":0,"88":0,"89":0,"91":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"103":0,"104":0,"105":0,"108":0,"113":1,"114":0,"115":0,"116":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/status.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/status.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":46,"7":1,"8":0,"9":1,"10":4,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":1,"38":1,"39":1},"b":{"1":[0,0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":4,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":75,"loc":{"start":{"line":75,"column":33},"end":{"line":75,"column":51}}},"2":{"name":"(anonymous_2)","line":85,"loc":{"start":{"line":85,"column":23},"end":{"line":85,"column":41}}},"3":{"name":"(anonymous_3)","line":86,"loc":{"start":{"line":86,"column":11},"end":{"line":86,"column":30}}},"4":{"name":"(anonymous_4)","line":99,"loc":{"start":{"line":99,"column":28},"end":{"line":99,"column":64}}},"5":{"name":"(anonymous_5)","line":124,"loc":{"start":{"line":124,"column":32},"end":{"line":124,"column":78}}},"6":{"name":"(anonymous_6)","line":140,"loc":{"start":{"line":140,"column":32},"end":{"line":140,"column":78}}},"7":{"name":"(anonymous_7)","line":147,"loc":{"start":{"line":147,"column":21},"end":{"line":147,"column":38}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":11,"column":0},"end":{"line":58,"column":2}},"4":{"start":{"line":64,"column":0},"end":{"line":64,"column":28}},"5":{"start":{"line":65,"column":0},"end":{"line":66,"column":62}},"6":{"start":{"line":66,"column":4},"end":{"line":66,"column":62}},"7":{"start":{"line":75,"column":0},"end":{"line":78,"column":2}},"8":{"start":{"line":76,"column":4},"end":{"line":77,"column":39}},"9":{"start":{"line":85,"column":0},"end":{"line":89,"column":2}},"10":{"start":{"line":86,"column":4},"end":{"line":88,"column":6}},"11":{"start":{"line":87,"column":8},"end":{"line":87,"column":95}},"12":{"start":{"line":99,"column":0},"end":{"line":122,"column":2}},"13":{"start":{"line":100,"column":4},"end":{"line":101,"column":36}},"14":{"start":{"line":101,"column":8},"end":{"line":101,"column":36}},"15":{"start":{"line":103,"column":4},"end":{"line":103,"column":46}},"16":{"start":{"line":111,"column":4},"end":{"line":121,"column":5}},"17":{"start":{"line":112,"column":8},"end":{"line":112,"column":45}},"18":{"start":{"line":114,"column":8},"end":{"line":114,"column":26}},"19":{"start":{"line":115,"column":8},"end":{"line":115,"column":63}},"20":{"start":{"line":116,"column":8},"end":{"line":118,"column":9}},"21":{"start":{"line":117,"column":12},"end":{"line":117,"column":66}},"22":{"start":{"line":119,"column":8},"end":{"line":119,"column":106}},"23":{"start":{"line":120,"column":8},"end":{"line":120,"column":69}},"24":{"start":{"line":124,"column":0},"end":{"line":138,"column":2}},"25":{"start":{"line":125,"column":4},"end":{"line":125,"column":33}},"26":{"start":{"line":126,"column":4},"end":{"line":128,"column":5}},"27":{"start":{"line":127,"column":8},"end":{"line":127,"column":35}},"28":{"start":{"line":129,"column":4},"end":{"line":129,"column":39}},"29":{"start":{"line":130,"column":4},"end":{"line":137,"column":6}},"30":{"start":{"line":140,"column":0},"end":{"line":156,"column":2}},"31":{"start":{"line":141,"column":4},"end":{"line":155,"column":5}},"32":{"start":{"line":148,"column":16},"end":{"line":148,"column":73}},"33":{"start":{"line":149,"column":16},"end":{"line":149,"column":57}},"34":{"start":{"line":150,"column":16},"end":{"line":152,"column":17}},"35":{"start":{"line":151,"column":20},"end":{"line":151,"column":80}},"36":{"start":{"line":161,"column":0},"end":{"line":161,"column":47}},"37":{"start":{"line":165,"column":0},"end":{"line":165,"column":45}},"38":{"start":{"line":169,"column":0},"end":{"line":169,"column":53}},"39":{"start":{"line":173,"column":0},"end":{"line":174,"column":50}}},"branchMap":{"1":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":25}},{"start":{"line":76,"column":29},"end":{"line":76,"column":42}},{"start":{"line":77,"column":8},"end":{"line":77,"column":21}},{"start":{"line":77,"column":25},"end":{"line":77,"column":38}}]},"2":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"3":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":4},"end":{"line":111,"column":4}},{"start":{"line":111,"column":4},"end":{"line":111,"column":4}}]},"4":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":8}},{"start":{"line":116,"column":8},"end":{"line":116,"column":8}}]},"5":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":32},"end":{"line":119,"column":72}},{"start":{"line":119,"column":76},"end":{"line":119,"column":105}}]},"6":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]},"7":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":16},"end":{"line":150,"column":16}},{"start":{"line":150,"column":16},"end":{"line":150,"column":16}}]}},"code":["","var Negotiation = require(\"./negotiate\");","var HtmlApps = require(\"./html\");","","/**"," * {Object * String} a mapping of HTTP status codes to"," * their standard descriptions."," */","// Every standard HTTP code mapped to the appropriate message.","// Stolen from Rack which stole from Mongrel","exports.statusCodes = {","    100: 'Continue',","    101: 'Switching Protocols',","    102: 'Processing',","    200: 'OK',","    201: 'Created',","    202: 'Accepted',","    203: 'Non-Authoritative Information',","    204: 'No Content',","    205: 'Reset Content',","    206: 'Partial Content',","    207: 'Multi-Status',","    300: 'Multiple Choices',","    301: 'Moved Permanently',","    302: 'Found',","    303: 'See Other',","    304: 'Not Modified',","    305: 'Use Proxy',","    307: 'Temporary Redirect',","    400: 'Bad Request',","    401: 'Unauthorized',","    402: 'Payment Required',","    403: 'Forbidden',","    404: 'Not Found',","    405: 'Method Not Allowed',","    406: 'Not Acceptable',","    407: 'Proxy Authentication Required',","    408: 'Request Timeout',","    409: 'Conflict',","    410: 'Gone',","    411: 'Length Required',","    412: 'Precondition Failed',","    413: 'Request Entity Too Large',","    414: 'Request-URI Too Large',","    415: 'Unsupported Media Type',","    416: 'Request Range Not Satisfiable',","    417: 'Expectation Failed',","    422: 'Unprocessable Entity',","    423: 'Locked',","    424: 'Failed Dependency',","    500: 'Internal Server Error',","    501: 'Not Implemented',","    502: 'Bad Gateway',","    503: 'Service Unavailable',","    504: 'Gateway Timeout',","    505: 'HTTP Version Not Supported',","    507: 'Insufficient Storage'","};","","/**"," * {Object * Number} a mapping from HTTP status descriptions"," * to HTTP status codes."," */","exports.statusMessages = {};","for (var code in exports.statusCodes)","    exports.statusMessages[exports.statusCodes[code]] = +code;","","/**"," * Determines whether an HTTP response should have a"," * response body, based on its status code."," * @param {Number} status"," * @returns whether the HTTP response for the given status"," * code has content."," */","exports.statusWithNoEntityBody = function (status) {","    return (status >= 100 && status <= 199) ||","        status == 204 || status == 304;","};","","/**"," * @param {Number} status"," * @returns {Function(Request) :Response} a JSGI app that returns"," * a plain text response with the given status code."," */","exports.appForStatus = function (status) {","    return function (request) {","        return exports.responseForStatus(request, status, request.method + \" \" + request.path);","    };","};","","/**"," * @param {Number} status an HTTP status code"," * @param {String} message (optional) a message to include"," * in the response body."," * @returns a JSGI HTTP response object with the given status"," * code and message as its body, if the status supports"," * a body."," */","exports.responseForStatus = function(request, status, addendum) {","    if (exports.statusCodes[status] === undefined)","        throw \"Unknown status code\";","","    var message = exports.statusCodes[status];","","    // RFC 2616, 10.2.5:","    // The 204 response MUST NOT include a message-body, and thus is always","    // terminated by the first empty line after the header fields.","    // RFC 2616, 10.3.5:","    // The 304 response MUST NOT contain a message-body, and thus is always","    // terminated by the first empty line after the header fields.","    if (exports.statusWithNoEntityBody(status)) {","        return {status: status, headers: {}};","    } else {","        var handlers = {};","        handlers[\"text/plain\"] = exports.textResponseForStatus;","        if (request.handleHtmlFragmentResponse) {","            handlers[\"text/html\"] = exports.htmlResponseForStatus;","        }","        var responseForStatus = Negotiation.negotiate(request, handlers) || exports.textResponseForStatus;","        return responseForStatus(request, status, message, addendum);","    }","};","","exports.textResponseForStatus = function (request, status, message, addendum) {","    var content = message + \"\\n\";","    if (addendum) {","        content += addendum + \"\\n\";","    }","    var contentLength = content.length;","    return {","        status: status,","        statusMessage: message,","        headers: {","            \"content-length\": contentLength","        },","        body: [content]","    };","};","","exports.htmlResponseForStatus = function (request, status, message, addendum) {","    return {","        status: status,","        statusMessage: message,","        headers: {},","        htmlTitle: message,","        htmlFragment: {","            forEach: function (write) {","                write(\"<h1>\" + HtmlApps.escapeHtml(message) + \"</h1>\\n\");","                write(\"<p>Status: \" + status + \"</p>\\n\");","                if (addendum) {","                    write(\"<pre>\" + HtmlApps.escapeHtml(addendum) + \"</pre>\\n\");","                }","            }","        }","    }","};","","/**"," * {App} an application that returns a 400 response."," */","exports.badRequest = exports.appForStatus(400);","/**"," * {App} an application that returns a 404 response."," */","exports.notFound = exports.appForStatus(404);","/**"," * {App} an application that returns a 405 response."," */","exports.methodNotAllowed = exports.appForStatus(405);","/**"," * {App} an application that returns a 405 response."," */","exports.noLanguage =","exports.notAcceptable = exports.appForStatus(406);","",""],"l":{"2":1,"3":1,"11":1,"64":1,"65":1,"66":46,"75":1,"76":0,"85":1,"86":4,"87":0,"99":1,"100":0,"101":0,"103":0,"111":0,"112":0,"114":0,"115":0,"116":0,"117":0,"119":0,"120":0,"124":1,"125":0,"126":0,"127":0,"129":0,"130":0,"140":1,"141":0,"148":0,"149":0,"150":0,"151":0,"161":1,"165":1,"169":1,"173":1}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/html.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/html.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":11,"loc":{"start":{"line":11,"column":38},"end":{"line":11,"column":81}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":11},"end":{"line":13,"column":30}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":14},"end":{"line":16,"column":34}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":37},"end":{"line":26,"column":57}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":17},"end":{"line":31,"column":34}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":33},"end":{"line":40,"column":49}}},"7":{"name":"escapeHtml","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":11,"column":0},"end":{"line":24,"column":2}},"3":{"start":{"line":12,"column":4},"end":{"line":12,"column":98}},"4":{"start":{"line":13,"column":4},"end":{"line":23,"column":6}},"5":{"start":{"line":14,"column":8},"end":{"line":14,"column":72}},"6":{"start":{"line":15,"column":8},"end":{"line":22,"column":11}},"7":{"start":{"line":17,"column":12},"end":{"line":21,"column":13}},"8":{"start":{"line":18,"column":16},"end":{"line":18,"column":69}},"9":{"start":{"line":20,"column":16},"end":{"line":20,"column":32}},"10":{"start":{"line":26,"column":0},"end":{"line":48,"column":2}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":45}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":33}},"13":{"start":{"line":29,"column":4},"end":{"line":29,"column":66}},"14":{"start":{"line":30,"column":4},"end":{"line":46,"column":6}},"15":{"start":{"line":32,"column":12},"end":{"line":32,"column":39}},"16":{"start":{"line":33,"column":12},"end":{"line":33,"column":30}},"17":{"start":{"line":34,"column":12},"end":{"line":34,"column":34}},"18":{"start":{"line":35,"column":12},"end":{"line":37,"column":13}},"19":{"start":{"line":36,"column":16},"end":{"line":36,"column":89}},"20":{"start":{"line":38,"column":12},"end":{"line":38,"column":35}},"21":{"start":{"line":39,"column":12},"end":{"line":39,"column":34}},"22":{"start":{"line":40,"column":12},"end":{"line":42,"column":15}},"23":{"start":{"line":41,"column":16},"end":{"line":41,"column":41}},"24":{"start":{"line":43,"column":12},"end":{"line":43,"column":35}},"25":{"start":{"line":44,"column":12},"end":{"line":44,"column":31}},"26":{"start":{"line":47,"column":4},"end":{"line":47,"column":20}},"27":{"start":{"line":50,"column":0},"end":{"line":50,"column":32}},"28":{"start":{"line":51,"column":0},"end":{"line":57,"column":1}},"29":{"start":{"line":52,"column":4},"end":{"line":56,"column":32}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":33},"end":{"line":12,"column":59}},{"start":{"line":12,"column":63},"end":{"line":12,"column":97}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":17,"column":12}},{"start":{"line":17,"column":12},"end":{"line":17,"column":12}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":12}},{"start":{"line":35,"column":12},"end":{"line":35,"column":12}}]}},"code":["","var Q = require(\"q\");","// TODO negotiate text/html vs text/html+fragment (or other mime type)","","/**"," * @param {Request} request"," * @param {String} path"," * @param {String} contentType"," * @returns {Response}"," */","exports.HandleHtmlFragmentResponses = function (app, handleHtmlFragmentResponse) {","    handleHtmlFragmentResponse = handleHtmlFragmentResponse || exports.handleHtmlFragmentResponse;","    return function (request) {","        request.handleHtmlFragmentResponse = handleHtmlFragmentResponse;","        return Q.fcall(app, request)","        .then(function (response) {","            if (response.htmlFragment) {","                return Q.fcall(handleHtmlFragmentResponse, response);","            } else {","                return response;","            }","        });","    };","};","","exports.handleHtmlFragmentResponse = function (response) {","    var htmlFragment = response.htmlFragment;","    delete response.htmlFragment;","    response.headers[\"content-type\"] = \"text/html; charset=utf-8\";","    response.body = {","        forEach: function (write) {","            write(\"<!doctype html>\\n\");","            write(\"<html>\\n\");","            write(\"    <head>\\n\");","            if (response.htmlTitle !== void 0) {","                write(\"        <title>\" + escapeHtml(response.htmlTitle) + \"</title>\\n\");","            }","            write(\"    </head>\\n\");","            write(\"    <body>\\n\");","            htmlFragment.forEach(function (line) {","                write(\"        \" + line);","            });","            write(\"    </body>\\n\");","            write(\"</html>\\n\");","        }","    };","    return response;","};","","exports.escapeHtml = escapeHtml;","function escapeHtml(text) {","    return String(text)","        .replace(/&/g, \"&amp;\")","        .replace(/</g, \"&lt;\")","        .replace(/>/g, \"&gt;\")","        .replace(/\"/g, \"&quot;\")","}","",""],"l":{"2":1,"11":1,"12":0,"13":0,"14":0,"15":0,"17":0,"18":0,"20":0,"26":1,"27":0,"28":0,"29":0,"30":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"43":0,"44":0,"47":0,"50":1,"51":1,"52":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/cookie.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/cookie.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":1,"56":1,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":1,"94":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":20},"end":{"line":6,"column":35}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":30}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":33}}},"4":{"name":"(anonymous_4)","line":41,"loc":{"start":{"line":41,"column":25},"end":{"line":41,"column":41}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":33},"end":{"line":47,"column":49}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":36},"end":{"line":50,"column":54}}},"7":{"name":"(anonymous_7)","line":64,"loc":{"start":{"line":64,"column":21},"end":{"line":64,"column":39}}},"8":{"name":"(anonymous_8)","line":74,"loc":{"start":{"line":74,"column":50},"end":{"line":74,"column":70}}},"9":{"name":"(anonymous_9)","line":85,"loc":{"start":{"line":85,"column":55},"end":{"line":85,"column":73}}},"10":{"name":"splitHost","line":111,"loc":{"start":{"line":111,"column":0},"end":{"line":111,"column":25}}},"11":{"name":"allHostsContaining","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":34}}},"12":{"name":"hostContains","line":139,"loc":{"start":{"line":139,"column":0},"end":{"line":139,"column":50}}},"13":{"name":"pathContains","line":163,"loc":{"start":{"line":163,"column":0},"end":{"line":163,"column":42}}},"14":{"name":"concat","line":174,"loc":{"start":{"line":174,"column":0},"end":{"line":174,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"4":{"start":{"line":6,"column":0},"end":{"line":106,"column":2}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":25}},"6":{"start":{"line":8,"column":4},"end":{"line":105,"column":6}},"7":{"start":{"line":10,"column":8},"end":{"line":12,"column":9}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":64}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":61}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":29}},"11":{"start":{"line":18,"column":8},"end":{"line":29,"column":9}},"12":{"start":{"line":19,"column":12},"end":{"line":19,"column":48}},"13":{"start":{"line":20,"column":12},"end":{"line":28,"column":13}},"14":{"start":{"line":21,"column":16},"end":{"line":21,"column":48}},"15":{"start":{"line":22,"column":16},"end":{"line":27,"column":17}},"16":{"start":{"line":23,"column":20},"end":{"line":23,"column":47}},"17":{"start":{"line":24,"column":20},"end":{"line":26,"column":21}},"18":{"start":{"line":25,"column":24},"end":{"line":25,"column":44}},"19":{"start":{"line":32,"column":8},"end":{"line":59,"column":10}},"20":{"start":{"line":35,"column":16},"end":{"line":37,"column":17}},"21":{"start":{"line":36,"column":20},"end":{"line":36,"column":30}},"22":{"start":{"line":38,"column":16},"end":{"line":38,"column":52}},"23":{"start":{"line":39,"column":16},"end":{"line":57,"column":17}},"24":{"start":{"line":42,"column":24},"end":{"line":43,"column":38}},"25":{"start":{"line":43,"column":28},"end":{"line":43,"column":38}},"26":{"start":{"line":44,"column":24},"end":{"line":44,"column":56}},"27":{"start":{"line":45,"column":24},"end":{"line":55,"column":26}},"28":{"start":{"line":48,"column":32},"end":{"line":48,"column":53}},"29":{"start":{"line":51,"column":32},"end":{"line":53,"column":41}},"30":{"start":{"line":61,"column":8},"end":{"line":72,"column":9}},"31":{"start":{"line":62,"column":12},"end":{"line":71,"column":14}},"32":{"start":{"line":65,"column":20},"end":{"line":68,"column":22}},"33":{"start":{"line":74,"column":8},"end":{"line":103,"column":11}},"34":{"start":{"line":75,"column":12},"end":{"line":75,"column":54}},"35":{"start":{"line":76,"column":12},"end":{"line":100,"column":13}},"36":{"start":{"line":77,"column":16},"end":{"line":77,"column":48}},"37":{"start":{"line":78,"column":16},"end":{"line":78,"column":48}},"38":{"start":{"line":79,"column":16},"end":{"line":79,"column":44}},"39":{"start":{"line":80,"column":16},"end":{"line":80,"column":74}},"40":{"start":{"line":82,"column":16},"end":{"line":84,"column":17}},"41":{"start":{"line":83,"column":20},"end":{"line":83,"column":86}},"42":{"start":{"line":85,"column":16},"end":{"line":98,"column":18}},"43":{"start":{"line":86,"column":20},"end":{"line":88,"column":35}},"44":{"start":{"line":89,"column":20},"end":{"line":89,"column":56}},"45":{"start":{"line":91,"column":20},"end":{"line":92,"column":43}},"46":{"start":{"line":92,"column":24},"end":{"line":92,"column":43}},"47":{"start":{"line":93,"column":20},"end":{"line":93,"column":58}},"48":{"start":{"line":94,"column":20},"end":{"line":94,"column":50}},"49":{"start":{"line":95,"column":20},"end":{"line":95,"column":82}},"50":{"start":{"line":96,"column":20},"end":{"line":96,"column":78}},"51":{"start":{"line":97,"column":20},"end":{"line":97,"column":49}},"52":{"start":{"line":99,"column":16},"end":{"line":99,"column":54}},"53":{"start":{"line":102,"column":12},"end":{"line":102,"column":28}},"54":{"start":{"line":108,"column":0},"end":{"line":108,"column":34}},"55":{"start":{"line":109,"column":0},"end":{"line":109,"column":28}},"56":{"start":{"line":111,"column":0},"end":{"line":118,"column":1}},"57":{"start":{"line":112,"column":4},"end":{"line":112,"column":34}},"58":{"start":{"line":113,"column":4},"end":{"line":117,"column":5}},"59":{"start":{"line":114,"column":8},"end":{"line":114,"column":36}},"60":{"start":{"line":116,"column":8},"end":{"line":116,"column":26}},"61":{"start":{"line":120,"column":0},"end":{"line":137,"column":1}},"62":{"start":{"line":121,"column":4},"end":{"line":121,"column":32}},"63":{"start":{"line":122,"column":4},"end":{"line":122,"column":28}},"64":{"start":{"line":123,"column":4},"end":{"line":123,"column":24}},"65":{"start":{"line":124,"column":4},"end":{"line":126,"column":5}},"66":{"start":{"line":125,"column":8},"end":{"line":125,"column":33}},"67":{"start":{"line":126,"column":6},"end":{"line":136,"column":5}},"68":{"start":{"line":127,"column":8},"end":{"line":127,"column":33}},"69":{"start":{"line":129,"column":8},"end":{"line":129,"column":40}},"70":{"start":{"line":130,"column":8},"end":{"line":130,"column":23}},"71":{"start":{"line":131,"column":8},"end":{"line":134,"column":9}},"72":{"start":{"line":132,"column":12},"end":{"line":132,"column":53}},"73":{"start":{"line":133,"column":12},"end":{"line":133,"column":26}},"74":{"start":{"line":135,"column":8},"end":{"line":135,"column":21}},"75":{"start":{"line":139,"column":0},"end":{"line":161,"column":1}},"76":{"start":{"line":140,"column":4},"end":{"line":140,"column":50}},"77":{"start":{"line":141,"column":4},"end":{"line":141,"column":46}},"78":{"start":{"line":142,"column":4},"end":{"line":142,"column":42}},"79":{"start":{"line":143,"column":4},"end":{"line":143,"column":46}},"80":{"start":{"line":144,"column":4},"end":{"line":144,"column":42}},"81":{"start":{"line":145,"column":4},"end":{"line":145,"column":38}},"82":{"start":{"line":146,"column":4},"end":{"line":148,"column":5}},"83":{"start":{"line":147,"column":8},"end":{"line":147,"column":21}},"84":{"start":{"line":149,"column":4},"end":{"line":160,"column":5}},"85":{"start":{"line":150,"column":8},"end":{"line":150,"column":53}},"86":{"start":{"line":151,"column":11},"end":{"line":160,"column":5}},"87":{"start":{"line":152,"column":8},"end":{"line":157,"column":10}},"88":{"start":{"line":159,"column":8},"end":{"line":159,"column":53}},"89":{"start":{"line":163,"column":0},"end":{"line":172,"column":1}},"90":{"start":{"line":164,"column":4},"end":{"line":171,"column":5}},"91":{"start":{"line":165,"column":8},"end":{"line":165,"column":48}},"92":{"start":{"line":167,"column":8},"end":{"line":170,"column":10}},"93":{"start":{"line":174,"column":0},"end":{"line":176,"column":1}},"94":{"start":{"line":175,"column":4},"end":{"line":175,"column":39}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":8},"end":{"line":10,"column":8}},{"start":{"line":10,"column":8},"end":{"line":10,"column":8}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":20},"end":{"line":24,"column":20}},{"start":{"line":24,"column":20},"end":{"line":24,"column":20}}]},"3":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":24},"end":{"line":24,"column":38}},{"start":{"line":24,"column":42},"end":{"line":24,"column":62}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":16}},{"start":{"line":35,"column":16},"end":{"line":35,"column":16}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":24},"end":{"line":42,"column":24}},{"start":{"line":42,"column":24},"end":{"line":42,"column":24}}]},"6":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":36},"end":{"line":52,"column":47}},{"start":{"line":53,"column":36},"end":{"line":53,"column":40}}]},"7":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":8},"end":{"line":61,"column":8}},{"start":{"line":61,"column":8},"end":{"line":61,"column":8}}]},"8":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":31},"end":{"line":75,"column":47}},{"start":{"line":75,"column":51},"end":{"line":75,"column":53}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"10":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":56},"end":{"line":80,"column":60}},{"start":{"line":80,"column":63},"end":{"line":80,"column":73}}]},"11":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":16},"end":{"line":82,"column":16}},{"start":{"line":82,"column":16},"end":{"line":82,"column":16}}]},"12":{"line":86,"type":"cond-expr","locations":[{"start":{"line":87,"column":24},"end":{"line":87,"column":58}},{"start":{"line":88,"column":24},"end":{"line":88,"column":34}}]},"13":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":20},"end":{"line":91,"column":20}},{"start":{"line":91,"column":20},"end":{"line":91,"column":20}}]},"14":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":24},"end":{"line":91,"column":35}},{"start":{"line":91,"column":39},"end":{"line":91,"column":78}}]},"15":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":31},"end":{"line":93,"column":42}},{"start":{"line":93,"column":46},"end":{"line":93,"column":57}}]},"16":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":31},"end":{"line":94,"column":42}},{"start":{"line":94,"column":46},"end":{"line":94,"column":49}}]},"17":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":58},"end":{"line":95,"column":75}},{"start":{"line":95,"column":79},"end":{"line":95,"column":81}}]},"18":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":54},"end":{"line":96,"column":71}},{"start":{"line":96,"column":75},"end":{"line":96,"column":77}}]},"19":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"20":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"21":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":6},"end":{"line":126,"column":6}},{"start":{"line":126,"column":6},"end":{"line":126,"column":6}}]},"22":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":4},"end":{"line":146,"column":4}},{"start":{"line":146,"column":4},"end":{"line":146,"column":4}}]},"23":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":4},"end":{"line":149,"column":4}},{"start":{"line":149,"column":4},"end":{"line":149,"column":4}}]},"24":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":36}},{"start":{"line":149,"column":40},"end":{"line":149,"column":66}}]},"25":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":11},"end":{"line":151,"column":11}},{"start":{"line":151,"column":11},"end":{"line":151,"column":11}}]},"26":{"line":152,"type":"binary-expr","locations":[{"start":{"line":153,"column":12},"end":{"line":154,"column":61}},{"start":{"line":156,"column":12},"end":{"line":156,"column":58}}]},"27":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":4}},{"start":{"line":164,"column":4},"end":{"line":164,"column":4}}]},"28":{"line":168,"type":"binary-expr","locations":[{"start":{"line":168,"column":12},"end":{"line":168,"column":33}},{"start":{"line":169,"column":12},"end":{"line":169,"column":50}}]}},"code":["","var Q = require(\"q\");","var Cookie = require(\"../http-cookie\");","Q.longStackSupport = true;","","exports.CookieJar = function (app) {","    var hostCookies = {}; // to {} of pathCookies to [] of cookies","    return function (request) {","","        if (!request.headers.host) {","            throw new Error(\"Requests must have a host header\");","        }","        var hosts = allHostsContaining(request.headers.host);","","        var now = new Date();","","        // delete expired cookies","        for (var host in hostCookies) {","            var pathCookies = hostCookies[host];","            for (var path in pathCookies) {","                var cookies = pathCookies[path];","                for (var name in cookies) {","                    var cookie = cookies[name];","                    if (cookie.expires && cookie.expires > now) {","                        delete cookie[name];","                    }","                }","            }","        }","","        // collect applicable cookies","        var requestCookies = concat(","            Object.keys(hostCookies)","            .map(function (host) {","                if (!hostContains(host, request.headers.host)) {","                    return [];","                }","                var pathCookies = hostCookies[host];","                return concat(","                    Object.keys(pathCookies)","                    .map(function (path) {","                        if (!pathContains(path, request.path))","                            return [];","                        var cookies = pathCookies[path];","                        return (","                            Object.keys(cookies)","                            .map(function (name) {","                                return cookies[name];","                            })","                            .filter(function (cookie) {","                                return cookie.secure ?","                                    request.ssl :","                                    true;","                            })","                        );","                    })","                )","            })","        );","","        if (requestCookies.length) {","            request.headers[\"cookie\"] = (","                requestCookies","                .map(function (cookie) {","                    return Cookie.stringify(","                        cookie.key,","                        cookie.value","                    );","                })","                .join(\"; \")","            );","        }","","        return Q.when(app.apply(this, arguments), function (response) {","            response.headers = response.headers || {};","            if (response.headers[\"set-cookie\"]) {","                var host = request.headers.host;","                var hostParts = splitHost(host);","                var hostname = hostParts[0];","                var requestHost = ipRe.test(hostname) ? host : \".\" + host;","                // normalize to array","                if (!Array.isArray(response.headers[\"set-cookie\"])) {","                    response.headers[\"set-cookie\"] = [response.headers[\"set-cookie\"]];","                }","                response.headers[\"set-cookie\"].forEach(function (cookie) {","                    var date = response.headers[\"date\"] ?","                        new Date(response.headers[\"date\"]) :","                        new Date();","                    cookie = Cookie.parse(cookie, date);","                    // ignore illegal host","                    if (cookie.host && !hostContains(requestHost, cookie.host))","                        delete cookie.host;","                    var host = requestHost || cookie.host;","                    var path = cookie.path || \"/\";","                    var pathCookies = hostCookies[host] = hostCookies[host] || {};","                    var cookies = pathCookies[path] = pathCookies[path] || {};","                    cookies[cookie.key] = cookie;","                })","                delete response.headers[\"set-cookie\"];","            }","","            return response;","        });","","    };","};","","var ipRe = /^\\d+\\.\\d+\\.\\d+\\.\\d+$/;","var portRe = /^(.*)(:\\d+)$/;","","function splitHost(host) {","    var match = portRe.exec(host);","    if (match) {","        return [match[1], match[2]];","    } else {","        return [host, \"\"];","    }","}","","function allHostsContaining(host) {","    var parts = splitHost(host);","    var hostname = parts[0];","    var port = parts[1];","    if (ipRe.test(hostname)) {","        return [hostname + port];","    } if (hostname === \"localhost\") {","        return [hostname + port];","    } else {","        var parts = hostname.split(\".\");","        var hosts = [];","        while (parts.length > 1) {","            hosts.push(\".\" + parts.join(\".\") + port);","            parts.shift();","        }","        return hosts;","    }","}","","function hostContains(containerHost, contentHost) {","    var containerParts = splitHost(containerHost);","    var containerHostname = containerParts[0];","    var containerPort = containerParts[1];","    var contentParts = splitHost(contentHost);","    var contentHostname = contentParts[0];","    var contentPort = contentParts[1];","    if (containerPort !== contentPort) {","        return false;","    }","    if (ipRe.test(containerHostname) || ipRe.test(contentHostname)) {","        return containerHostname === contentHostname;","    } else if (/^\\./.test(containerHostname)) {","        return (","            contentHostname.lastIndexOf(containerHostname) ===","            contentHostname.length - containerHostname.length","        ) || (","            containerHostname.slice(1) === contentHostname","        );","    } else {","        return containerHostname === contentHostname;","    }","};","","function pathContains(container, content) {","    if (/^\\/$/.test(container)) {","        return content.indexOf(container) === 0;","    } else {","        return (","            content === container ||","            content.indexOf(container + \"/\") === 0","        );","    }","}","","function concat(arrays) {","    return [].concat.apply([], arrays);","}","",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"10":0,"11":0,"13":0,"15":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"32":0,"35":0,"36":0,"38":0,"39":0,"42":0,"43":0,"44":0,"45":0,"48":0,"51":0,"61":0,"62":0,"65":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"83":0,"85":0,"86":0,"89":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"99":0,"102":0,"108":1,"109":1,"111":1,"112":0,"113":0,"114":0,"116":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"131":0,"132":0,"133":0,"135":0,"139":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"149":0,"150":0,"151":0,"152":0,"159":0,"163":1,"164":0,"165":0,"167":0,"174":1,"175":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-cookie.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-cookie.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":16},"end":{"line":15,"column":40}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":34}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":40},"end":{"line":23,"column":56}}},"4":{"name":"(anonymous_4)","line":56,"loc":{"start":{"line":56,"column":20},"end":{"line":56,"column":51}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":9,"column":23}},"2":{"start":{"line":15,"column":0},"end":{"line":48,"column":2}},"3":{"start":{"line":16,"column":4},"end":{"line":16,"column":30}},"4":{"start":{"line":17,"column":4},"end":{"line":17,"column":20}},"5":{"start":{"line":18,"column":4},"end":{"line":18,"column":38}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":44}},"7":{"start":{"line":20,"column":4},"end":{"line":20,"column":49}},"8":{"start":{"line":21,"column":4},"end":{"line":21,"column":51}},"9":{"start":{"line":22,"column":4},"end":{"line":46,"column":7}},"10":{"start":{"line":23,"column":8},"end":{"line":25,"column":11}},"11":{"start":{"line":24,"column":12},"end":{"line":24,"column":31}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":45}},"13":{"start":{"line":27,"column":8},"end":{"line":45,"column":9}},"14":{"start":{"line":28,"column":12},"end":{"line":28,"column":34}},"15":{"start":{"line":29,"column":15},"end":{"line":45,"column":9}},"16":{"start":{"line":30,"column":12},"end":{"line":30,"column":32}},"17":{"start":{"line":31,"column":15},"end":{"line":45,"column":9}},"18":{"start":{"line":32,"column":12},"end":{"line":35,"column":14}},"19":{"start":{"line":36,"column":15},"end":{"line":45,"column":9}},"20":{"start":{"line":37,"column":12},"end":{"line":40,"column":14}},"21":{"start":{"line":41,"column":15},"end":{"line":45,"column":9}},"22":{"start":{"line":42,"column":12},"end":{"line":42,"column":33}},"23":{"start":{"line":43,"column":15},"end":{"line":45,"column":9}},"24":{"start":{"line":44,"column":12},"end":{"line":44,"column":35}},"25":{"start":{"line":47,"column":4},"end":{"line":47,"column":18}},"26":{"start":{"line":56,"column":0},"end":{"line":74,"column":2}},"27":{"start":{"line":57,"column":4},"end":{"line":60,"column":6}},"28":{"start":{"line":61,"column":4},"end":{"line":72,"column":5}},"29":{"start":{"line":62,"column":8},"end":{"line":63,"column":71}},"30":{"start":{"line":63,"column":12},"end":{"line":63,"column":71}},"31":{"start":{"line":64,"column":8},"end":{"line":65,"column":67}},"32":{"start":{"line":65,"column":12},"end":{"line":65,"column":67}},"33":{"start":{"line":66,"column":8},"end":{"line":67,"column":67}},"34":{"start":{"line":67,"column":12},"end":{"line":67,"column":67}},"35":{"start":{"line":68,"column":8},"end":{"line":69,"column":33}},"36":{"start":{"line":69,"column":12},"end":{"line":69,"column":33}},"37":{"start":{"line":70,"column":8},"end":{"line":71,"column":35}},"38":{"start":{"line":71,"column":12},"end":{"line":71,"column":35}},"39":{"start":{"line":73,"column":4},"end":{"line":73,"column":18}}},"branchMap":{"1":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":11},"end":{"line":16,"column":15}},{"start":{"line":16,"column":19},"end":{"line":16,"column":29}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":15},"end":{"line":29,"column":15}},{"start":{"line":29,"column":15},"end":{"line":29,"column":15}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":15},"end":{"line":31,"column":15}},{"start":{"line":31,"column":15},"end":{"line":31,"column":15}}]},"5":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":15},"end":{"line":36,"column":15}},{"start":{"line":36,"column":15},"end":{"line":36,"column":15}}]},"6":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":15},"end":{"line":41,"column":15}},{"start":{"line":41,"column":15},"end":{"line":41,"column":15}}]},"7":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":15},"end":{"line":43,"column":15}},{"start":{"line":43,"column":15},"end":{"line":43,"column":15}}]},"8":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"9":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":8},"end":{"line":62,"column":8}},{"start":{"line":62,"column":8},"end":{"line":62,"column":8}}]},"10":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"11":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"12":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]},"13":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":8},"end":{"line":70,"column":8}},{"start":{"line":70,"column":8},"end":{"line":70,"column":8}}]}},"code":["","/**"," * Provides utilities for reading and writing HTTP cookies."," * @module"," */","","/*whatsupdoc*/","","var QS = require(\"qs\");","","/**"," * @param {String} cookie"," * @returns {Object}"," */","exports.parse = function (cookie, date) {","    date = date || new Date();","    var parsed = {};","    var terms = cookie.split(/[;,]/g);","    var keyValue = terms.shift().split(\"=\");","    parsed.key = decodeURIComponent(keyValue[0]);","    parsed.value = decodeURIComponent(keyValue[1]);","    terms.forEach(function (term) {","        var parts = term.split(\"=\").map(function (part) {","            return part.trim();","        });","        var key = parts[0], value = parts[1];","        if (/^domain$/i.test(key)) {","            parsed.domain = value;","        } else if (/^path$/i.test(key)) {","            parsed.path = value;","        } else if (/^expires$/i.test(key)) {","            parsed.expires = new Date(","                +new Date() + // actual now","                (new Date(value) - date) // server offset","            );","        } else if (/^max-age$/i.test(key)) {","            parsed.expires = new Date(","                new Date().getTime() +","                (value * 1000)","            );","        } else if (/^secure$/i.test(key)) {","            parsed.secure = true;","        } else if (/^httponly$/i.test(key)) {","            parsed.httpOnly = true;","        }","    });","    return parsed;","};","","/**"," * @param {String} key"," * @param {String} value"," * @param {Object} options (optional)"," * @returns {String} a cookie string"," */","exports.stringify = function (key, value, options) {","    var cookie = (","        encodeURIComponent(key) + \"=\" +","        encodeURIComponent(value)","    );","    if (options) {","        if (options.domain)","            cookie += \"; Domain=\" + encodeURIComponent(options.domain);","        if (options.path)","            cookie += \"; Path=\" + encodeURIComponent(options.path);","        if (options.expires)","            cookie += \"; Expires=\" + options.expires.toGMTString();","        if (options.secure)","            cookie += \"; Secure\";","        if (options.httpOnly)","            cookie += \"; HttpOnly\";","    }","    return cookie;","};","",""],"l":{"9":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"36":0,"37":0,"41":0,"42":0,"43":0,"44":0,"47":0,"56":1,"57":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/decorators.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/decorators.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":35}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":11},"end":{"line":8,"column":40}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":46},"end":{"line":10,"column":66}}},"4":{"name":"(anonymous_4)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":39}}},"5":{"name":"(anonymous_5)","line":17,"loc":{"start":{"line":17,"column":25},"end":{"line":17,"column":37}}},"6":{"name":"(anonymous_6)","line":20,"loc":{"start":{"line":20,"column":31},"end":{"line":20,"column":60}}},"7":{"name":"(anonymous_7)","line":32,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":38}}},"8":{"name":"(anonymous_8)","line":33,"loc":{"start":{"line":33,"column":11},"end":{"line":33,"column":40}}},"9":{"name":"(anonymous_9)","line":34,"loc":{"start":{"line":34,"column":52},"end":{"line":34,"column":69}}},"10":{"name":"(anonymous_10)","line":42,"loc":{"start":{"line":42,"column":16},"end":{"line":42,"column":31}}},"11":{"name":"(anonymous_11)","line":53,"loc":{"start":{"line":53,"column":14},"end":{"line":53,"column":41}}},"12":{"name":"(anonymous_12)","line":55,"loc":{"start":{"line":55,"column":21},"end":{"line":55,"column":40}}},"13":{"name":"(anonymous_13)","line":58,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":40}}},"14":{"name":"(anonymous_14)","line":71,"loc":{"start":{"line":71,"column":46},"end":{"line":71,"column":66}}},"15":{"name":"(anonymous_15)","line":89,"loc":{"start":{"line":89,"column":11},"end":{"line":89,"column":29}}},"16":{"name":"(anonymous_16)","line":110,"loc":{"start":{"line":110,"column":15},"end":{"line":110,"column":30}}},"17":{"name":"(anonymous_17)","line":111,"loc":{"start":{"line":111,"column":11},"end":{"line":111,"column":40}}},"18":{"name":"(anonymous_18)","line":113,"loc":{"start":{"line":113,"column":46},"end":{"line":113,"column":66}}},"19":{"name":"(anonymous_19)","line":131,"loc":{"start":{"line":131,"column":18},"end":{"line":131,"column":42}}},"20":{"name":"(anonymous_20)","line":132,"loc":{"start":{"line":132,"column":11},"end":{"line":132,"column":40}}},"21":{"name":"(anonymous_21)","line":133,"loc":{"start":{"line":133,"column":46},"end":{"line":133,"column":66}}},"22":{"name":"(anonymous_22)","line":135,"loc":{"start":{"line":135,"column":45},"end":{"line":135,"column":60}}},"23":{"name":"(anonymous_23)","line":153,"loc":{"start":{"line":153,"column":20},"end":{"line":153,"column":43}}},"24":{"name":"(anonymous_24)","line":154,"loc":{"start":{"line":154,"column":23},"end":{"line":154,"column":35}}},"25":{"name":"(anonymous_25)","line":157,"loc":{"start":{"line":157,"column":29},"end":{"line":157,"column":58}}},"26":{"name":"(anonymous_26)","line":160,"loc":{"start":{"line":160,"column":30},"end":{"line":160,"column":59}}},"27":{"name":"(anonymous_27)","line":172,"loc":{"start":{"line":172,"column":21},"end":{"line":172,"column":48}}},"28":{"name":"(anonymous_28)","line":173,"loc":{"start":{"line":173,"column":34},"end":{"line":173,"column":56}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"5":{"start":{"line":7,"column":0},"end":{"line":14,"column":2}},"6":{"start":{"line":8,"column":4},"end":{"line":13,"column":6}},"7":{"start":{"line":9,"column":8},"end":{"line":9,"column":53}},"8":{"start":{"line":10,"column":8},"end":{"line":12,"column":11}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":52}},"10":{"start":{"line":16,"column":0},"end":{"line":23,"column":2}},"11":{"start":{"line":17,"column":4},"end":{"line":19,"column":6}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":26}},"13":{"start":{"line":20,"column":4},"end":{"line":22,"column":7}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":50}},"15":{"start":{"line":32,"column":0},"end":{"line":40,"column":2}},"16":{"start":{"line":33,"column":4},"end":{"line":39,"column":6}},"17":{"start":{"line":34,"column":8},"end":{"line":38,"column":11}},"18":{"start":{"line":35,"column":12},"end":{"line":36,"column":34}},"19":{"start":{"line":36,"column":16},"end":{"line":36,"column":34}},"20":{"start":{"line":37,"column":12},"end":{"line":37,"column":93}},"21":{"start":{"line":42,"column":0},"end":{"line":44,"column":2}},"22":{"start":{"line":43,"column":4},"end":{"line":43,"column":36}},"23":{"start":{"line":53,"column":0},"end":{"line":99,"column":2}},"24":{"start":{"line":54,"column":4},"end":{"line":54,"column":29}},"25":{"start":{"line":55,"column":4},"end":{"line":57,"column":6}},"26":{"start":{"line":56,"column":8},"end":{"line":56,"column":56}},"27":{"start":{"line":58,"column":4},"end":{"line":98,"column":6}},"28":{"start":{"line":59,"column":8},"end":{"line":61,"column":31}},"29":{"start":{"line":62,"column":8},"end":{"line":65,"column":48}},"30":{"start":{"line":66,"column":8},"end":{"line":70,"column":11}},"31":{"start":{"line":71,"column":8},"end":{"line":97,"column":11}},"32":{"start":{"line":72,"column":12},"end":{"line":87,"column":13}},"33":{"start":{"line":73,"column":16},"end":{"line":79,"column":19}},"34":{"start":{"line":81,"column":16},"end":{"line":86,"column":19}},"35":{"start":{"line":88,"column":12},"end":{"line":88,"column":28}},"36":{"start":{"line":90,"column":12},"end":{"line":95,"column":15}},"37":{"start":{"line":96,"column":12},"end":{"line":96,"column":36}},"38":{"start":{"line":110,"column":0},"end":{"line":121,"column":2}},"39":{"start":{"line":111,"column":4},"end":{"line":120,"column":6}},"40":{"start":{"line":112,"column":8},"end":{"line":112,"column":31}},"41":{"start":{"line":113,"column":8},"end":{"line":119,"column":11}},"42":{"start":{"line":114,"column":12},"end":{"line":114,"column":34}},"43":{"start":{"line":115,"column":12},"end":{"line":117,"column":13}},"44":{"start":{"line":116,"column":16},"end":{"line":116,"column":74}},"45":{"start":{"line":118,"column":12},"end":{"line":118,"column":28}},"46":{"start":{"line":131,"column":0},"end":{"line":144,"column":2}},"47":{"start":{"line":132,"column":4},"end":{"line":143,"column":6}},"48":{"start":{"line":133,"column":8},"end":{"line":142,"column":11}},"49":{"start":{"line":134,"column":12},"end":{"line":140,"column":13}},"50":{"start":{"line":135,"column":16},"end":{"line":139,"column":19}},"51":{"start":{"line":136,"column":20},"end":{"line":138,"column":21}},"52":{"start":{"line":137,"column":24},"end":{"line":137,"column":61}},"53":{"start":{"line":141,"column":12},"end":{"line":141,"column":28}},"54":{"start":{"line":146,"column":0},"end":{"line":152,"column":7}},"55":{"start":{"line":153,"column":0},"end":{"line":164,"column":2}},"56":{"start":{"line":154,"column":4},"end":{"line":156,"column":6}},"57":{"start":{"line":155,"column":8},"end":{"line":155,"column":58}},"58":{"start":{"line":157,"column":4},"end":{"line":159,"column":7}},"59":{"start":{"line":158,"column":8},"end":{"line":158,"column":35}},"60":{"start":{"line":160,"column":4},"end":{"line":162,"column":7}},"61":{"start":{"line":161,"column":8},"end":{"line":161,"column":52}},"62":{"start":{"line":163,"column":4},"end":{"line":163,"column":15}},"63":{"start":{"line":172,"column":0},"end":{"line":177,"column":2}},"64":{"start":{"line":173,"column":4},"end":{"line":175,"column":7}},"65":{"start":{"line":174,"column":8},"end":{"line":174,"column":30}},"66":{"start":{"line":176,"column":4},"end":{"line":176,"column":15}}},"branchMap":{"1":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":14},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":19,"column":5}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":12}},{"start":{"line":35,"column":12},"end":{"line":35,"column":12}}]},"3":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":62},"end":{"line":37,"column":67}},{"start":{"line":37,"column":71},"end":{"line":37,"column":82}},{"start":{"line":37,"column":86},"end":{"line":37,"column":91}}]},"4":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":10},"end":{"line":54,"column":13}},{"start":{"line":54,"column":17},"end":{"line":54,"column":28}}]},"5":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":17}},{"start":{"line":55,"column":21},"end":{"line":57,"column":5}}]},"6":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":12},"end":{"line":72,"column":12}},{"start":{"line":72,"column":12},"end":{"line":72,"column":12}}]},"7":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":21},"end":{"line":78,"column":55}},{"start":{"line":78,"column":59},"end":{"line":78,"column":62}}]},"8":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":17},"end":{"line":94,"column":23}},{"start":{"line":94,"column":27},"end":{"line":94,"column":41}},{"start":{"line":94,"column":45},"end":{"line":94,"column":51}}]},"9":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":12},"end":{"line":115,"column":12}},{"start":{"line":115,"column":12},"end":{"line":115,"column":12}}]},"10":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":16},"end":{"line":115,"column":24}},{"start":{"line":115,"column":28},"end":{"line":115,"column":44}}]},"11":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":12},"end":{"line":134,"column":12}},{"start":{"line":134,"column":12},"end":{"line":134,"column":12}}]},"12":{"line":134,"type":"binary-expr","locations":[{"start":{"line":134,"column":16},"end":{"line":134,"column":24}},{"start":{"line":134,"column":28},"end":{"line":134,"column":44}}]},"13":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":20},"end":{"line":136,"column":20}},{"start":{"line":136,"column":20},"end":{"line":136,"column":20}}]},"14":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":13},"end":{"line":154,"column":19}},{"start":{"line":154,"column":23},"end":{"line":156,"column":5}}]}},"code":["","var Q = require(\"q\");","var HTTP = require(\"../http\");","var RouteApps = require(\"./route\");","var StatusApps = require(\"./status\");","","exports.Normalize = function (app) {","    return function (request, response) {","        var request = HTTP.normalizeRequest(request);","        return Q.when(app(request, response), function (response) {","            return HTTP.normalizeResponse(response);","        });","    };","};","","exports.Date = function (app, present) {","    present = present || function () {","        return new Date();","    };","    return RouteApps.Trap(app, function (response, request) {","        response.headers[\"date\"] = \"\" + present();","    });","};","","/**"," * Decorates a JSGI application such that rejected response promises"," * get translated into `500` server error responses with no content."," *"," * @param {App} app"," * @returns {App}"," */","exports.Error = function (app, debug) {","    return function (request, response) {","        return Q.when(app(request, response), null, function (error) {","            if (!debug)","                error = undefined;","            return StatusApps.responseForStatus(request, 500, error && error.stack || error);","        });","    };","};","","exports.Debug = function (app) {","    return exports.Error(app, true);","};","","/**"," * Decorates a Q-JSGI application such that all requests and responses"," * are logged."," *"," * @param {App} app"," * @returns {App}"," */","exports.Log = function (app, log, stamp) {","    log = log || console.log;","    stamp = stamp || function (message) {","        return new Date().toISOString() + \" \" + message;","    };","    return function (request, response) {","        var remoteHost =","            request.remoteHost + \":\" +","            request.remotePort;","        var requestLine =","            request.method + \" \" +","            request.path + \" \" +","            \"HTTP/\" + request.version.join(\".\");","        log(stamp(","            remoteHost + \" \" +","            \"-->     \" +","            requestLine","        ));","        return Q.when(app(request, response), function (response) {","            if (response) {","                log(stamp(","                    remoteHost + \" \" +","                    \"<== \" +","                    response.status + \" \" +","                    requestLine + \" \" +","                    (response.headers[\"content-length\"] || \"-\")","                ));","            } else {","                log(stamp(","                    remoteHost + \" \" +","                    \"... \" +","                    \"... \" +","                    requestLine + \" (response undefined / presumed streaming)\"","                ));","            }","            return response;","        }, function (reason) {","            log(stamp(","                remoteHost + \" \" +","                \"!!!     \" +","                requestLine + \" \" +","                (reason && reason.message || reason)","            ));","            return Q.reject(reason);","        });","    };","};","","/**"," * Decorates a Q-JSGI application such that all responses have an"," * X-Response-Time header with the time between the request and the"," * response in milliseconds, not including any time needed to stream"," * the body to the client."," *"," * @param {App} app"," * @returns {App}"," */","exports.Time = function (app) {","    return function (request, response) {","        var start = new Date();","        return Q.when(app(request, response), function (response) {","            var stop = new Date();","            if (response && response.headers) {","                response.headers[\"x-response-time\"] = \"\" + (stop - start);","            }","            return response;","        });","    };","};","","/**"," * Decorates a Q-JSGI application such that all responses have the"," * given additional headers.  These headers do not override the"," * application's given response headers."," *"," * @param {Object} headers"," * @param {App} app decorated application."," */","exports.Headers = function (app, headers) {","    return function (request, response) {","        return Q.when(app(request, response), function (response) {","            if (response && response.headers) {","                Object.keys(headers).forEach(function (key) {","                    if (!(key in response.headers)) {","                        response.headers[key] = headers[key];","                    }","                });","            }","            return response;","        });","    };","};","","var farFuture =","    1000 * // ms","    60 * // s","    60 * // m","    24 * // h","    365 * // d","    10; // years","exports.Permanent = function (app, future) {","    future = future || function () {","        return new Date(new Date().getTime() + farFuture);","    };","    app = RouteApps.Tap(app, function (request, response) {","        request.permanent = future;","    });","    app = RouteApps.Trap(app, function (response, request) {","        response.headers[\"expires\"] = \"\" + future();","    });","    return app;","};","","/**"," * Wraps a Q-JSGI application in a sequence of decorators."," * @param {Array * Decorator} decorators"," * @param {App} app"," * @returns {App}"," */","exports.Decorators = function (decorators, app) {","    decorators.reversed().forEach(function (Middleware) {","        app = Middleware(app);","    });","    return app;","};","",""],"l":{"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"16":1,"17":0,"18":0,"20":0,"21":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"42":1,"43":0,"53":1,"54":0,"55":0,"56":0,"58":0,"59":0,"62":0,"66":0,"71":0,"72":0,"73":0,"81":0,"88":0,"90":0,"96":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"118":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"141":0,"146":1,"153":1,"154":0,"155":0,"157":0,"158":0,"160":0,"161":0,"163":0,"172":1,"173":0,"174":0,"176":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/route.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/route.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":14},"end":{"line":17,"column":39}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":11},"end":{"line":19,"column":40}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":34}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":40}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":50},"end":{"line":38,"column":70}}},"6":{"name":"(anonymous_6)","line":52,"loc":{"start":{"line":52,"column":15},"end":{"line":52,"column":36}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":11},"end":{"line":53,"column":40}}},"8":{"name":"(anonymous_8)","line":54,"loc":{"start":{"line":54,"column":50},"end":{"line":54,"column":70}}},"9":{"name":"(anonymous_9)","line":76,"loc":{"start":{"line":76,"column":17},"end":{"line":76,"column":44}}},"10":{"name":"(anonymous_10)","line":81,"loc":{"start":{"line":81,"column":11},"end":{"line":81,"column":40}}},"11":{"name":"(anonymous_11)","line":105,"loc":{"start":{"line":105,"column":21},"end":{"line":105,"column":40}}},"12":{"name":"(anonymous_12)","line":106,"loc":{"start":{"line":106,"column":11},"end":{"line":106,"column":40}}},"13":{"name":"next","line":108,"loc":{"start":{"line":108,"column":8},"end":{"line":108,"column":24}}},"14":{"name":"(anonymous_14)","line":111,"loc":{"start":{"line":111,"column":40},"end":{"line":111,"column":60}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":17,"column":0},"end":{"line":27,"column":2}},"4":{"start":{"line":18,"column":4},"end":{"line":18,"column":47}},"5":{"start":{"line":19,"column":4},"end":{"line":26,"column":6}},"6":{"start":{"line":21,"column":8},"end":{"line":25,"column":9}},"7":{"start":{"line":22,"column":12},"end":{"line":22,"column":42}},"8":{"start":{"line":24,"column":12},"end":{"line":24,"column":47}},"9":{"start":{"line":35,"column":0},"end":{"line":46,"column":2}},"10":{"start":{"line":36,"column":4},"end":{"line":45,"column":6}},"11":{"start":{"line":37,"column":8},"end":{"line":37,"column":42}},"12":{"start":{"line":38,"column":8},"end":{"line":44,"column":11}},"13":{"start":{"line":39,"column":12},"end":{"line":43,"column":13}},"14":{"start":{"line":40,"column":16},"end":{"line":40,"column":32}},"15":{"start":{"line":42,"column":16},"end":{"line":42,"column":45}},"16":{"start":{"line":52,"column":0},"end":{"line":61,"column":2}},"17":{"start":{"line":53,"column":4},"end":{"line":60,"column":6}},"18":{"start":{"line":54,"column":8},"end":{"line":59,"column":11}},"19":{"start":{"line":55,"column":12},"end":{"line":58,"column":13}},"20":{"start":{"line":56,"column":16},"end":{"line":56,"column":58}},"21":{"start":{"line":57,"column":16},"end":{"line":57,"column":59}},"22":{"start":{"line":76,"column":0},"end":{"line":95,"column":2}},"23":{"start":{"line":77,"column":4},"end":{"line":78,"column":19}},"24":{"start":{"line":78,"column":8},"end":{"line":78,"column":19}},"25":{"start":{"line":79,"column":4},"end":{"line":80,"column":39}},"26":{"start":{"line":80,"column":8},"end":{"line":80,"column":39}},"27":{"start":{"line":81,"column":4},"end":{"line":94,"column":6}},"28":{"start":{"line":82,"column":8},"end":{"line":84,"column":9}},"29":{"start":{"line":83,"column":12},"end":{"line":83,"column":47}},"30":{"start":{"line":85,"column":8},"end":{"line":85,"column":45}},"31":{"start":{"line":86,"column":8},"end":{"line":86,"column":36}},"32":{"start":{"line":87,"column":8},"end":{"line":87,"column":53}},"33":{"start":{"line":88,"column":8},"end":{"line":92,"column":9}},"34":{"start":{"line":89,"column":12},"end":{"line":89,"column":65}},"35":{"start":{"line":90,"column":12},"end":{"line":90,"column":55}},"36":{"start":{"line":91,"column":12},"end":{"line":91,"column":62}},"37":{"start":{"line":93,"column":8},"end":{"line":93,"column":43}},"38":{"start":{"line":105,"column":0},"end":{"line":124,"column":2}},"39":{"start":{"line":106,"column":4},"end":{"line":123,"column":6}},"40":{"start":{"line":107,"column":8},"end":{"line":107,"column":39}},"41":{"start":{"line":108,"column":8},"end":{"line":121,"column":9}},"42":{"start":{"line":109,"column":12},"end":{"line":109,"column":59}},"43":{"start":{"line":110,"column":12},"end":{"line":120,"column":13}},"44":{"start":{"line":111,"column":16},"end":{"line":117,"column":19}},"45":{"start":{"line":112,"column":20},"end":{"line":116,"column":21}},"46":{"start":{"line":113,"column":24},"end":{"line":113,"column":38}},"47":{"start":{"line":115,"column":24},"end":{"line":115,"column":40}},"48":{"start":{"line":119,"column":16},"end":{"line":119,"column":32}},"49":{"start":{"line":122,"column":8},"end":{"line":122,"column":22}}},"branchMap":{"1":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":15},"end":{"line":18,"column":23}},{"start":{"line":18,"column":27},"end":{"line":18,"column":46}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":12},"end":{"line":21,"column":35}},{"start":{"line":21,"column":39},"end":{"line":21,"column":63}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":12}},{"start":{"line":39,"column":12},"end":{"line":39,"column":12}}]},"5":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":55,"column":12}},{"start":{"line":55,"column":12},"end":{"line":55,"column":12}}]},"6":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":35},"end":{"line":56,"column":51}},{"start":{"line":56,"column":55},"end":{"line":56,"column":57}}]},"7":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":23},"end":{"line":57,"column":46}},{"start":{"line":57,"column":50},"end":{"line":57,"column":58}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"9":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"10":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"11":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":8}},{"start":{"line":88,"column":8},"end":{"line":88,"column":8}}]},"12":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":12},"end":{"line":110,"column":12}},{"start":{"line":110,"column":12},"end":{"line":110,"column":12}}]},"13":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":20},"end":{"line":112,"column":20}},{"start":{"line":112,"column":20},"end":{"line":112,"column":20}}]}},"code":["","var Q = require(\"q\");","var StatusApps = require(\"./status\");","","/**"," * Makes a  Q-JSGI app that only responds when there is nothing left"," * on the path to route.  If the there is unprocessed data on the"," * path, the returned app either forwards to the `notFound` app or"," * returns a `404 Not Found` response."," *"," * @param {App} app a Q-JSGI application to"," * respond to this end of the routing chain."," * @param {App} notFound (optional) defaults"," * to the `notFound` app."," * @returns {App}"," */","exports.Cap = function (app, notFound) {","    notFound = notFound || StatusApps.notFound;","    return function (request, response) {","        // TODO Distinguish these cases","        if (request.pathInfo === \"\" || request.pathInfo === \"/\") {","            return app(request, response);","        } else {","            return notFound(request, response);","        }","    };","};","","/**"," * Wraps an app with a function that will observe incoming requests"," * before giving the app an opportunity to respond.  If the \"tap\""," * function returns a response, it will be used in lieu of forwarding"," * the request to the wrapped app."," */","exports.Tap = function (app, tap) {","    return function (request, response) {","        var self = this, args = arguments;","        return Q.when(tap.apply(this, arguments), function (response) {","            if (response) {","                return response;","            } else {","                return app.apply(self, args);","            }","        });","    };","};","","/**"," * Wraps an app with a \"trap\" function that intercepts and may"," * alter or replace the response of the wrapped application."," */","exports.Trap = function (app, trap) {","    return function (request, response) {","        return Q.when(app.apply(this, arguments), function (response) {","            if (response) {","                response.headers = response.headers || {};","                return trap(response, request) || response;","            }","        });","    };","};","","/**"," * Makes a Q-JSGI app that branches requests based on the next"," * unprocessed path component."," * @param {Object * App} paths a mapping from path components (single"," * file or directory names) to Q-JSGI applications for subsequent"," * routing.  The mapping may be a plain JavaScript `Object` record,"," * which must own the mapping properties, or an object that has"," * `has(key)` and `get(key)` methods in its prototype chain."," * @param {App} notFound a Q-JSGI application"," * that handles requests for which the next file name does not exist"," * in paths."," * @returns {App}"," */","exports.Branch = function (paths, notFound) {","    if (!paths)","        paths = {};","    if (!notFound)","        notFound = StatusApps.notFound;","    return function (request, response) {","        if (!/^\\//.test(request.pathInfo)) {","            return notFound(request, response);","        }","        var path = request.pathInfo.slice(1);","        var parts = path.split(\"/\");","        var part = decodeURIComponent(parts.shift());","        if (Object.has(paths, part)) {","            request.scriptName = request.scriptName + part + \"/\";","            request.pathInfo = path.slice(part.length);","            return Object.get(paths, part)(request, response);","        }","        return notFound(request, response);","    };","};","","/**"," * Returns the response of the first application that returns a"," * non-404 response status."," *"," * @param {Array * App} apps a cascade of applications to try"," * successively until one of them returns a non-404 status."," * @returns {App}"," */","exports.FirstFound = function (cascade) {","    return function (request, response) {","        var i = 0, ii = cascade.length;","        function next() {","            var response = cascade[i++](request, response);","            if (i < ii) {","                return Q.when(response, function (response) {","                    if (response.status === 404) {","                        return next();","                    } else {","                        return response;","                    }","                });","            } else {","                return response;","            }","        }","        return next();","    };","};","",""],"l":{"2":1,"3":1,"17":1,"18":0,"19":0,"21":0,"22":0,"24":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"42":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"93":0,"105":1,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"115":0,"119":0,"122":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/json.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/json.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":30},"end":{"line":5,"column":59}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":11},"end":{"line":6,"column":30}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":34}}},"4":{"name":"(anonymous_4)","line":19,"loc":{"start":{"line":19,"column":29},"end":{"line":19,"column":64}}},"5":{"name":"(anonymous_5)","line":22,"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":34}}},"6":{"name":"(anonymous_6)","line":38,"loc":{"start":{"line":38,"column":15},"end":{"line":38,"column":45}}},"7":{"name":"(anonymous_7)","line":39,"loc":{"start":{"line":39,"column":11},"end":{"line":39,"column":40}}},"8":{"name":"(anonymous_8)","line":40,"loc":{"start":{"line":40,"column":46},"end":{"line":40,"column":64}}},"9":{"name":"(anonymous_9)","line":52,"loc":{"start":{"line":52,"column":15},"end":{"line":52,"column":49}}},"10":{"name":"(anonymous_10)","line":66,"loc":{"start":{"line":66,"column":22},"end":{"line":66,"column":49}}},"11":{"name":"(anonymous_11)","line":69,"loc":{"start":{"line":69,"column":34},"end":{"line":69,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":21}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":17,"column":2}},"5":{"start":{"line":6,"column":4},"end":{"line":16,"column":6}},"6":{"start":{"line":7,"column":8},"end":{"line":7,"column":64}},"7":{"start":{"line":8,"column":8},"end":{"line":15,"column":11}},"8":{"start":{"line":10,"column":12},"end":{"line":14,"column":13}},"9":{"start":{"line":11,"column":16},"end":{"line":11,"column":83}},"10":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}},"11":{"start":{"line":19,"column":0},"end":{"line":27,"column":2}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":58}},"13":{"start":{"line":21,"column":4},"end":{"line":25,"column":6}},"14":{"start":{"line":23,"column":12},"end":{"line":23,"column":64}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":20}},"16":{"start":{"line":38,"column":0},"end":{"line":44,"column":2}},"17":{"start":{"line":39,"column":4},"end":{"line":43,"column":6}},"18":{"start":{"line":40,"column":8},"end":{"line":42,"column":11}},"19":{"start":{"line":41,"column":12},"end":{"line":41,"column":55}},"20":{"start":{"line":52,"column":0},"end":{"line":59,"column":2}},"21":{"start":{"line":53,"column":4},"end":{"line":57,"column":5}},"22":{"start":{"line":54,"column":8},"end":{"line":54,"column":58}},"23":{"start":{"line":56,"column":8},"end":{"line":56,"column":35}},"24":{"start":{"line":58,"column":4},"end":{"line":58,"column":50}},"25":{"start":{"line":66,"column":0},"end":{"line":77,"column":2}},"26":{"start":{"line":67,"column":4},"end":{"line":68,"column":39}},"27":{"start":{"line":68,"column":8},"end":{"line":68,"column":39}},"28":{"start":{"line":69,"column":4},"end":{"line":76,"column":7}},"29":{"start":{"line":70,"column":8},"end":{"line":74,"column":9}},"30":{"start":{"line":71,"column":12},"end":{"line":71,"column":45}},"31":{"start":{"line":73,"column":12},"end":{"line":73,"column":46}},"32":{"start":{"line":75,"column":8},"end":{"line":75,"column":46}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":12}},{"start":{"line":10,"column":12},"end":{"line":10,"column":12}}]},"2":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]}},"code":["var Q = require(\"q\");","var Content = require(\"./content\");","var Status = require(\"./status\");","","exports.HandleJsonResponses = function (app, reviver, tab) {","    return function (request) {","        request.handleJsonResponse = exports.handleJsonResponse;","        return Q.fcall(app, request)","        .then(function (response) {","            if (response.data !== void 0) {","                return Q.fcall(exports.handleJsonResponse, response, reviver, tab);","            } else {","                return response;","            }","        });","    };","};","","exports.handleJsonResponse = function (response, revivier, tab) {","    response.headers[\"content-type\"] = \"application/json\";","    response.body = {","        forEach: function (write) {","            write(JSON.stringify(response.data, revivier, tab));","        }","    };","    return response;","};","","/**"," * Wraps a Q-JSGI application such that the child application may"," * simply return an object, which will in turn be serialized into a"," * Q-JSGI response."," *"," * @param {Function(Request):Object} app an application that accepts a"," * request and returns a JSON serializable object."," * @returns {App}"," */","exports.Json = function (app, reviver, tabs) {","    return function (request, response) {","        return Q.when(app(request, response), function (object) {","            return exports.json(object, reviver, tabs);","        });","    };","};","","/**"," * @param {Object} content data to serialize as JSON"," * @param {Function} reviver"," * @param {Number|String} tabs"," * @returns {Response}"," */","exports.json = function (content, reviver, tabs) {","    try {","        var json = JSON.stringify(content, reviver, tabs);","    } catch (exception) {","        return Q.reject(exception);","    }","    return Content.ok([json], \"application/json\");","};","","/**"," * @param {Function(Request, Object):Response} app"," * @param {App} badRequest"," * @returns {App}"," */","exports.JsonRequest = function (app, badRequest) {","    if (!badRequest)","        badRequest = Status.badRequest;","    return Content.ContentRequest(function (content, request, response) {","        try {","            var object = JSON.parse(content);","        } catch (error) {","            return badRequest(request, error);","        }","        return app(object, request, response);","    });","};","",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"13":0,"19":1,"20":0,"21":0,"23":0,"26":0,"38":1,"39":0,"40":0,"41":0,"52":1,"53":0,"54":0,"56":0,"58":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"75":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/proxy.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/proxy.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":16},"end":{"line":6,"column":31}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":33}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":40}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":50},"end":{"line":15,"column":69}}},"5":{"name":"(anonymous_5)","line":21,"loc":{"start":{"line":21,"column":20},"end":{"line":21,"column":35}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":25},"end":{"line":22,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":21}},"4":{"start":{"line":6,"column":0},"end":{"line":19,"column":2}},"5":{"start":{"line":7,"column":4},"end":{"line":13,"column":5}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":27}},"7":{"start":{"line":9,"column":8},"end":{"line":12,"column":10}},"8":{"start":{"line":10,"column":12},"end":{"line":10,"column":35}},"9":{"start":{"line":11,"column":12},"end":{"line":11,"column":27}},"10":{"start":{"line":14,"column":4},"end":{"line":18,"column":6}},"11":{"start":{"line":15,"column":8},"end":{"line":17,"column":11}},"12":{"start":{"line":16,"column":12},"end":{"line":16,"column":41}},"13":{"start":{"line":21,"column":0},"end":{"line":26,"column":2}},"14":{"start":{"line":22,"column":4},"end":{"line":25,"column":7}},"15":{"start":{"line":23,"column":8},"end":{"line":23,"column":76}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":23}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]}},"code":["","var HTTP = require(\"../http\");","var URL = require(\"url2\");","var Q = require(\"q\");","","exports.Proxy = function (app) {","    if (typeof app === \"string\") {","        var location = app;","        app = function (request) {","            request.url = location;","            return request;","        };","    }","    return function (request, response) {","        return Q.when(app.apply(this, arguments), function (request) {","            return HTTP.request(request);","        });","    };","};","","exports.ProxyTree = function (url) {","    return exports.Proxy(function (request) {","        request.url = URL.resolve(url, request.pathInfo.replace(/^\\//, \"\"));","        return request;","    });","};","",""],"l":{"2":1,"3":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"14":0,"15":0,"16":0,"21":1,"22":0,"23":0,"24":0}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/redirect.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/redirect.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":1,"16":0,"17":0,"18":1,"19":0,"20":0,"21":1,"22":0,"23":0,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":1,"31":0,"32":1,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":62}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":11},"end":{"line":14,"column":40}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":32},"end":{"line":24,"column":60}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":11},"end":{"line":25,"column":40}}},"5":{"name":"(anonymous_5)","line":35,"loc":{"start":{"line":35,"column":28},"end":{"line":35,"column":62}}},"6":{"name":"(anonymous_6)","line":36,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":40}}},"7":{"name":"(anonymous_7)","line":46,"loc":{"start":{"line":46,"column":32},"end":{"line":46,"column":60}}},"8":{"name":"(anonymous_8)","line":47,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":40}}},"9":{"name":"(anonymous_9)","line":57,"loc":{"start":{"line":57,"column":19},"end":{"line":57,"column":53}}},"10":{"name":"(anonymous_10)","line":58,"loc":{"start":{"line":58,"column":11},"end":{"line":58,"column":40}}},"11":{"name":"(anonymous_11)","line":68,"loc":{"start":{"line":68,"column":23},"end":{"line":68,"column":51}}},"12":{"name":"(anonymous_12)","line":69,"loc":{"start":{"line":69,"column":11},"end":{"line":69,"column":40}}},"13":{"name":"(anonymous_13)","line":74,"loc":{"start":{"line":74,"column":28},"end":{"line":74,"column":65}}},"14":{"name":"(anonymous_14)","line":78,"loc":{"start":{"line":78,"column":32},"end":{"line":78,"column":69}}},"15":{"name":"(anonymous_15)","line":82,"loc":{"start":{"line":82,"column":28},"end":{"line":82,"column":65}}},"16":{"name":"(anonymous_16)","line":86,"loc":{"start":{"line":86,"column":32},"end":{"line":86,"column":69}}},"17":{"name":"(anonymous_17)","line":90,"loc":{"start":{"line":90,"column":23},"end":{"line":90,"column":60}}},"18":{"name":"(anonymous_18)","line":99,"loc":{"start":{"line":99,"column":19},"end":{"line":99,"column":62}}},"19":{"name":"(anonymous_19)","line":126,"loc":{"start":{"line":126,"column":23},"end":{"line":126,"column":60}}},"20":{"name":"(anonymous_20)","line":142,"loc":{"start":{"line":142,"column":23},"end":{"line":142,"column":60}}},"21":{"name":"(anonymous_21)","line":152,"loc":{"start":{"line":152,"column":21},"end":{"line":152,"column":38}}},"22":{"name":"(anonymous_22)","line":164,"loc":{"start":{"line":164,"column":23},"end":{"line":164,"column":52}}},"23":{"name":"(anonymous_23)","line":166,"loc":{"start":{"line":166,"column":11},"end":{"line":166,"column":40}}},"24":{"name":"next","line":175,"loc":{"start":{"line":175,"column":8},"end":{"line":175,"column":24}}},"25":{"name":"(anonymous_25)","line":176,"loc":{"start":{"line":176,"column":20},"end":{"line":176,"column":32}}},"26":{"name":"(anonymous_26)","line":179,"loc":{"start":{"line":179,"column":18},"end":{"line":179,"column":38}}},"27":{"name":"(anonymous_27)","line":199,"loc":{"start":{"line":199,"column":21},"end":{"line":199,"column":41}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":13,"column":0},"end":{"line":17,"column":2}},"7":{"start":{"line":14,"column":4},"end":{"line":16,"column":6}},"8":{"start":{"line":15,"column":8},"end":{"line":15,"column":74}},"9":{"start":{"line":24,"column":0},"end":{"line":28,"column":2}},"10":{"start":{"line":25,"column":4},"end":{"line":27,"column":6}},"11":{"start":{"line":26,"column":8},"end":{"line":26,"column":74}},"12":{"start":{"line":35,"column":0},"end":{"line":39,"column":2}},"13":{"start":{"line":36,"column":4},"end":{"line":38,"column":6}},"14":{"start":{"line":37,"column":8},"end":{"line":37,"column":74}},"15":{"start":{"line":46,"column":0},"end":{"line":50,"column":2}},"16":{"start":{"line":47,"column":4},"end":{"line":49,"column":6}},"17":{"start":{"line":48,"column":8},"end":{"line":48,"column":74}},"18":{"start":{"line":57,"column":0},"end":{"line":61,"column":2}},"19":{"start":{"line":58,"column":4},"end":{"line":60,"column":6}},"20":{"start":{"line":59,"column":8},"end":{"line":59,"column":65}},"21":{"start":{"line":68,"column":0},"end":{"line":72,"column":2}},"22":{"start":{"line":69,"column":4},"end":{"line":71,"column":6}},"23":{"start":{"line":70,"column":8},"end":{"line":70,"column":65}},"24":{"start":{"line":74,"column":0},"end":{"line":76,"column":2}},"25":{"start":{"line":75,"column":4},"end":{"line":75,"column":62}},"26":{"start":{"line":78,"column":0},"end":{"line":80,"column":2}},"27":{"start":{"line":79,"column":4},"end":{"line":79,"column":68}},"28":{"start":{"line":82,"column":0},"end":{"line":84,"column":2}},"29":{"start":{"line":83,"column":4},"end":{"line":83,"column":62}},"30":{"start":{"line":86,"column":0},"end":{"line":88,"column":2}},"31":{"start":{"line":87,"column":4},"end":{"line":87,"column":68}},"32":{"start":{"line":90,"column":0},"end":{"line":92,"column":2}},"33":{"start":{"line":91,"column":4},"end":{"line":91,"column":61}},"34":{"start":{"line":99,"column":0},"end":{"line":124,"column":2}},"35":{"start":{"line":102,"column":4},"end":{"line":102,"column":55}},"36":{"start":{"line":105,"column":4},"end":{"line":105,"column":50}},"37":{"start":{"line":109,"column":4},"end":{"line":114,"column":5}},"38":{"start":{"line":110,"column":8},"end":{"line":113,"column":10}},"39":{"start":{"line":116,"column":4},"end":{"line":116,"column":22}},"40":{"start":{"line":117,"column":4},"end":{"line":117,"column":50}},"41":{"start":{"line":118,"column":4},"end":{"line":120,"column":5}},"42":{"start":{"line":119,"column":8},"end":{"line":119,"column":53}},"43":{"start":{"line":121,"column":4},"end":{"line":121,"column":83}},"44":{"start":{"line":122,"column":4},"end":{"line":122,"column":46}},"45":{"start":{"line":126,"column":0},"end":{"line":140,"column":2}},"46":{"start":{"line":127,"column":4},"end":{"line":130,"column":6}},"47":{"start":{"line":131,"column":4},"end":{"line":131,"column":39}},"48":{"start":{"line":132,"column":4},"end":{"line":139,"column":6}},"49":{"start":{"line":142,"column":0},"end":{"line":162,"column":2}},"50":{"start":{"line":143,"column":4},"end":{"line":143,"column":80}},"51":{"start":{"line":144,"column":4},"end":{"line":161,"column":6}},"52":{"start":{"line":153,"column":16},"end":{"line":153,"column":71}},"53":{"start":{"line":154,"column":16},"end":{"line":158,"column":18}},"54":{"start":{"line":164,"column":0},"end":{"line":197,"column":2}},"55":{"start":{"line":165,"column":4},"end":{"line":165,"column":38}},"56":{"start":{"line":166,"column":4},"end":{"line":196,"column":6}},"57":{"start":{"line":167,"column":8},"end":{"line":167,"column":37}},"58":{"start":{"line":168,"column":8},"end":{"line":168,"column":33}},"59":{"start":{"line":169,"column":8},"end":{"line":169,"column":24}},"60":{"start":{"line":170,"column":8},"end":{"line":170,"column":29}},"61":{"start":{"line":172,"column":8},"end":{"line":172,"column":49}},"62":{"start":{"line":175,"column":8},"end":{"line":192,"column":9}},"63":{"start":{"line":176,"column":12},"end":{"line":191,"column":34}},"64":{"start":{"line":177,"column":16},"end":{"line":177,"column":46}},"65":{"start":{"line":180,"column":16},"end":{"line":189,"column":17}},"66":{"start":{"line":181,"column":20},"end":{"line":186,"column":21}},"67":{"start":{"line":182,"column":24},"end":{"line":182,"column":64}},"68":{"start":{"line":183,"column":24},"end":{"line":183,"column":31}},"69":{"start":{"line":185,"column":24},"end":{"line":185,"column":62}},"70":{"start":{"line":188,"column":20},"end":{"line":188,"column":47}},"71":{"start":{"line":193,"column":8},"end":{"line":193,"column":15}},"72":{"start":{"line":195,"column":8},"end":{"line":195,"column":32}},"73":{"start":{"line":199,"column":0},"end":{"line":201,"column":2}},"74":{"start":{"line":200,"column":4},"end":{"line":200,"column":48}},"75":{"start":{"line":203,"column":0},"end":{"line":208,"column":2}}},"branchMap":{"1":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":47},"end":{"line":75,"column":53}},{"start":{"line":75,"column":57},"end":{"line":75,"column":60}}]},"2":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":47},"end":{"line":79,"column":53}},{"start":{"line":79,"column":57},"end":{"line":79,"column":60}}]},"3":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":47},"end":{"line":83,"column":53}},{"start":{"line":83,"column":57},"end":{"line":83,"column":60}}]},"4":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":47},"end":{"line":87,"column":53}},{"start":{"line":87,"column":57},"end":{"line":87,"column":60}}]},"5":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":13},"end":{"line":102,"column":19}},{"start":{"line":102,"column":24},"end":{"line":102,"column":53}}]},"6":{"line":102,"type":"cond-expr","locations":[{"start":{"line":102,"column":44},"end":{"line":102,"column":47}},{"start":{"line":102,"column":50},"end":{"line":102,"column":53}}]},"7":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":4},"end":{"line":109,"column":4}},{"start":{"line":109,"column":4},"end":{"line":109,"column":4}}]},"8":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":4},"end":{"line":118,"column":4}},{"start":{"line":118,"column":4},"end":{"line":118,"column":4}}]},"9":{"line":121,"type":"binary-expr","locations":[{"start":{"line":121,"column":18},"end":{"line":121,"column":58}},{"start":{"line":121,"column":62},"end":{"line":121,"column":82}}]},"10":{"line":128,"type":"cond-expr","locations":[{"start":{"line":128,"column":29},"end":{"line":128,"column":51}},{"start":{"line":128,"column":54},"end":{"line":128,"column":76}}]},"11":{"line":143,"type":"cond-expr","locations":[{"start":{"line":143,"column":36},"end":{"line":143,"column":56}},{"start":{"line":143,"column":59},"end":{"line":143,"column":79}}]},"12":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":19},"end":{"line":165,"column":31}},{"start":{"line":165,"column":35},"end":{"line":165,"column":37}}]},"13":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":16},"end":{"line":180,"column":16}},{"start":{"line":180,"column":16},"end":{"line":180,"column":16}}]},"14":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":20},"end":{"line":181,"column":20}},{"start":{"line":181,"column":20},"end":{"line":181,"column":20}}]},"15":{"line":200,"type":"binary-expr","locations":[{"start":{"line":200,"column":11},"end":{"line":200,"column":38}},{"start":{"line":200,"column":42},"end":{"line":200,"column":47}}]}},"code":["","var Q = require(\"q\");","var URL = require(\"url2\");","var Http = require(\"../http\");","var Negotiation = require(\"./negotiate\");","var HtmlApps = require(\"./html\");","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `301`"," * @returns {App}"," */","exports.PermanentRedirect = function (location, status, tree) {","    return function (request, response) {","        return exports.permanentRedirect(request, location, status, tree);","    };","};","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `301`"," * @returns {App}"," */","exports.PermanentRedirectTree = function (location, status) {","    return function (request, response) {","        return exports.permanentRedirect(request, location, status, true);","    };","};","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `307`"," * @returns {App}"," */","exports.TemporaryRedirect = function (location, status, tree) {","    return function (request, response) {","        return exports.temporaryRedirect(request, location, status, tree);","    };","};","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `307`"," * @returns {App}"," */","exports.TemporaryRedirectTree = function (location, status) {","    return function (request, response) {","        return exports.temporaryRedirect(request, location, status, true);","    };","};","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `307`"," * @returns {App}"," */","exports.Redirect = function (location, status, tree) {","    return function (request, response) {","        return exports.redirect(request, location, status, tree);","    };","};","","/**"," * @param {String} path"," * @param {Number} status (optional) default is `307`"," * @returns {App}"," */","exports.RedirectTree = function (location, status) {","    return function (request, response) {","        return exports.redirect(request, location, status, true);","    };","};","","exports.permanentRedirect = function (request, location, status) {","    return exports.redirect(request, location, status || 301);","};","","exports.permanentRedirectTree = function (request, location, status) {","    return exports.redirect(request, location, status || 301, true);","};","","exports.temporaryRedirect = function (request, location, status) {","    return exports.redirect(request, location, status || 307);","};","","exports.temporaryRedirectTree = function (request, location, status) {","    return exports.redirect(request, location, status || 307, true);","};","","exports.redirectTree = function (request, location, status) {","    return exports.redirect(request, location, status, true);","};","","/**"," * @param {String} location"," * @param {Number} status (optional) default is `301`"," * @returns {Response}"," */","exports.redirect = function (request, location, status, tree) {","","    // request.permanent gets set by Permanent middleware","    status = status || (request.permanent ? 301 : 307);","","    // ascertain that the location is absolute, per spec","    location = URL.resolve(request.url, location);","","    // redirect into a subtree with the remaining unrouted","    // portion of the path, if so configured","    if (tree) {","        location = URL.resolve(","            location,","            request.pathInfo.replace(/^\\//, \"\")","        );","    }","","    var handlers = {};","    handlers[\"text/plain\"] = exports.redirectText;","    if (request.handleHtmlFragmentResponse) {","        handlers[\"text/html\"] = exports.redirectHtml;","    }","    var handler = Negotiation.negotiate(request, handlers) || exports.redirectText;","    return handler(request, location, status);","","};","","exports.redirectText = function (request, location, status) {","    var content = (","        (request.permanent ? \"Permanent redirect\\n\" : \"Temporary redirect\\n\") +","        \"See: \" + location + \"\\n\"","    );","    var contentLength = content.length;","    return {","        status: status,","        headers: {","            location: location,","            \"content-type\": \"text/plain\"","        },","        body: [content]","    };","};","","exports.redirectHtml = function (request, location, status) {","    var title = request.permanent ? \"Permanent redirect\" : \"Temporary redirect\";","    return {","        status: status,","        headers: {","            location: location,","            \"content-type\": \"text/html\"","        },","        htmlTitle: title,","        htmlFragment: {","            forEach: function (write) {","                write(\"<h1>\" + HtmlApps.escapeHtml(title) + \"</h1>\\n\");","                write(","                    \"<p>See: <a href=\\\"\" + HtmlApps.escapeHtml(location) + \"\\\">\" +","                    HtmlApps.escapeHtml(location) +","                    \"</a></p>\\n\"","                );","            }","        }","    };","};","","exports.RedirectTrap = function (app, maxRedirects) {","    maxRedirects = maxRedirects || 20;","    return function (request, response) {","        var remaining = maxRedirects;","        var deferred = Q.defer();","        var self = this;","        var args = arguments;","","        request = Http.normalizeRequest(request);","","        // try redirect loop","        function next() {","            Q.fcall(function () {","                return app(request, response);","            })","            .then(function (response) {","                if (exports.isRedirect(response)) {","                    if (remaining--) {","                        request.url = response.headers.location;","                        next();","                    } else {","                        throw new Error(\"Maximum redirects.\");","                    }","                } else {","                    deferred.resolve(response);","                }","            })","            .fail(deferred.reject)","        }","        next();","","        return deferred.promise;","    };","};","","exports.isRedirect = function (response) {","    return isRedirect[response.status] || false;","};","","var isRedirect = {","    301: true,","    302: true,","    303: true,","    307: true","};","",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"13":1,"14":0,"15":0,"24":1,"25":0,"26":0,"35":1,"36":0,"37":0,"46":1,"47":0,"48":0,"57":1,"58":0,"59":0,"68":1,"69":0,"70":0,"74":1,"75":0,"78":1,"79":0,"82":1,"83":0,"86":1,"87":0,"90":1,"91":0,"99":1,"102":0,"105":0,"109":0,"110":0,"116":0,"117":0,"118":0,"119":0,"121":0,"122":0,"126":1,"127":0,"131":0,"132":0,"142":1,"143":0,"144":0,"153":0,"154":0,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"172":0,"175":1,"176":0,"177":0,"180":0,"181":0,"182":0,"183":0,"185":0,"188":0,"193":0,"195":0,"199":1,"200":0,"203":1}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":42,"column":0},"end":{"line":42,"column":28}},"2":{"start":{"line":43,"column":0},"end":{"line":43,"column":21}},"3":{"start":{"line":44,"column":0},"end":{"line":44,"column":29}},"4":{"start":{"line":45,"column":0},"end":{"line":45,"column":25}},"5":{"start":{"line":46,"column":0},"end":{"line":46,"column":26}},"6":{"start":{"line":47,"column":0},"end":{"line":47,"column":38}},"7":{"start":{"line":49,"column":0},"end":{"line":49,"column":45}},"8":{"start":{"line":51,"column":0},"end":{"line":51,"column":45}},"9":{"start":{"line":52,"column":0},"end":{"line":52,"column":28}},"10":{"start":{"line":53,"column":0},"end":{"line":53,"column":28}},"11":{"start":{"line":54,"column":0},"end":{"line":54,"column":30}},"12":{"start":{"line":55,"column":0},"end":{"line":55,"column":34}},"13":{"start":{"line":57,"column":0},"end":{"line":57,"column":49}},"14":{"start":{"line":58,"column":0},"end":{"line":58,"column":38}},"15":{"start":{"line":59,"column":0},"end":{"line":59,"column":38}},"16":{"start":{"line":60,"column":0},"end":{"line":60,"column":28}},"17":{"start":{"line":61,"column":0},"end":{"line":61,"column":52}},"18":{"start":{"line":62,"column":0},"end":{"line":62,"column":38}},"19":{"start":{"line":63,"column":0},"end":{"line":63,"column":44}},"20":{"start":{"line":65,"column":0},"end":{"line":65,"column":39}},"21":{"start":{"line":66,"column":0},"end":{"line":66,"column":27}},"22":{"start":{"line":67,"column":0},"end":{"line":67,"column":35}},"23":{"start":{"line":68,"column":0},"end":{"line":68,"column":27}},"24":{"start":{"line":69,"column":0},"end":{"line":69,"column":37}},"25":{"start":{"line":70,"column":0},"end":{"line":70,"column":27}},"26":{"start":{"line":72,"column":0},"end":{"line":72,"column":49}},"27":{"start":{"line":73,"column":0},"end":{"line":73,"column":45}},"28":{"start":{"line":74,"column":0},"end":{"line":74,"column":69}},"29":{"start":{"line":75,"column":0},"end":{"line":75,"column":53}},"30":{"start":{"line":76,"column":0},"end":{"line":76,"column":61}},"31":{"start":{"line":77,"column":0},"end":{"line":77,"column":53}},"32":{"start":{"line":78,"column":0},"end":{"line":78,"column":53}},"33":{"start":{"line":79,"column":0},"end":{"line":79,"column":47}},"34":{"start":{"line":81,"column":0},"end":{"line":81,"column":43}},"35":{"start":{"line":82,"column":0},"end":{"line":82,"column":75}},"36":{"start":{"line":83,"column":0},"end":{"line":83,"column":73}},"37":{"start":{"line":84,"column":0},"end":{"line":84,"column":41}},"38":{"start":{"line":86,"column":0},"end":{"line":86,"column":43}},"39":{"start":{"line":87,"column":0},"end":{"line":87,"column":59}},"40":{"start":{"line":88,"column":0},"end":{"line":88,"column":57}},"41":{"start":{"line":89,"column":0},"end":{"line":89,"column":29}},"42":{"start":{"line":90,"column":0},"end":{"line":90,"column":29}},"43":{"start":{"line":91,"column":0},"end":{"line":91,"column":43}},"44":{"start":{"line":93,"column":0},"end":{"line":93,"column":51}},"45":{"start":{"line":94,"column":0},"end":{"line":94,"column":59}},"46":{"start":{"line":95,"column":0},"end":{"line":95,"column":67}},"47":{"start":{"line":96,"column":0},"end":{"line":96,"column":59}},"48":{"start":{"line":97,"column":0},"end":{"line":97,"column":67}},"49":{"start":{"line":98,"column":0},"end":{"line":98,"column":41}},"50":{"start":{"line":99,"column":0},"end":{"line":99,"column":49}},"51":{"start":{"line":100,"column":0},"end":{"line":100,"column":59}},"52":{"start":{"line":101,"column":0},"end":{"line":101,"column":67}},"53":{"start":{"line":102,"column":0},"end":{"line":102,"column":59}},"54":{"start":{"line":103,"column":0},"end":{"line":103,"column":67}},"55":{"start":{"line":104,"column":0},"end":{"line":104,"column":49}},"56":{"start":{"line":105,"column":0},"end":{"line":105,"column":41}},"57":{"start":{"line":106,"column":0},"end":{"line":106,"column":49}},"58":{"start":{"line":107,"column":0},"end":{"line":107,"column":49}},"59":{"start":{"line":108,"column":0},"end":{"line":108,"column":49}},"60":{"start":{"line":109,"column":0},"end":{"line":109,"column":45}},"61":{"start":{"line":111,"column":0},"end":{"line":111,"column":45}},"62":{"start":{"line":112,"column":0},"end":{"line":112,"column":32}},"63":{"start":{"line":113,"column":0},"end":{"line":113,"column":40}},"64":{"start":{"line":115,"column":0},"end":{"line":115,"column":55}},"65":{"start":{"line":116,"column":0},"end":{"line":116,"column":46}},"66":{"start":{"line":117,"column":0},"end":{"line":117,"column":40}},"67":{"start":{"line":118,"column":0},"end":{"line":118,"column":50}},"68":{"start":{"line":119,"column":0},"end":{"line":119,"column":44}},"69":{"start":{"line":120,"column":0},"end":{"line":120,"column":42}},"70":{"start":{"line":121,"column":0},"end":{"line":121,"column":44}},"71":{"start":{"line":122,"column":0},"end":{"line":122,"column":36}},"72":{"start":{"line":123,"column":0},"end":{"line":123,"column":40}},"73":{"start":{"line":125,"column":0},"end":{"line":125,"column":47}},"74":{"start":{"line":126,"column":0},"end":{"line":126,"column":45}},"75":{"start":{"line":127,"column":0},"end":{"line":127,"column":51}},"76":{"start":{"line":128,"column":0},"end":{"line":128,"column":67}},"77":{"start":{"line":129,"column":0},"end":{"line":129,"column":47}},"78":{"start":{"line":130,"column":0},"end":{"line":130,"column":57}},"79":{"start":{"line":131,"column":0},"end":{"line":131,"column":65}},"80":{"start":{"line":132,"column":0},"end":{"line":132,"column":65}},"81":{"start":{"line":133,"column":0},"end":{"line":133,"column":43}},"82":{"start":{"line":134,"column":0},"end":{"line":134,"column":39}},"83":{"start":{"line":135,"column":0},"end":{"line":135,"column":55}},"84":{"start":{"line":136,"column":0},"end":{"line":136,"column":43}},"85":{"start":{"line":137,"column":0},"end":{"line":137,"column":49}},"86":{"start":{"line":139,"column":0},"end":{"line":139,"column":54}},"87":{"start":{"line":140,"column":0},"end":{"line":140,"column":44}},"88":{"start":{"line":141,"column":0},"end":{"line":141,"column":34}},"89":{"start":{"line":142,"column":0},"end":{"line":142,"column":36}},"90":{"start":{"line":143,"column":0},"end":{"line":143,"column":36}},"91":{"start":{"line":144,"column":0},"end":{"line":144,"column":32}},"92":{"start":{"line":145,"column":0},"end":{"line":145,"column":34}},"93":{"start":{"line":146,"column":0},"end":{"line":146,"column":40}},"94":{"start":{"line":147,"column":0},"end":{"line":147,"column":44}},"95":{"start":{"line":148,"column":0},"end":{"line":148,"column":46}},"96":{"start":{"line":150,"column":0},"end":{"line":150,"column":47}},"97":{"start":{"line":151,"column":0},"end":{"line":151,"column":41}}},"branchMap":{},"code":["","/**"," * Provides tools for making, routing, adapting, and decorating"," * Q-JSGI web applications."," *"," * Duck Types"," * ----------"," *"," * A Q-JSGI _app_ is a function that accepts a request and returns a"," * response.  The response may be promised."," *"," * A Q-JSGI _request_ is an object or a promise for an object that has"," * the following properties:"," *"," * * `method` is the HTTP request method as a string."," * * `path` is a string, guaranteed to start with `\"/\"`."," * * `headers` is an object mapping lower-case HTTP headers to"," *   their corresponding values as strings."," * * `body` is a Q-JSGI content body."," *"," * A Q-JSGI _response_ is an object or a promise for an object that"," * has the following properties:"," *"," * * `status` is the HTTP response status code as a number."," * * `headers` is an object mapping lower-case HTTP headers to their"," *   corresponding values as strings."," * * `body` is a Q-JSGI content body."," *"," * A Q-JSGI response and request content _body_ can be as simple as an"," * array of strings.  It can be a promise.  In general, it must be an"," * object that has a `forEach` method.  The `forEach` method accepts a"," * `write` function.  It goes without saying that `forEach` returns"," * `undefined`, but it can return a promise for `undefined` that will"," * resolve when it has made all of its `write` calls and the request"," * or response can be closed, re-used, or kept alive..  The `forEach`"," * function may call `write` with a `String` any number of times.  The"," * `String` may be promised."," *"," * @module"," */","","require(\"collections/shim\");","var Q = require(\"q\");","var HTTP = require(\"./http\");","var FS = require(\"./fs\");","var URL = require(\"url2\");","var inspect = require(\"util\").inspect;","","exports.Chain = require(\"./http-apps/chain\");","","var RouteApps = require(\"./http-apps/route\");","exports.Cap = RouteApps.Cap;","exports.Tap = RouteApps.Tap;","exports.Trap = RouteApps.Trap;","exports.Branch = RouteApps.Branch;","","var ContentApps = require(\"./http-apps/content\");","exports.Content = ContentApps.Content;","exports.content = ContentApps.content;","exports.ok = ContentApps.ok;","exports.ContentRequest = ContentApps.ContentRequest;","exports.Inspect = ContentApps.Inspect;","exports.ParseQuery = ContentApps.ParseQuery;","","var FsApps = require(\"./http-apps/fs\");","exports.File = FsApps.File;","exports.FileTree = FsApps.FileTree;","exports.file = FsApps.file;","exports.directory = FsApps.directory;","exports.etag = FsApps.etag;","","exports.ListDirectories = FsApps.ListDirectories;","exports.listDirectory = FsApps.listDirectory;","exports.listDirectoryHtmlFragment = FsApps.listDirectoryHtmlFragment;","exports.listDirectoryText = FsApps.listDirectoryText;","exports.listDirectoryMarkdown = FsApps.listDirectoryMarkdown;","exports.listDirectoryJson = FsApps.listDirectoryJson;","exports.listDirectoryData = FsApps.listDirectoryData;","exports.DirectoryIndex = FsApps.DirectoryIndex;","","var HtmlApps = require(\"./http-apps/html\");","exports.HandleHtmlFragmentResponses = HtmlApps.HandleHtmlFragmentResponses;","exports.handleHtmlFragmentResponse = HtmlApps.handleHtmlFragmentResponse;","exports.escapeHtml = HtmlApps.escapeHtml;","","var JsonApps = require(\"./http-apps/json\");","exports.HandleJsonResponses = JsonApps.HandleJsonResponses;","exports.handleJsonResponse = JsonApps.handleJsonResponse;","exports.Json = JsonApps.Json;","exports.json = JsonApps.json;","exports.JsonRequest = JsonApps.JsonRequest;","","var RedirectApps = require(\"./http-apps/redirect\");","exports.PermanentRedirect = RedirectApps.PermanentRedirect;","exports.PermanentRedirectTree = RedirectApps.PermanentRedirectTree;","exports.TemporaryRedirect = RedirectApps.TemporaryRedirect;","exports.TemporaryRedirectTree = RedirectApps.TemporaryRedirectTree;","exports.Redirect = RedirectApps.Redirect;","exports.RedirectTree = RedirectApps.RedirectTree;","exports.permanentRedirect = RedirectApps.permanentRedirect;","exports.permanentRedirectTree = RedirectApps.permanentRedirectTree;","exports.temporaryRedirect = RedirectApps.temporaryRedirect;","exports.temporaryRedirectTree = RedirectApps.temporaryRedirectTree;","exports.redirectTree = RedirectApps.redirectTree;","exports.redirect = RedirectApps.redirect;","exports.redirectText = RedirectApps.redirectText;","exports.redirectHtml = RedirectApps.redirectHtml;","exports.RedirectTrap = RedirectApps.RedirectTrap;","exports.isRedirect = RedirectApps.isRedirect;","","var ProxyApps = require(\"./http-apps/proxy\");","exports.Proxy = ProxyApps.Proxy;","exports.ProxyTree = ProxyApps.ProxyTree;","","var NegotiationApps = require(\"./http-apps/negotiate\");","exports.negotiate = NegotiationApps.negotiate;","exports.Method = NegotiationApps.Method;","exports.ContentType = NegotiationApps.ContentType;","exports.Language = NegotiationApps.Language;","exports.Charset = NegotiationApps.Charset;","exports.Encoding = NegotiationApps.Encoding;","exports.Host = NegotiationApps.Host;","exports.Select = NegotiationApps.Select;","","var StatusApps = require(\"./http-apps/status\");","exports.statusCodes = StatusApps.statusCodes;","exports.statusMessages = StatusApps.statusMessages;","exports.statusWithNoEntityBody = StatusApps.statusWithNoEntityBody;","exports.appForStatus = StatusApps.appForStatus;","exports.responseForStatus = StatusApps.responseForStatus;","exports.textResponseForStatus = StatusApps.textResponseForStatus;","exports.htmlResponseForStatus = StatusApps.htmlResponseForStatus;","exports.badRequest = StatusApps.badRequest;","exports.notFound = StatusApps.notFound;","exports.methodNotAllowed = StatusApps.methodNotAllowed;","exports.noLanguage = StatusApps.noLanguage;","exports.notAcceptable = StatusApps.notAcceptable;","","var DecoratorApps = require(\"./http-apps/decorators\");","exports.Normalize = DecoratorApps.Normalize;","exports.Date = DecoratorApps.Date;","exports.Error = DecoratorApps.Error;","exports.Debug = DecoratorApps.Debug;","exports.Log = DecoratorApps.Log;","exports.Time = DecoratorApps.Time;","exports.Headers = DecoratorApps.Headers;","exports.Permanent = DecoratorApps.Permanent;","exports.Decorators = DecoratorApps.Decorators;","","var CookieApps = require(\"./http-apps/cookie\");","exports.CookieJar = CookieApps.CookieJar;","",""],"l":{"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"49":1,"51":1,"52":1,"53":1,"54":1,"55":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"81":1,"82":1,"83":1,"84":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"111":1,"112":1,"113":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"125":1,"126":1,"127":1,"128":1,"129":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"150":1,"151":1}},"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/fs.js":{"path":"/home/travis/build/npmtest/node-npmtest-q-io/node_modules/q-io/http-apps/fs.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":1,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":1,"103":0,"104":0,"105":0,"106":1,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":1,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":0,"163":0,"164":1,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":1,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":15},"end":{"line":17,"column":44}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":11},"end":{"line":18,"column":40}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":19},"end":{"line":36,"column":44}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":40}}},"5":{"name":"(anonymous_5)","line":53,"loc":{"start":{"line":53,"column":28},"end":{"line":53,"column":44}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":46},"end":{"line":55,"column":67}}},"7":{"name":"(anonymous_7)","line":67,"loc":{"start":{"line":67,"column":50},"end":{"line":67,"column":66}}},"8":{"name":"(anonymous_8)","line":76,"loc":{"start":{"line":76,"column":15},"end":{"line":76,"column":33}}},"9":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":15},"end":{"line":83,"column":57}}},"10":{"name":"(anonymous_10)","line":87,"loc":{"start":{"line":87,"column":33},"end":{"line":87,"column":49}}},"11":{"name":"(anonymous_11)","line":155,"loc":{"start":{"line":155,"column":21},"end":{"line":155,"column":43}}},"12":{"name":"(anonymous_12)","line":178,"loc":{"start":{"line":178,"column":56},"end":{"line":178,"column":78}}},"13":{"name":"(anonymous_13)","line":199,"loc":{"start":{"line":199,"column":15},"end":{"line":199,"column":31}}},"14":{"name":"(anonymous_14)","line":212,"loc":{"start":{"line":212,"column":20},"end":{"line":212,"column":45}}},"15":{"name":"(anonymous_15)","line":218,"loc":{"start":{"line":218,"column":26},"end":{"line":218,"column":56}}},"16":{"name":"(anonymous_16)","line":220,"loc":{"start":{"line":220,"column":11},"end":{"line":220,"column":30}}},"17":{"name":"(anonymous_17)","line":226,"loc":{"start":{"line":226,"column":14},"end":{"line":226,"column":34}}},"18":{"name":"(anonymous_18)","line":236,"loc":{"start":{"line":236,"column":24},"end":{"line":236,"column":53}}},"19":{"name":"(anonymous_19)","line":251,"loc":{"start":{"line":251,"column":69},"end":{"line":251,"column":81}}},"20":{"name":"(anonymous_20)","line":257,"loc":{"start":{"line":257,"column":36},"end":{"line":257,"column":65}}},"21":{"name":"(anonymous_21)","line":259,"loc":{"start":{"line":259,"column":10},"end":{"line":259,"column":26}}},"22":{"name":"(anonymous_22)","line":267,"loc":{"start":{"line":267,"column":25},"end":{"line":267,"column":42}}},"23":{"name":"(anonymous_23)","line":269,"loc":{"start":{"line":269,"column":53},"end":{"line":269,"column":69}}},"24":{"name":"(anonymous_24)","line":284,"loc":{"start":{"line":284,"column":28},"end":{"line":284,"column":57}}},"25":{"name":"(anonymous_25)","line":286,"loc":{"start":{"line":286,"column":10},"end":{"line":286,"column":26}}},"26":{"name":"(anonymous_26)","line":293,"loc":{"start":{"line":293,"column":25},"end":{"line":293,"column":42}}},"27":{"name":"(anonymous_27)","line":294,"loc":{"start":{"line":294,"column":53},"end":{"line":294,"column":69}}},"28":{"name":"(anonymous_28)","line":308,"loc":{"start":{"line":308,"column":32},"end":{"line":308,"column":61}}},"29":{"name":"(anonymous_29)","line":310,"loc":{"start":{"line":310,"column":10},"end":{"line":310,"column":26}}},"30":{"name":"(anonymous_30)","line":317,"loc":{"start":{"line":317,"column":25},"end":{"line":317,"column":42}}},"31":{"name":"(anonymous_31)","line":319,"loc":{"start":{"line":319,"column":46},"end":{"line":319,"column":62}}},"32":{"name":"(anonymous_32)","line":334,"loc":{"start":{"line":334,"column":28},"end":{"line":334,"column":57}}},"33":{"name":"(anonymous_33)","line":336,"loc":{"start":{"line":336,"column":10},"end":{"line":336,"column":26}}},"34":{"name":"(anonymous_34)","line":345,"loc":{"start":{"line":345,"column":28},"end":{"line":345,"column":57}}},"35":{"name":"(anonymous_35)","line":351,"loc":{"start":{"line":351,"column":10},"end":{"line":351,"column":26}}},"36":{"name":"(anonymous_36)","line":353,"loc":{"start":{"line":353,"column":24},"end":{"line":353,"column":40}}},"37":{"name":"(anonymous_37)","line":355,"loc":{"start":{"line":355,"column":18},"end":{"line":355,"column":34}}},"38":{"name":"(anonymous_38)","line":365,"loc":{"start":{"line":365,"column":15},"end":{"line":365,"column":27}}},"39":{"name":"(anonymous_39)","line":371,"loc":{"start":{"line":371,"column":10},"end":{"line":371,"column":27}}},"40":{"name":"(anonymous_40)","line":373,"loc":{"start":{"line":373,"column":22},"end":{"line":373,"column":39}}},"41":{"name":"(anonymous_41)","line":382,"loc":{"start":{"line":382,"column":25},"end":{"line":382,"column":51}}},"42":{"name":"(anonymous_42)","line":384,"loc":{"start":{"line":384,"column":11},"end":{"line":384,"column":30}}},"43":{"name":"(anonymous_43)","line":393,"loc":{"start":{"line":393,"column":18},"end":{"line":393,"column":38}}},"44":{"name":"(anonymous_44)","line":400,"loc":{"start":{"line":400,"column":30},"end":{"line":400,"column":48}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":33}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"10":{"start":{"line":17,"column":0},"end":{"line":21,"column":2}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":64}},"13":{"start":{"line":36,"column":0},"end":{"line":81,"column":2}},"14":{"start":{"line":37,"column":4},"end":{"line":38,"column":21}},"15":{"start":{"line":38,"column":8},"end":{"line":38,"column":21}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":63}},"17":{"start":{"line":40,"column":4},"end":{"line":40,"column":48}},"18":{"start":{"line":41,"column":4},"end":{"line":41,"column":63}},"19":{"start":{"line":42,"column":4},"end":{"line":42,"column":34}},"20":{"start":{"line":43,"column":4},"end":{"line":43,"column":24}},"21":{"start":{"line":44,"column":4},"end":{"line":44,"column":30}},"22":{"start":{"line":45,"column":4},"end":{"line":80,"column":6}},"23":{"start":{"line":46,"column":8},"end":{"line":46,"column":46}},"24":{"start":{"line":47,"column":8},"end":{"line":47,"column":24}},"25":{"start":{"line":48,"column":8},"end":{"line":52,"column":10}},"26":{"start":{"line":53,"column":8},"end":{"line":79,"column":11}},"27":{"start":{"line":54,"column":12},"end":{"line":54,"column":64}},"28":{"start":{"line":55,"column":12},"end":{"line":78,"column":15}},"29":{"start":{"line":57,"column":16},"end":{"line":60,"column":17}},"30":{"start":{"line":58,"column":20},"end":{"line":58,"column":106}},"31":{"start":{"line":59,"column":20},"end":{"line":59,"column":63}},"32":{"start":{"line":61,"column":16},"end":{"line":62,"column":63}},"33":{"start":{"line":62,"column":20},"end":{"line":62,"column":63}},"34":{"start":{"line":63,"column":16},"end":{"line":64,"column":83}},"35":{"start":{"line":64,"column":20},"end":{"line":64,"column":83}},"36":{"start":{"line":67,"column":16},"end":{"line":75,"column":19}},"37":{"start":{"line":68,"column":20},"end":{"line":74,"column":21}},"38":{"start":{"line":69,"column":24},"end":{"line":69,"column":89}},"39":{"start":{"line":70,"column":27},"end":{"line":74,"column":21}},"40":{"start":{"line":71,"column":24},"end":{"line":71,"column":94}},"41":{"start":{"line":73,"column":24},"end":{"line":73,"column":67}},"42":{"start":{"line":77,"column":16},"end":{"line":77,"column":59}},"43":{"start":{"line":83,"column":0},"end":{"line":150,"column":2}},"44":{"start":{"line":84,"column":4},"end":{"line":84,"column":18}},"45":{"start":{"line":86,"column":4},"end":{"line":86,"column":56}},"46":{"start":{"line":87,"column":4},"end":{"line":149,"column":7}},"47":{"start":{"line":88,"column":8},"end":{"line":88,"column":38}},"48":{"start":{"line":89,"column":8},"end":{"line":91,"column":10}},"49":{"start":{"line":92,"column":8},"end":{"line":92,"column":18}},"50":{"start":{"line":93,"column":8},"end":{"line":93,"column":25}},"51":{"start":{"line":94,"column":8},"end":{"line":97,"column":10}},"52":{"start":{"line":100,"column":8},"end":{"line":139,"column":9}},"53":{"start":{"line":102,"column":12},"end":{"line":130,"column":13}},"54":{"start":{"line":109,"column":16},"end":{"line":109,"column":81}},"55":{"start":{"line":111,"column":16},"end":{"line":129,"column":17}},"56":{"start":{"line":112,"column":20},"end":{"line":114,"column":21}},"57":{"start":{"line":113,"column":24},"end":{"line":113,"column":46}},"58":{"start":{"line":115,"column":20},"end":{"line":117,"column":21}},"59":{"start":{"line":116,"column":24},"end":{"line":116,"column":74}},"60":{"start":{"line":118,"column":20},"end":{"line":118,"column":33}},"61":{"start":{"line":119,"column":20},"end":{"line":123,"column":22}},"62":{"start":{"line":124,"column":20},"end":{"line":124,"column":79}},"63":{"start":{"line":125,"column":20},"end":{"line":125,"column":48}},"64":{"start":{"line":126,"column":20},"end":{"line":126,"column":44}},"65":{"start":{"line":128,"column":20},"end":{"line":128,"column":70}},"66":{"start":{"line":136,"column":12},"end":{"line":137,"column":66}},"67":{"start":{"line":137,"column":16},"end":{"line":137,"column":66}},"68":{"start":{"line":138,"column":12},"end":{"line":138,"column":55}},"69":{"start":{"line":142,"column":8},"end":{"line":148,"column":10}},"70":{"start":{"line":152,"column":0},"end":{"line":152,"column":86}},"71":{"start":{"line":153,"column":0},"end":{"line":153,"column":50}},"72":{"start":{"line":155,"column":0},"end":{"line":176,"column":2}},"73":{"start":{"line":156,"column":4},"end":{"line":156,"column":43}},"74":{"start":{"line":157,"column":4},"end":{"line":158,"column":15}},"75":{"start":{"line":158,"column":8},"end":{"line":158,"column":15}},"76":{"start":{"line":159,"column":4},"end":{"line":160,"column":15}},"77":{"start":{"line":160,"column":8},"end":{"line":160,"column":15}},"78":{"start":{"line":161,"column":4},"end":{"line":161,"column":19}},"79":{"start":{"line":162,"column":4},"end":{"line":171,"column":5}},"80":{"start":{"line":163,"column":8},"end":{"line":163,"column":18}},"81":{"start":{"line":164,"column":8},"end":{"line":164,"column":28}},"82":{"start":{"line":165,"column":11},"end":{"line":171,"column":5}},"83":{"start":{"line":166,"column":8},"end":{"line":166,"column":26}},"84":{"start":{"line":167,"column":8},"end":{"line":167,"column":19}},"85":{"start":{"line":169,"column":8},"end":{"line":169,"column":26}},"86":{"start":{"line":170,"column":8},"end":{"line":170,"column":28}},"87":{"start":{"line":172,"column":4},"end":{"line":175,"column":6}},"88":{"start":{"line":178,"column":0},"end":{"line":193,"column":2}},"89":{"start":{"line":179,"column":4},"end":{"line":179,"column":44}},"90":{"start":{"line":180,"column":4},"end":{"line":181,"column":15}},"91":{"start":{"line":181,"column":8},"end":{"line":181,"column":15}},"92":{"start":{"line":182,"column":4},"end":{"line":182,"column":42}},"93":{"start":{"line":183,"column":4},"end":{"line":183,"column":47}},"94":{"start":{"line":184,"column":4},"end":{"line":191,"column":5}},"95":{"start":{"line":185,"column":8},"end":{"line":185,"column":50}},"96":{"start":{"line":186,"column":8},"end":{"line":190,"column":9}},"97":{"start":{"line":187,"column":12},"end":{"line":187,"column":33}},"98":{"start":{"line":189,"column":12},"end":{"line":189,"column":19}},"99":{"start":{"line":192,"column":4},"end":{"line":192,"column":17}},"100":{"start":{"line":199,"column":0},"end":{"line":205,"column":2}},"101":{"start":{"line":200,"column":4},"end":{"line":204,"column":16}},"102":{"start":{"line":212,"column":0},"end":{"line":216,"column":2}},"103":{"start":{"line":213,"column":4},"end":{"line":213,"column":48}},"104":{"start":{"line":214,"column":4},"end":{"line":214,"column":30}},"105":{"start":{"line":215,"column":4},"end":{"line":215,"column":20}},"106":{"start":{"line":218,"column":0},"end":{"line":234,"column":2}},"107":{"start":{"line":219,"column":4},"end":{"line":219,"column":59}},"108":{"start":{"line":220,"column":4},"end":{"line":233,"column":6}},"109":{"start":{"line":221,"column":8},"end":{"line":223,"column":9}},"110":{"start":{"line":222,"column":12},"end":{"line":222,"column":81}},"111":{"start":{"line":224,"column":8},"end":{"line":224,"column":39}},"112":{"start":{"line":225,"column":8},"end":{"line":232,"column":11}},"113":{"start":{"line":227,"column":12},"end":{"line":231,"column":13}},"114":{"start":{"line":228,"column":16},"end":{"line":228,"column":56}},"115":{"start":{"line":230,"column":16},"end":{"line":230,"column":32}},"116":{"start":{"line":236,"column":0},"end":{"line":255,"column":2}},"117":{"start":{"line":238,"column":4},"end":{"line":238,"column":47}},"118":{"start":{"line":239,"column":4},"end":{"line":241,"column":5}},"119":{"start":{"line":240,"column":8},"end":{"line":240,"column":75}},"120":{"start":{"line":242,"column":4},"end":{"line":242,"column":22}},"121":{"start":{"line":243,"column":4},"end":{"line":243,"column":55}},"122":{"start":{"line":244,"column":4},"end":{"line":244,"column":62}},"123":{"start":{"line":245,"column":4},"end":{"line":247,"column":5}},"124":{"start":{"line":246,"column":8},"end":{"line":246,"column":66}},"125":{"start":{"line":248,"column":4},"end":{"line":250,"column":5}},"126":{"start":{"line":249,"column":8},"end":{"line":249,"column":65}},"127":{"start":{"line":251,"column":4},"end":{"line":253,"column":6}},"128":{"start":{"line":252,"column":8},"end":{"line":252,"column":24}},"129":{"start":{"line":254,"column":4},"end":{"line":254,"column":45}},"130":{"start":{"line":257,"column":0},"end":{"line":282,"column":2}},"131":{"start":{"line":258,"column":4},"end":{"line":281,"column":7}},"132":{"start":{"line":260,"column":8},"end":{"line":280,"column":10}},"133":{"start":{"line":268,"column":20},"end":{"line":268,"column":62}},"134":{"start":{"line":269,"column":20},"end":{"line":276,"column":23}},"135":{"start":{"line":270,"column":24},"end":{"line":270,"column":46}},"136":{"start":{"line":271,"column":24},"end":{"line":271,"column":40}},"137":{"start":{"line":272,"column":24},"end":{"line":274,"column":25}},"138":{"start":{"line":273,"column":28},"end":{"line":273,"column":41}},"139":{"start":{"line":275,"column":24},"end":{"line":275,"column":184}},"140":{"start":{"line":277,"column":20},"end":{"line":277,"column":37}},"141":{"start":{"line":284,"column":0},"end":{"line":306,"column":2}},"142":{"start":{"line":285,"column":4},"end":{"line":305,"column":7}},"143":{"start":{"line":287,"column":8},"end":{"line":304,"column":10}},"144":{"start":{"line":294,"column":20},"end":{"line":301,"column":23}},"145":{"start":{"line":295,"column":24},"end":{"line":295,"column":46}},"146":{"start":{"line":296,"column":24},"end":{"line":296,"column":40}},"147":{"start":{"line":297,"column":24},"end":{"line":299,"column":25}},"148":{"start":{"line":298,"column":28},"end":{"line":298,"column":41}},"149":{"start":{"line":300,"column":24},"end":{"line":300,"column":52}},"150":{"start":{"line":308,"column":0},"end":{"line":332,"column":2}},"151":{"start":{"line":309,"column":4},"end":{"line":331,"column":7}},"152":{"start":{"line":311,"column":8},"end":{"line":330,"column":10}},"153":{"start":{"line":318,"column":20},"end":{"line":318,"column":53}},"154":{"start":{"line":319,"column":20},"end":{"line":326,"column":23}},"155":{"start":{"line":320,"column":24},"end":{"line":320,"column":46}},"156":{"start":{"line":321,"column":24},"end":{"line":321,"column":40}},"157":{"start":{"line":322,"column":24},"end":{"line":324,"column":25}},"158":{"start":{"line":323,"column":28},"end":{"line":323,"column":41}},"159":{"start":{"line":325,"column":24},"end":{"line":325,"column":61}},"160":{"start":{"line":327,"column":20},"end":{"line":327,"column":32}},"161":{"start":{"line":334,"column":0},"end":{"line":343,"column":2}},"162":{"start":{"line":335,"column":4},"end":{"line":342,"column":7}},"163":{"start":{"line":337,"column":8},"end":{"line":341,"column":10}},"164":{"start":{"line":345,"column":0},"end":{"line":380,"column":2}},"165":{"start":{"line":346,"column":4},"end":{"line":348,"column":5}},"166":{"start":{"line":347,"column":8},"end":{"line":347,"column":83}},"167":{"start":{"line":349,"column":4},"end":{"line":349,"column":24}},"168":{"start":{"line":350,"column":4},"end":{"line":379,"column":7}},"169":{"start":{"line":352,"column":8},"end":{"line":352,"column":20}},"170":{"start":{"line":353,"column":8},"end":{"line":368,"column":10}},"171":{"start":{"line":354,"column":12},"end":{"line":367,"column":15}},"172":{"start":{"line":356,"column":16},"end":{"line":364,"column":17}},"173":{"start":{"line":357,"column":20},"end":{"line":359,"column":23}},"174":{"start":{"line":360,"column":23},"end":{"line":364,"column":17}},"175":{"start":{"line":361,"column":20},"end":{"line":363,"column":23}},"176":{"start":{"line":372,"column":8},"end":{"line":372,"column":22}},"177":{"start":{"line":373,"column":8},"end":{"line":377,"column":11}},"178":{"start":{"line":374,"column":12},"end":{"line":376,"column":13}},"179":{"start":{"line":375,"column":16},"end":{"line":375,"column":46}},"180":{"start":{"line":378,"column":8},"end":{"line":378,"column":20}},"181":{"start":{"line":382,"column":0},"end":{"line":416,"column":2}},"182":{"start":{"line":383,"column":4},"end":{"line":383,"column":42}},"183":{"start":{"line":384,"column":4},"end":{"line":415,"column":6}},"184":{"start":{"line":385,"column":8},"end":{"line":385,"column":38}},"185":{"start":{"line":386,"column":8},"end":{"line":386,"column":51}},"186":{"start":{"line":389,"column":8},"end":{"line":414,"column":9}},"187":{"start":{"line":390,"column":12},"end":{"line":390,"column":55}},"188":{"start":{"line":392,"column":12},"end":{"line":413,"column":15}},"189":{"start":{"line":394,"column":16},"end":{"line":412,"column":17}},"190":{"start":{"line":395,"column":20},"end":{"line":409,"column":21}},"191":{"start":{"line":396,"column":24},"end":{"line":396,"column":91}},"192":{"start":{"line":398,"column":24},"end":{"line":398,"column":83}},"193":{"start":{"line":399,"column":24},"end":{"line":408,"column":27}},"194":{"start":{"line":401,"column":28},"end":{"line":407,"column":29}},"195":{"start":{"line":402,"column":32},"end":{"line":402,"column":82}},"196":{"start":{"line":403,"column":32},"end":{"line":403,"column":62}},"197":{"start":{"line":404,"column":32},"end":{"line":404,"column":52}},"198":{"start":{"line":406,"column":32},"end":{"line":406,"column":48}},"199":{"start":{"line":411,"column":20},"end":{"line":411,"column":36}}},"branchMap":{"1":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"2":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":39}},{"start":{"line":39,"column":43},"end":{"line":39,"column":62}}]},"3":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":19},"end":{"line":40,"column":31}},{"start":{"line":40,"column":35},"end":{"line":40,"column":47}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":24},"end":{"line":41,"column":41}},{"start":{"line":41,"column":45},"end":{"line":41,"column":62}}]},"5":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":17},"end":{"line":42,"column":27}},{"start":{"line":42,"column":31},"end":{"line":42,"column":33}}]},"6":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":23},"end":{"line":48,"column":39}},{"start":{"line":49,"column":12},"end":{"line":51,"column":42}}]},"7":{"line":49,"type":"cond-expr","locations":[{"start":{"line":50,"column":12},"end":{"line":50,"column":42}},{"start":{"line":51,"column":12},"end":{"line":51,"column":42}}]},"8":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":12},"end":{"line":49,"column":29}},{"start":{"line":49,"column":33},"end":{"line":49,"column":50}}]},"9":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":16},"end":{"line":57,"column":16}},{"start":{"line":57,"column":16},"end":{"line":57,"column":16}}]},"10":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":16},"end":{"line":61,"column":16}},{"start":{"line":61,"column":16},"end":{"line":61,"column":16}}]},"11":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":20},"end":{"line":61,"column":49}},{"start":{"line":61,"column":53},"end":{"line":61,"column":89}}]},"12":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":16},"end":{"line":63,"column":16}},{"start":{"line":63,"column":16},"end":{"line":63,"column":16}}]},"13":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":20},"end":{"line":63,"column":38}},{"start":{"line":63,"column":42},"end":{"line":63,"column":71}}]},"14":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":20},"end":{"line":68,"column":20}},{"start":{"line":68,"column":20},"end":{"line":68,"column":20}}]},"15":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":27},"end":{"line":70,"column":27}},{"start":{"line":70,"column":27},"end":{"line":70,"column":27}}]},"16":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":9},"end":{"line":84,"column":11}},{"start":{"line":84,"column":15},"end":{"line":84,"column":17}}]},"17":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":18},"end":{"line":86,"column":29}},{"start":{"line":86,"column":33},"end":{"line":86,"column":55}}]},"18":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"19":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":12}},{"start":{"line":102,"column":12},"end":{"line":102,"column":12}}]},"20":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":16},"end":{"line":103,"column":45}},{"start":{"line":104,"column":16},"end":{"line":104,"column":51}}]},"21":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":16},"end":{"line":111,"column":16}},{"start":{"line":111,"column":16},"end":{"line":111,"column":16}}]},"22":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":20},"end":{"line":112,"column":20}},{"start":{"line":112,"column":20},"end":{"line":112,"column":20}}]},"23":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":20},"end":{"line":115,"column":20}},{"start":{"line":115,"column":20},"end":{"line":115,"column":20}}]},"24":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":12},"end":{"line":136,"column":12}},{"start":{"line":136,"column":12},"end":{"line":136,"column":12}}]},"25":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":4},"end":{"line":157,"column":4}},{"start":{"line":157,"column":4},"end":{"line":157,"column":4}}]},"26":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":4},"end":{"line":159,"column":4}},{"start":{"line":159,"column":4},"end":{"line":159,"column":4}}]},"27":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":8},"end":{"line":159,"column":22}},{"start":{"line":159,"column":26},"end":{"line":159,"column":40}}]},"28":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":4},"end":{"line":162,"column":4}},{"start":{"line":162,"column":4},"end":{"line":162,"column":4}}]},"29":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":11},"end":{"line":165,"column":11}},{"start":{"line":165,"column":11},"end":{"line":165,"column":11}}]},"30":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":4},"end":{"line":180,"column":4}},{"start":{"line":180,"column":4},"end":{"line":180,"column":4}}]},"31":{"line":186,"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":186,"column":8}},{"start":{"line":186,"column":8},"end":{"line":186,"column":8}}]},"32":{"line":219,"type":"binary-expr","locations":[{"start":{"line":219,"column":20},"end":{"line":219,"column":33}},{"start":{"line":219,"column":37},"end":{"line":219,"column":58}}]},"33":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":8},"end":{"line":221,"column":8}},{"start":{"line":221,"column":8},"end":{"line":221,"column":8}}]},"34":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":12},"end":{"line":227,"column":12}},{"start":{"line":227,"column":12},"end":{"line":227,"column":12}}]},"35":{"line":239,"type":"if","locations":[{"start":{"line":239,"column":4},"end":{"line":239,"column":4}},{"start":{"line":239,"column":4},"end":{"line":239,"column":4}}]},"36":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":4},"end":{"line":245,"column":4}},{"start":{"line":245,"column":4},"end":{"line":245,"column":4}}]},"37":{"line":248,"type":"if","locations":[{"start":{"line":248,"column":4},"end":{"line":248,"column":4}},{"start":{"line":248,"column":4},"end":{"line":248,"column":4}}]},"38":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":25},"end":{"line":251,"column":65}},{"start":{"line":251,"column":69},"end":{"line":253,"column":5}}]},"39":{"line":272,"type":"if","locations":[{"start":{"line":272,"column":24},"end":{"line":272,"column":24}},{"start":{"line":272,"column":24},"end":{"line":272,"column":24}}]},"40":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":24},"end":{"line":297,"column":24}},{"start":{"line":297,"column":24},"end":{"line":297,"column":24}}]},"41":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":24},"end":{"line":322,"column":24}},{"start":{"line":322,"column":24},"end":{"line":322,"column":24}}]},"42":{"line":346,"type":"if","locations":[{"start":{"line":346,"column":4},"end":{"line":346,"column":4}},{"start":{"line":346,"column":4},"end":{"line":346,"column":4}}]},"43":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":16},"end":{"line":356,"column":16}},{"start":{"line":356,"column":16},"end":{"line":356,"column":16}}]},"44":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":23},"end":{"line":360,"column":23}},{"start":{"line":360,"column":23},"end":{"line":360,"column":23}}]},"45":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":12},"end":{"line":374,"column":12}},{"start":{"line":374,"column":12},"end":{"line":374,"column":12}}]},"46":{"line":383,"type":"binary-expr","locations":[{"start":{"line":383,"column":16},"end":{"line":383,"column":25}},{"start":{"line":383,"column":29},"end":{"line":383,"column":41}}]},"47":{"line":389,"type":"if","locations":[{"start":{"line":389,"column":8},"end":{"line":389,"column":8}},{"start":{"line":389,"column":8},"end":{"line":389,"column":8}}]},"48":{"line":394,"type":"if","locations":[{"start":{"line":394,"column":16},"end":{"line":394,"column":16}},{"start":{"line":394,"column":16},"end":{"line":394,"column":16}}]},"49":{"line":395,"type":"if","locations":[{"start":{"line":395,"column":20},"end":{"line":395,"column":20}},{"start":{"line":395,"column":20},"end":{"line":395,"column":20}}]},"50":{"line":401,"type":"if","locations":[{"start":{"line":401,"column":28},"end":{"line":401,"column":28}},{"start":{"line":401,"column":28},"end":{"line":401,"column":28}}]}},"code":["","var Q = require(\"q\");","var URL = require(\"url2\");","var MimeTypes = require(\"mime\");","var FS = require(\"../fs\");","var StatusApps = require(\"./status\");","var RedirectApps = require(\"./redirect\");","var Negotiation = require(\"./negotiate\");","var HtmlApps = require(\"./html\");","var Deprecate = require(\"../deprecate\");","","/**"," * @param {String} path"," * @param {String} contentType"," * @returns {App}"," */","exports.File = function (path, contentType) {","    return function (request, response) {","        return exports.file(request, String(path), contentType);","    };","};","","/**"," * @param {String} path"," * @param {{","       notFound,","       file,","       directory,","       contentType,","       redirectSymbolicLinks:Boolean,","       redirect:Function(location),","       permanent:Boolean"," * }} options"," * @returns {App}"," */","exports.FileTree = function (root, options) {","    if (!options)","        options = {};","    options.notFound = options.notFound || StatusApps.notFound;","    options.file = options.file || exports.file;","    options.directory = options.directory || exports.directory;","    options.fs = options.fs || FS;","    var fs = options.fs;","    root = fs.canonical(root);","    return function (request, response) {","        var location = URL.parse(request.url);","        request.fs = fs;","        var redirect = options.redirect || (","            request.permanent || options.permanent ?","            RedirectApps.permanentRedirect :","            RedirectApps.temporaryRedirect","        );","        return Q.when(root, function (root) {","            var path = fs.join(root, request.pathInfo.slice(1));","            return Q.when(fs.canonical(path), function (canonical) {","                //TODO remove for 2.0.0","                if (options.followInsecureSymlinks) {","                    Deprecate.deprecationWarning(\"followInsecureSymlinks\", \"followInsecureSymbolicLinks\");","                    options.followInsecureSymbolicLinks = true;","                }","                if (!fs.contains(root, canonical) && !options.followInsecureSymbolicLinks)","                    return options.notFound(request, response);","                if (path !== canonical && options.redirectSymbolicLinks)","                    return redirect(request, fs.relativeFromFile(path, canonical));","                // TODO: relativeFromFile should be designed for URLs, not generalized paths.","                // HTTP.relative(pathToDirectoryLocation(path), pathToFile/DirectoryLocation(canonical))","                return Q.when(fs.stat(canonical), function (stat) {","                    if (stat.isFile()) {","                        return options.file(request, canonical, options.contentType, fs);","                    } else if (stat.isDirectory()) {","                        return options.directory(request, canonical, options.contentType, fs);","                    } else {","                        return options.notFound(request, response);","                    }","                });","            }, function (reason) {","                return options.notFound(request, response);","            });","        });","    };","};","","exports.file = function (request, path, contentType, fs) {","    fs = fs || FS;","    // TODO last-modified header","    contentType = contentType || MimeTypes.lookup(path);","    return Q.when(fs.stat(path), function (stat) {","        var etag = exports.etag(stat);","        var options = {","            flags: \"rb\"","        };","        var range;","        var status = 200;","        var headers = {","            \"content-type\": contentType,","            etag: etag","        };","","        // Partial range requests","        if (\"range\" in request.headers) {","            // Invalid cache","            if (","                \"if-range\" in request.headers &&","                etag != request.headers[\"if-range\"]","            ) {","                // Normal 200 for entire, altered content","            } else {","                // Truncate to the first requested continuous range","                range = interpretFirstRange(request.headers[\"range\"], stat.size);","                // Like Apache, ignore the range header if it is invalid","                if (range) {","                    if (range.end > stat.size) {","                        range.end = stat.size;","                    }","                    if (range.end <= range.begin) {","                        return StatusApps.responseForStatus(request, 416); // not satisfiable","                    }","                    status = 206; // partial content","                    headers[\"content-range\"] = (","                        \"bytes \" +","                        range.begin + \"-\" + (range.end - 1) +","                        \"/\" + stat.size","                    );","                    headers[\"content-length\"] = \"\" + (range.end - range.begin);","                    options.begin = range.begin;","                    options.end = range.end;","                } else {","                    return StatusApps.responseForStatus(request, 416); // not satisfiable","                }","            }","        // Full requests","        } else {","            // Cached","            // We do not use date-based caching","            // TODO consider if-match?","            if (etag == request.headers[\"if-none-match\"])","                return StatusApps.responseForStatus(request, 304);","            headers[\"content-length\"] = \"\" + stat.size;","        }","","        // TODO sendfile","        return {","            status: status,","            headers: headers,","            body: fs.open(path, options),","            file: path,","            range: range","        };","    });","};","","var rangesExpression = /^\\s*bytes\\s*=\\s*(\\d*\\s*-\\s*\\d*\\s*(?:,\\s*\\d*\\s*-\\s*\\d*\\s*)*)$/;","var rangeExpression = /^\\s*(\\d*)\\s*-\\s*(\\d*)\\s*$/;","","var interpretRange = function (text, size) {","    var match = rangeExpression.exec(text);","    if (!match)","        return;","    if (match[1] == \"\" && match[2] == \"\")","        return;","    var begin, end;","    if (match[1] == \"\") {","        begin = 0;","        end = +match[2] + 1;","    } else if (match[2] == \"\") {","        begin = +match[1];","        end = size;","    } else {","        begin = +match[1];","        end = +match[2] + 1;","    }","    return {","        begin: begin,","        end: end","    };","};","","var interpretFirstRange = exports.interpretFirstRange = function (text, size) {","    var match = rangesExpression.exec(text);","    if (!match)","        return;","    var texts = match[1].split(/\\s*,\\s*/);","    var range = interpretRange(texts[0], size);","    for (var i = 0, ii = texts.length; i < ii; i++) {","        var next = interpretRange(texts[i], size);","        if (next.begin <= range.end) {","            range.end = next.end;","        } else {","            return; // Can't satisfy non-contiguous ranges TODO","        }","    }","    return range;","};","","/**"," * @param {Stat}"," * @returns {String}"," */","exports.etag = function (stat) {","    return [","        stat.node.ino,","        stat.size,","        stat.lastModified().getTime()","    ].join(\"-\");","};","","/**"," * @param {Request} request"," * @param {String} path"," * @param {Response}"," */","exports.directory = function (request, path) {","    var response = StatusApps.notFound(request);","    response.directory = path;","    return response;","};","","exports.ListDirectories = function (app, listDirectory) {","    listDirectory = listDirectory || exports.listDirectory;","    return function (request) {","        if (request.directoryIndex) {","            throw new Error(\"DirectoryIndex must be used after ListDirectories\");","        }","        request.listDirectories = true;","        return Q.fcall(app, request)","        .then(function (response) {","            if (response.directory !== void 0) {","                return listDirectory(request, response);","            } else {","                return response;","            }","        });","    };","};","","exports.listDirectory = function (request, response) {","    // TODO advisory to have JSON or HTML fragment handler.","    request.location = URL.parse(request.path);","    if (request.location.file) {","        return RedirectApps.redirect(request, request.location.file + \"/\");","    }","    var handlers = {};","    handlers[\"text/plain\"] = exports.listDirectoryText;","    handlers[\"text/markdown\"] = exports.listDirectoryMarkdown;","    if (request.handleHtmlFragmentResponse) {","        handlers[\"text/html\"] = exports.listDirectoryHtmlFragment;","    }","    if (request.handleJsonResponse) {","        handlers[\"application/json\"] = exports.listDirectoryJson;","    }","    var handleResponse = Negotiation.negotiate(request, handlers) || function () {","        return response;","    };","    return handleResponse(request, response);","};","","exports.listDirectoryHtmlFragment = function (request, response) {","    return exports.listDirectoryData(request, response)","    .then(function (data) {","        return {","            status: 200,","            headers: {","                \"content-type\": \"text/html\"","            },","            htmlTitle: \"Directory Index\",","            htmlFragment: {","                forEach: function (write) {","                    write(\"<ul class=\\\"directory-index\\\">\\n\");","                    Object.keys(data).sort().forEach(function (name) {","                        var stat = data[name];","                        var suffix = \"\";","                        if (stat.type === \"directory\") {","                            suffix = \"/\";","                        }","                        write(\"    <li class=\\\"entry \" + stat.type + \"\\\"><a href=\\\"\" + HtmlApps.escapeHtml(name + suffix) + \"\\\">\" + HtmlApps.escapeHtml(name + suffix) + \"</a></li>\\n\");","                    });","                    write(\"</ul>\\n\");","                }","            }","        };","    });","};","","exports.listDirectoryText = function (request, response) {","    return exports.listDirectoryData(request, response)","    .then(function (data) {","        return {","            status: 200,","            headers: {","                \"content-type\": \"text/plain\"","            },","            body: {","                forEach: function (write) {","                    Object.keys(data).sort().forEach(function (name) {","                        var stat = data[name];","                        var suffix = \"\";","                        if (stat.type === \"directory\") {","                            suffix = \"/\";","                        }","                        write(name + suffix + \"\\n\");","                    });","                }","            }","        };","    });","};","","exports.listDirectoryMarkdown = function (request, response) {","    return exports.listDirectoryData(request, response)","    .then(function (data) {","        return {","            status: 200,","            headers: {","                \"content-type\": \"text/plain\"","            },","            body: {","                forEach: function (write) {","                    write(\"\\n# Directory Index\\n\\n\");","                    Object.keys(data).forEach(function (name) {","                        var stat = data[name];","                        var suffix = \"\";","                        if (stat.type === \"directory\") {","                            suffix = \"/\";","                        }","                        write(\"-   \" + name + suffix + \"\\n\");","                    });","                    write(\"\\n\");","                }","            }","        };","    });","};","","exports.listDirectoryJson = function (request, response) {","    return exports.listDirectoryData(request, response)","    .then(function (data) {","        return {","            status: 200,","            headers: {},","            data: data","        };","    });","};","","exports.listDirectoryData = function (request, response) {","    if (!request.fs) {","        throw new Error(\"Can't list a directory without a designated file system\");","    }","    var fs = request.fs;","    return Q.invoke(fs, \"list\", response.directory)","    .then(function (list) {","        list.sort();","        return list.map(function (name) {","            return Q.invoke(fs, \"stat\", fs.join(response.directory, name))","            .then(function (stat) {","                if (stat.isDirectory()) {","                    return {name: name, stat: {","                        type: \"directory\"","                    }};","                } else if (stat.isFile()) {","                    return {name: name, stat: {","                        type: \"file\"","                    }};","                }","            }, function () {","                // ignore unstatable entries","            });","        })","    })","    .all()","    .then(function (stats) {","        var data = {};","        stats.forEach(function (entry) {","            if (entry) {","                data[entry.name] = entry.stat;","            }","        });","        return data;","    });","};","","exports.DirectoryIndex = function (app, indexFile) {","    indexFile = indexFile || \"index.html\";","    return function (request) {","        request.directoryIndex = true;","        request.location = URL.parse(request.path);","        // redirect index.html to containing directory","        // TODO worry about whether this file actually exists","        if (request.location.file === indexFile) {","            return RedirectApps.redirect(request, \".\");","        } else {","            return Q.fcall(app, request)","            .then(function (response) {","                if (response.directory !== void 0) {","                    if (request.location.file) {","                        return RedirectApps.redirect(request, request.location.file + \"/\");","                    } else {","                        var index = request.fs.join(response.directory, indexFile);","                        return Q.invoke(request.fs, \"isFile\", index)","                        .then(function (isFile) {","                            if (isFile) {","                                request.url = URL.resolve(request.url, indexFile);","                                request.pathInfo += indexFile;","                                return app(request);","                            } else {","                                return response;","                            }","                        });","                    }","                } else {","                    return response;","                }","            });","        }","    };","};","",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"17":1,"18":0,"19":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"53":0,"54":0,"55":0,"57":0,"58":0,"59":0,"61":0,"62":0,"63":0,"64":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"77":0,"83":1,"84":0,"86":0,"87":0,"88":0,"89":0,"92":0,"93":0,"94":0,"100":0,"102":0,"109":0,"111":0,"112":0,"113":0,"115":0,"116":0,"118":0,"119":0,"124":0,"125":0,"126":0,"128":0,"136":0,"137":0,"138":0,"142":0,"152":1,"153":1,"155":1,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"169":0,"170":0,"172":0,"178":1,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"189":0,"192":0,"199":1,"200":0,"212":1,"213":0,"214":0,"215":0,"218":1,"219":0,"220":0,"221":0,"222":0,"224":0,"225":0,"227":0,"228":0,"230":0,"236":1,"238":0,"239":0,"240":0,"242":0,"243":0,"244":0,"245":0,"246":0,"248":0,"249":0,"251":0,"252":0,"254":0,"257":1,"258":0,"260":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"275":0,"277":0,"284":1,"285":0,"287":0,"294":0,"295":0,"296":0,"297":0,"298":0,"300":0,"308":1,"309":0,"311":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"325":0,"327":0,"334":1,"335":0,"337":0,"345":1,"346":0,"347":0,"349":0,"350":0,"352":0,"353":0,"354":0,"356":0,"357":0,"360":0,"361":0,"372":0,"373":0,"374":0,"375":0,"378":0,"382":1,"383":0,"384":0,"385":0,"386":0,"389":0,"390":0,"392":0,"394":0,"395":0,"396":0,"398":0,"399":0,"401":0,"402":0,"403":0,"404":0,"406":0,"411":0}}}